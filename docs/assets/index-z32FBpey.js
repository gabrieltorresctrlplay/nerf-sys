(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Yv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kd={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function dA(){if(a0)return bl;a0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return bl.Fragment=e,bl.jsx=n,bl.jsxs=n,bl}var o0;function mA(){return o0||(o0=1,Kd.exports=dA()),Kd.exports}var E=mA(),Yd={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function gA(){if(l0)return Ae;l0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function z(k){return k===null||typeof k!="object"?null:(k=D&&k[D]||k["@@iterator"],typeof k=="function"?k:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function le(k,X,ie){this.props=k,this.context=X,this.refs=J,this.updater=ie||$}le.prototype.isReactComponent={},le.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},le.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ne(){}ne.prototype=le.prototype;function ue(k,X,ie){this.props=k,this.context=X,this.refs=J,this.updater=ie||$}var Ie=ue.prototype=new ne;Ie.constructor=ue,W(Ie,le.prototype),Ie.isPureReactComponent=!0;var me=Array.isArray;function Ee(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(k,X,ie){var ae=ie.ref;return{$$typeof:s,type:k,key:X,ref:ae!==void 0?ae:null,props:ie}}function V(k,X){return I(k.type,X,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function O(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return X[ie]})}var R=/\/+/g;function he(k,X){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):X.toString(36)}function Ne(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ee,Ee):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,X,ie,ae,Te){var Re=typeof k;(Re==="undefined"||Re==="boolean")&&(k=null);var ze=!1;if(k===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(k.$$typeof){case s:case e:ze=!0;break;case b:return ze=k._init,F(ze(k._payload),X,ie,ae,Te)}}if(ze)return Te=Te(k),ze=ae===""?"."+he(k,0):ae,me(Te)?(ie="",ze!=null&&(ie=ze.replace(R,"$&/")+"/"),F(Te,X,ie,"",function(ur){return ur})):Te!=null&&(x(Te)&&(Te=V(Te,ie+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+ze)),X.push(Te)),1;ze=0;var Ot=ae===""?".":ae+":";if(me(k))for(var ot=0;ot<k.length;ot++)ae=k[ot],Re=Ot+he(ae,ot),ze+=F(ae,X,ie,Re,Te);else if(ot=z(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(ae=k.next()).done;)ae=ae.value,Re=Ot+he(ae,ot++),ze+=F(ae,X,ie,Re,Te);else if(Re==="object"){if(typeof k.then=="function")return F(Ne(k),X,ie,ae,Te);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ze}function te(k,X,ie){if(k==null)return k;var ae=[],Te=0;return F(k,ae,"","",function(Re){return X.call(ie,Re,Te++)}),ae}function fe(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var Ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:te,forEach:function(k,X,ie){te(k,function(){X.apply(this,arguments)},ie)},count:function(k){var X=0;return te(k,function(){X++}),X},toArray:function(k){return te(k,function(X){return X})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=S,Ae.Children=Ge,Ae.Component=le,Ae.Fragment=n,Ae.Profiler=l,Ae.PureComponent=ue,Ae.StrictMode=r,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,X,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=W({},k.props),Te=k.key;if(X!=null)for(Re in X.key!==void 0&&(Te=""+X.key),X)!w.call(X,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&X.ref===void 0||(ae[Re]=X[Re]);var Re=arguments.length-2;if(Re===1)ae.children=ie;else if(1<Re){for(var ze=Array(Re),Ot=0;Ot<Re;Ot++)ze[Ot]=arguments[Ot+2];ae.children=ze}return I(k.type,Te,ae)},Ae.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ae.createElement=function(k,X,ie){var ae,Te={},Re=null;if(X!=null)for(ae in X.key!==void 0&&(Re=""+X.key),X)w.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Te[ae]=X[ae]);var ze=arguments.length-2;if(ze===1)Te.children=ie;else if(1<ze){for(var Ot=Array(ze),ot=0;ot<ze;ot++)Ot[ot]=arguments[ot+2];Te.children=Ot}if(k&&k.defaultProps)for(ae in ze=k.defaultProps,ze)Te[ae]===void 0&&(Te[ae]=ze[ae]);return I(k,Re,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:g,render:k}},Ae.isValidElement=x,Ae.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:fe}},Ae.memo=function(k,X){return{$$typeof:_,type:k,compare:X===void 0?null:X}},Ae.startTransition=function(k){var X=C.T,ie={};C.T=ie;try{var ae=k(),Te=C.S;Te!==null&&Te(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ee,Ue)}catch(Re){Ue(Re)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),C.T=X}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(k){return C.H.use(k)},Ae.useActionState=function(k,X,ie){return C.H.useActionState(k,X,ie)},Ae.useCallback=function(k,X){return C.H.useCallback(k,X)},Ae.useContext=function(k){return C.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,X){return C.H.useDeferredValue(k,X)},Ae.useEffect=function(k,X){return C.H.useEffect(k,X)},Ae.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(k,X,ie){return C.H.useImperativeHandle(k,X,ie)},Ae.useInsertionEffect=function(k,X){return C.H.useInsertionEffect(k,X)},Ae.useLayoutEffect=function(k,X){return C.H.useLayoutEffect(k,X)},Ae.useMemo=function(k,X){return C.H.useMemo(k,X)},Ae.useOptimistic=function(k,X){return C.H.useOptimistic(k,X)},Ae.useReducer=function(k,X,ie){return C.H.useReducer(k,X,ie)},Ae.useRef=function(k){return C.H.useRef(k)},Ae.useState=function(k){return C.H.useState(k)},Ae.useSyncExternalStore=function(k,X,ie){return C.H.useSyncExternalStore(k,X,ie)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var u0;function qm(){return u0||(u0=1,Yd.exports=gA()),Yd.exports}var de=qm();const pA=Yv(de);var Xd={exports:{}},Al={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function yA(){return c0||(c0=1,(function(s){function e(F,te){var fe=F.length;F.push(te);e:for(;0<fe;){var Ue=fe-1>>>1,Ge=F[Ue];if(0<l(Ge,te))F[Ue]=te,F[fe]=Ge,fe=Ue;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],fe=F.pop();if(fe!==te){F[0]=fe;e:for(var Ue=0,Ge=F.length,k=Ge>>>1;Ue<k;){var X=2*(Ue+1)-1,ie=F[X],ae=X+1,Te=F[ae];if(0>l(ie,fe))ae<Ge&&0>l(Te,ie)?(F[Ue]=Te,F[ae]=fe,Ue=ae):(F[Ue]=ie,F[X]=fe,Ue=X);else if(ae<Ge&&0>l(Te,fe))F[Ue]=Te,F[ae]=fe,Ue=ae;else break e}}return te}function l(F,te){var fe=F.sortIndex-te.sortIndex;return fe!==0?fe:F.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],_=[],b=1,S=null,D=3,z=!1,$=!1,W=!1,J=!1,le=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ie(F){for(var te=n(_);te!==null;){if(te.callback===null)r(_);else if(te.startTime<=F)r(_),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(_)}}function me(F){if(W=!1,Ie(F),!$)if(n(p)!==null)$=!0,Ee||(Ee=!0,O());else{var te=n(_);te!==null&&Ne(me,te.startTime-F)}}var Ee=!1,C=-1,w=5,I=-1;function V(){return J?!0:!(s.unstable_now()-I<w)}function x(){if(J=!1,Ee){var F=s.unstable_now();I=F;var te=!0;try{e:{$=!1,W&&(W=!1,ne(C),C=-1),z=!0;var fe=D;try{t:{for(Ie(F),S=n(p);S!==null&&!(S.expirationTime>F&&V());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,D=S.priorityLevel;var Ge=Ue(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ge=="function"){S.callback=Ge,Ie(F),te=!0;break t}S===n(p)&&r(p),Ie(F)}else r(p);S=n(p)}if(S!==null)te=!0;else{var k=n(_);k!==null&&Ne(me,k.startTime-F),te=!1}}break e}finally{S=null,D=fe,z=!1}te=void 0}}finally{te?O():Ee=!1}}}var O;if(typeof ue=="function")O=function(){ue(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,he=R.port2;R.port1.onmessage=x,O=function(){he.postMessage(null)}}else O=function(){le(x,0)};function Ne(F,te){C=le(function(){F(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var te=3;break;default:te=D}var fe=D;D=te;try{return F()}finally{D=fe}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=D;D=F;try{return te()}finally{D=fe}},s.unstable_scheduleCallback=function(F,te,fe){var Ue=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ue+fe:Ue):fe=Ue,F){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=fe+Ge,F={id:b++,callback:te,priorityLevel:F,startTime:fe,expirationTime:Ge,sortIndex:-1},fe>Ue?(F.sortIndex=fe,e(_,F),n(p)===null&&F===n(_)&&(W?(ne(C),C=-1):W=!0,Ne(me,fe-Ue))):(F.sortIndex=Ge,e(p,F),$||z||($=!0,Ee||(Ee=!0,O()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var te=D;return function(){var fe=D;D=te;try{return F.apply(this,arguments)}finally{D=fe}}}})(Zd)),Zd}var h0;function _A(){return h0||(h0=1,$d.exports=yA()),$d.exports}var Jd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function vA(){if(f0)return Xt;f0=1;var s=qm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,b)},Xt.flushSync=function(p){var _=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=_,r.p=b,r.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var b=_.as,S=g(b,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:z}):b==="script"&&r.d.X(p,{crossOrigin:S,integrity:D,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=g(b,_.crossOrigin);r.d.L(p,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var b=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,b){return f.H.useFormState(p,_,b)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var d0;function EA(){if(d0)return Jd.exports;d0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=vA(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function TA(){if(m0)return Al;m0=1;var s=_A(),e=qm(),n=EA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,o=d;break}if(T===o){y=!0,o=h,a=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===a){y=!0,a=d,o=h;break}if(T===o){y=!0,o=d,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case le:return"Profiler";case J:return"StrictMode";case me:return"Suspense";case Ee:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ue:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case Ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:he(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return he(t(i))}catch{}}return null}var Ne=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function k(t){return{current:t}}function X(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ie(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var ae=k(null),Te=k(null),Re=k(null),ze=k(null);function Ot(t,i){switch(ie(Re,i),ie(Te,t),ie(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?I_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=I_(i),t=N_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),ie(ae,t)}function ot(){X(ae),X(Te),X(Re)}function ur(t){t.memoizedState!==null&&ie(ze,t);var i=ae.current,a=N_(i,t.type);i!==a&&(ie(Te,t),ie(ae,a))}function ta(t){Te.current===t&&(X(ae),X(Te)),ze.current===t&&(X(ze),_l._currentValue=fe)}var na,ia;function ni(t){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var _o=!1;function cr(t,i){if(!t||_o)return"";_o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var N=y.split(`
`),P=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===P.length)for(o=N.length-1,h=P.length-1;1<=o&&0<=h&&N[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==P[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{_o=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function vo(t,i){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return cr(t.type,!1);case 11:return cr(t.type.render,!1);case 1:return cr(t.type,!0);case 31:return ni("Activity");default:return""}}function Eo(t){try{var i="",a=null;do i+=vo(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,us=s.unstable_cancelCallback,Yh=s.unstable_shouldYield,ou=s.unstable_requestPaint,en=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,bo=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,Xh=s.unstable_LowPriority,lu=s.unstable_IdlePriority,uu=s.log,cu=s.unstable_setDisableYieldValue,Bn=null,zt=null;function wn(t){if(typeof uu=="function"&&cu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:fu,hu=Math.log,sa=Math.LN2;function fu(t){return t>>>=0,t===0?32:31-(hu(t)/sa|0)|0}var ii=256,fr=262144,Et=4194304;function si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=si(o):(y&=T,y!==0?h=si(y):a||(a=T&~t,a!==0&&(h=si(a))))):(T=o&~d,T!==0?h=si(T):y!==0?h=si(y):a||(a=o&~t,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $h(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zh(t,i,a,o,h,d){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-mt(a),Y=1<<G;T[G]=0,N[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~Y}o!==0&&mr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~i))}function mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-mt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ao(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function So(t,i){var a=i&-i;return a=(a&42)!==0?1:gr(a),(a&(t.suspendedLanes|i))!==0?0:a}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function Hn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,jt="__reactProps$"+Fn,oi="__reactContainer$"+Fn,ra="__reactEvents$"+Fn,Jh="__reactListeners$"+Fn,gu="__reactHandles$"+Fn,pu="__reactResources$"+Fn,li="__reactMarker$"+Fn;function aa(t){delete t[Tt],delete t[jt],delete t[ra],delete t[Jh],delete t[gu]}function ui(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[oi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=L_(t);t!==null;){if(a=t[Tt])return a;t=L_(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[Tt]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ci(t){var i=t[pu];return i||(i=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[li]=!0}var wo=new Set,xo={};function hi(t,i){fi(t,i),fi(t+"Capture",i)}function fi(t,i){for(xo[t]=i,t=0;t<i.length;t++)wo.add(i[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Io={};function yu(t){return vt.call(Io,t)?!0:vt.call(Co,t)?!1:Ro.test(t)?Io[t]=!0:(Co[t]=!0,!1)}function oa(t,i,a){if(yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function No(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=hs(t)?"checked":"value";t._valueTracker=No(t,i,""+t[i])}}function pr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=hs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yr=/[\n"\\]/g;function sn(t){return t.replace(yr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(t,i,a,o,h,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?Do(t,y,Lt(i)):a!=null?Do(t,y,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function _u(t,i,a,o,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Xe(t)}function Do(t,i,a){i==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function vu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function ds(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ne(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Oo(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Oo(t,d,i[d])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Mo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,mi=null;function _r(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(r(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&pr(o)}break e;case"textarea":vu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&fs(t,!!a.multiple,i,!1)}}}var ha=!1;function ps(t,i,a){if(ha)return t(i,a);ha=!0;try{var o=t(i);return o}finally{if(ha=!1,(gs!==null||mi!==null)&&(mc(),gs&&(i=gs,t=mi,mi=gs=null,_r(i),t)))for(i=0;i<t.length;i++)_r(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Cn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{vr=!1}var gi=null,ko=null,Er=null;function jo(){if(Er)return Er;var t,i=ko,a=i.length,o,h="value"in gi?gi.value:gi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&i[a-o]===h[d-o];o++);return Er=h.slice(t,1<o?1-o:void 0)}function Tr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Kn(){return!1}function Bt(t){function i(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Kn,this.isPropagationStopped=Kn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Bt(Mi),ys=S({},Mi,{view:0,detail:0}),Lo=Bt(ys),_s,fa,yi,da=S({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(_s=t.screenX-yi.screenX,fa=t.screenY-yi.screenY):fa=_s=0,yi=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Uo=Bt(da),br=S({},da,{dataTransfer:0}),bu=Bt(br),Au=S({},ys,{relatedTarget:0}),Ar=Bt(Au),Po=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Bt(Po),ma=S({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Bt(ma),xu=S({},Mi,{data:0}),_i=Bt(xu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Iu[t])?!!i[t]:!1}function vs(){return Nu}var tn=S({},ys,{key:function(t){if(t.key){var i=Ru[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Bt(tn),Ou=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Bt(Ou),c=S({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=Bt(c),v=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),L=S({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(L),ee=S({},Mi,{newState:0,oldState:0}),we=Bt(ee),gt=[9,13,27,32],Qe=Cn&&"CompositionEvent"in window,lt=null;Cn&&"documentMode"in document&&(lt=document.documentMode);var In=Cn&&"TextEvent"in window&&!lt,vi=Cn&&(!Qe||lt&&8<lt&&11>=lt),Yn=" ",Xn=!1;function Sr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function LT(t,i){switch(t){case"compositionend":return ga(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function UT(t,i){if(pa)return t==="compositionend"||!Qe&&Sr(t,i)?(t=jo(),Er=ko=gi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!PT[t.type]:i==="textarea"}function Bg(t,i,a,o){gs?mi?mi.push(o):mi=[o]:gs=o,i=Tc(i,"onChange"),0<i.length&&(a=new pi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var zo=null,Bo=null;function zT(t){A_(t,0)}function Vu(t){var i=gn(t);if(pr(i))return t}function qg(t,i){if(t==="change")return i}var Hg=!1;if(Cn){var Wh;if(Cn){var ef="oninput"in document;if(!ef){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),ef=typeof Fg.oninput=="function"}Wh=ef}else Wh=!1;Hg=Wh&&(!document.documentMode||9<document.documentMode)}function Gg(){zo&&(zo.detachEvent("onpropertychange",Qg),Bo=zo=null)}function Qg(t){if(t.propertyName==="value"&&Vu(Bo)){var i=[];Bg(i,Bo,t,Rn(t)),ps(zT,i)}}function BT(t,i,a){t==="focusin"?(Gg(),zo=i,Bo=a,zo.attachEvent("onpropertychange",Qg)):t==="focusout"&&Gg()}function qT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Bo)}function HT(t,i){if(t==="click")return Vu(i)}function FT(t,i){if(t==="input"||t==="change")return Vu(i)}function GT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:GT;function qo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,i){var a=Kg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=di(t.document)}return i}function tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var QT=Cn&&"documentMode"in document&&11>=document.documentMode,ya=null,nf=null,Ho=null,sf=!1;function Zg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||ya==null||ya!==di(o)||(o=ya,"selectionStart"in o&&tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=Tc(nf,"onSelect"),0<o.length&&(i=new pi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ya)))}function wr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},rf={},Jg={};Cn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function xr(t){if(rf[t])return rf[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jg)return rf[t]=i[a];return t}var Wg=xr("animationend"),ep=xr("animationiteration"),tp=xr("animationstart"),KT=xr("transitionrun"),YT=xr("transitionstart"),XT=xr("transitioncancel"),np=xr("transitionend"),ip=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function $n(t,i){ip.set(t,i),hi(i,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],va=0,of=0;function ku(){for(var t=va,i=of=va=0;i<t;){var a=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&sp(a,h,d)}}function ju(t,i,a,o){Nn[va++]=t,Nn[va++]=i,Nn[va++]=a,Nn[va++]=o,of|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function lf(t,i,a,o){return ju(t,i,a,o),Lu(t)}function Rr(t,i){return ju(t,null,null,i),Lu(t)}function sp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<hl)throw hl=0,yd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function $T(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,o){return new $T(t,i,a,o)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,o,h,d){var y=0;if(o=t,typeof t=="function")uf(t)&&(y=1);else if(typeof t=="string")y=tA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,i,h),t.elementType=I,t.lanes=d,t;case W:return Cr(a.children,h,d,i);case J:y=8,h|=24;break;case le:return t=_n(12,a,i,h|2),t.elementType=le,t.lanes=d,t;case me:return t=_n(13,a,i,h),t.elementType=me,t.lanes=d,t;case Ee:return t=_n(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:y=10;break e;case ne:y=9;break e;case Ie:y=11;break e;case C:y=14;break e;case w:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=_n(y,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Cr(t,i,a,o){return t=_n(7,t,o,i),t.lanes=a,t}function cf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function ap(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function hf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var op=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=op.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Eo(i)},op.set(t,i),i)}return{value:t,source:i,stack:Eo(i)}}var Ta=[],ba=0,Pu=null,Fo=0,On=[],Vn=0,Es=null,Ei=1,Ti="";function Li(t,i){Ta[ba++]=Fo,Ta[ba++]=Pu,Pu=t,Fo=i}function lp(t,i,a){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=Es,Es=t;var o=Ei;t=Ti;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ei=1<<32-mt(i)+h|a<<h|o,Ti=d+t}else Ei=1<<d|a<<h|o,Ti=t}function ff(t){t.return!==null&&(Li(t,1),lp(t,1,0))}function df(t){for(;t===Pu;)Pu=Ta[--ba],Ta[ba]=null,Fo=Ta[--ba],Ta[ba]=null;for(;t===Es;)Es=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null,Ei=On[--Vn],On[Vn]=null}function up(t,i){On[Vn++]=Ei,On[Vn++]=Ti,On[Vn++]=Es,Ei=i.id,Ti=i.overflow,Es=t}var qt=null,st=null,Pe=!1,Ts=null,Mn=!1,mf=Error(r(519));function bs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Dn(i,t)),mf}function cp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[jt]=o,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Oe(dl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),_u(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),ds(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||R_(i.textContent,a)?(o.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),o.onScroll!=null&&Oe("scroll",i),o.onScrollEnd!=null&&Oe("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||bs(t,!0)}function hp(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Aa(t){if(t!==qt)return!1;if(!Pe)return hp(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&st&&bs(t),hp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=j_(t)}else i===27?(i=st,js(t.type)?(t=Ld,Ld=null,st=t):st=i):st=qt?jn(t.stateNode.nextSibling):null;return!0}function Ir(){st=qt=null,Pe=!1}function gf(){var t=Ts;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ts=null),t}function Go(t){Ts===null?Ts=[t]:Ts.push(t)}var pf=k(null),Nr=null,Ui=null;function As(t,i,a){ie(pf,i._currentValue),i._currentValue=a}function Pi(t){t._currentValue=pf.current,X(pf)}function yf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function _f(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yf(d.return,a,t),o||(y=null);break e}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),yf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;yn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&_f(i,t,a,o),i.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Nr=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return fp(Nr,t)}function Bu(t,i){return Nr===null&&Dr(t),fp(t,i)}function fp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(r(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var ZT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},JT=s.unstable_scheduleCallback,WT=s.unstable_NormalPriority,St={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new ZT,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&JT(WT,function(){t.controller.abort()})}var Ko=null,Ef=0,wa=0,xa=null;function eb(t,i){if(Ko===null){var a=Ko=[];Ef=0,wa=Ad(),xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,i.then(dp,dp),i}function dp(){if(--Ef===0&&Ko!==null){xa!==null&&(xa.status="fulfilled");var t=Ko;Ko=null,wa=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var mp=F.S;F.S=function(t,i){Zy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eb(t,i),mp!==null&&mp(t,i)};var Or=k(null);function Tf(){var t=Or.current;return t!==null?t:nt.pooledCache}function qu(t,i){i===null?ie(Or,Or.current):ie(Or,i.pool)}function gp(){var t=Tf();return t===null?null:{parent:St._currentValue,pool:t}}var Ra=Error(r(460)),bf=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vp(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vp(t),t}throw Mr=i,Ra}}function Vr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mr=a,Ra):a}}var Mr=null;function _p(){if(Mr===null)throw Error(r(459));var t=Mr;return Mr=null,t}function vp(t){if(t===Ra||t===Hu)throw Error(r(483))}var Ca=null,Yo=0;function Gu(t){var i=Yo;return Yo+=1,Ca===null&&(Ca=[]),yp(Ca,t,i)}function Xo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ep(t){function i(j,M){if(t){var U=j.deletions;U===null?(j.deletions=[M],j.flags|=16):U.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function o(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=ji(j,M),j.index=0,j.sibling=null,j}function d(j,M,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<M?(j.flags|=67108866,M):U):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,U,Q){return M===null||M.tag!==6?(M=cf(U,j.mode,Q),M.return=j,M):(M=h(M,U),M.return=j,M)}function N(j,M,U,Q){var ge=U.type;return ge===W?G(j,M,U.props.children,Q,U.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Vr(ge)===M.type)?(M=h(M,U.props),Xo(M,U),M.return=j,M):(M=Uu(U.type,U.key,U.props,null,j.mode,Q),Xo(M,U),M.return=j,M)}function P(j,M,U,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=hf(U,j.mode,Q),M.return=j,M):(M=h(M,U.children||[]),M.return=j,M)}function G(j,M,U,Q,ge){return M===null||M.tag!==7?(M=Cr(U,j.mode,Q,ge),M.return=j,M):(M=h(M,U),M.return=j,M)}function Y(j,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cf(""+M,j.mode,U),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return U=Uu(M.type,M.key,M.props,null,j.mode,U),Xo(U,M),U.return=j,U;case $:return M=hf(M,j.mode,U),M.return=j,M;case w:return M=Vr(M),Y(j,M,U)}if(Ne(M)||O(M))return M=Cr(M,j.mode,U,null),M.return=j,M;if(typeof M.then=="function")return Y(j,Gu(M),U);if(M.$$typeof===ue)return Y(j,Bu(j,M),U);Qu(j,M)}return null}function B(j,M,U,Q){var ge=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:T(j,M,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return U.key===ge?N(j,M,U,Q):null;case $:return U.key===ge?P(j,M,U,Q):null;case w:return U=Vr(U),B(j,M,U,Q)}if(Ne(U)||O(U))return ge!==null?null:G(j,M,U,Q,null);if(typeof U.then=="function")return B(j,M,Gu(U),Q);if(U.$$typeof===ue)return B(j,M,Bu(j,U),Q);Qu(j,U)}return null}function H(j,M,U,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(U)||null,T(M,j,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return j=j.get(Q.key===null?U:Q.key)||null,N(M,j,Q,ge);case $:return j=j.get(Q.key===null?U:Q.key)||null,P(M,j,Q,ge);case w:return Q=Vr(Q),H(j,M,U,Q,ge)}if(Ne(Q)||O(Q))return j=j.get(U)||null,G(M,j,Q,ge,null);if(typeof Q.then=="function")return H(j,M,U,Gu(Q),ge);if(Q.$$typeof===ue)return H(j,M,U,Bu(M,Q),ge);Qu(M,Q)}return null}function oe(j,M,U,Q){for(var ge=null,He=null,ce=M,Ce=M=0,Me=null;ce!==null&&Ce<U.length;Ce++){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var Fe=B(j,ce,U[Ce],Q);if(Fe===null){ce===null&&(ce=Me);break}t&&ce&&Fe.alternate===null&&i(j,ce),M=d(Fe,M,Ce),He===null?ge=Fe:He.sibling=Fe,He=Fe,ce=Me}if(Ce===U.length)return a(j,ce),Pe&&Li(j,Ce),ge;if(ce===null){for(;Ce<U.length;Ce++)ce=Y(j,U[Ce],Q),ce!==null&&(M=d(ce,M,Ce),He===null?ge=ce:He.sibling=ce,He=ce);return Pe&&Li(j,Ce),ge}for(ce=o(ce);Ce<U.length;Ce++)Me=H(ce,j,Ce,U[Ce],Q),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ce:Me.key),M=d(Me,M,Ce),He===null?ge=Me:He.sibling=Me,He=Me);return t&&ce.forEach(function(Bs){return i(j,Bs)}),Pe&&Li(j,Ce),ge}function ye(j,M,U,Q){if(U==null)throw Error(r(151));for(var ge=null,He=null,ce=M,Ce=M=0,Me=null,Fe=U.next();ce!==null&&!Fe.done;Ce++,Fe=U.next()){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var Bs=B(j,ce,Fe.value,Q);if(Bs===null){ce===null&&(ce=Me);break}t&&ce&&Bs.alternate===null&&i(j,ce),M=d(Bs,M,Ce),He===null?ge=Bs:He.sibling=Bs,He=Bs,ce=Me}if(Fe.done)return a(j,ce),Pe&&Li(j,Ce),ge;if(ce===null){for(;!Fe.done;Ce++,Fe=U.next())Fe=Y(j,Fe.value,Q),Fe!==null&&(M=d(Fe,M,Ce),He===null?ge=Fe:He.sibling=Fe,He=Fe);return Pe&&Li(j,Ce),ge}for(ce=o(ce);!Fe.done;Ce++,Fe=U.next())Fe=H(ce,j,Ce,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&ce.delete(Fe.key===null?Ce:Fe.key),M=d(Fe,M,Ce),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&ce.forEach(function(fA){return i(j,fA)}),Pe&&Li(j,Ce),ge}function tt(j,M,U,Q){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case z:e:{for(var ge=U.key;M!==null;){if(M.key===ge){if(ge=U.type,ge===W){if(M.tag===7){a(j,M.sibling),Q=h(M,U.props.children),Q.return=j,j=Q;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Vr(ge)===M.type){a(j,M.sibling),Q=h(M,U.props),Xo(Q,U),Q.return=j,j=Q;break e}a(j,M);break}else i(j,M);M=M.sibling}U.type===W?(Q=Cr(U.props.children,j.mode,Q,U.key),Q.return=j,j=Q):(Q=Uu(U.type,U.key,U.props,null,j.mode,Q),Xo(Q,U),Q.return=j,j=Q)}return y(j);case $:e:{for(ge=U.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(j,M.sibling),Q=h(M,U.children||[]),Q.return=j,j=Q;break e}else{a(j,M);break}else i(j,M);M=M.sibling}Q=hf(U,j.mode,Q),Q.return=j,j=Q}return y(j);case w:return U=Vr(U),tt(j,M,U,Q)}if(Ne(U))return oe(j,M,U,Q);if(O(U)){if(ge=O(U),typeof ge!="function")throw Error(r(150));return U=ge.call(U),ye(j,M,U,Q)}if(typeof U.then=="function")return tt(j,M,Gu(U),Q);if(U.$$typeof===ue)return tt(j,M,Bu(j,U),Q);Qu(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(j,M.sibling),Q=h(M,U),Q.return=j,j=Q):(a(j,M),Q=cf(U,j.mode,Q),Q.return=j,j=Q),y(j)):a(j,M)}return function(j,M,U,Q){try{Yo=0;var ge=tt(j,M,U,Q);return Ca=null,ge}catch(ce){if(ce===Ra||ce===Hu)throw ce;var He=_n(29,ce,null,j.mode);return He.lanes=Q,He.return=j,He}finally{}}}var kr=Ep(!0),Tp=Ep(!1),Ss=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Lu(t),sp(t,null,a),i}return ju(t,o,i,a),Lu(t)}function $o(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ao(t,a)}}function wf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var xf=!1;function Zo(){if(xf){var t=xa;if(t!==null)throw t}}function Jo(t,i,a,o){xf=!1;var h=t.updateQueue;Ss=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,P=N.next;N.next=null,y===null?d=P:y.next=P,y=N;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==y&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=N))}if(d!==null){var Y=h.baseState;y=0,G=P=N=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ve&B)===B:(o&B)===B){B!==0&&B===wa&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,ye=T;B=i;var tt=a;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){Y=oe.call(tt,Y,B);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,B=typeof oe=="function"?oe.call(tt,Y,B):oe,B==null)break e;Y=S({},Y,B);break e;case 2:Ss=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,N=Y):G=G.next=H,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Ds|=y,t.lanes=y,t.memoizedState=Y}}function bp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Ap(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],i)}var Ia=k(null),Ku=k(0);function Sp(t,i){t=Yi,ie(Ku,t),ie(Ia,i),Yi=t|i.baseLanes}function Rf(){ie(Ku,Yi),ie(Ia,Ia.current)}function Cf(){Yi=Ku.current,X(Ia),X(Ku)}var vn=k(null),kn=null;function Rs(t){var i=t.alternate;ie(pt,pt.current&1),ie(vn,t),kn===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(kn=t)}function If(t){ie(pt,pt.current),ie(vn,t),kn===null&&(kn=t)}function wp(t){t.tag===22?(ie(pt,pt.current),ie(vn,t),kn===null&&(kn=t)):Cs()}function Cs(){ie(pt,pt.current),ie(vn,vn.current)}function En(t){X(vn),kn===t&&(kn=null),X(pt)}var pt=k(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,xe=null,We=null,wt=null,Xu=!1,Na=!1,jr=!1,$u=0,Wo=0,Da=null,nb=0;function ht(){throw Error(r(321))}function Nf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Df(t,i,a,o,h,d){return zi=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?ly:Qf,jr=!1,d=a(o,h),jr=!1,Na&&(d=Rp(i,a,o,h)),xp(t),d}function xp(t){F.H=nl;var i=We!==null&&We.next!==null;if(zi=0,wt=We=xe=null,Xu=!1,Wo=0,Da=null,i)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&zu(t)&&(xt=!0))}function Rp(t,i,a,o){xe=t;var h=0;do{if(Na&&(Da=null),Wo=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=uy,d=i(a,o)}while(Na);return d}function ib(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?el(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),i}function Of(){var t=$u!==0;return $u=0,t}function Vf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Mf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}zi=0,wt=We=xe=null,Na=!1,Wo=$u=0,Da=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?xe.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?xe.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?xe.memoizedState=wt=t:wt=wt.next=t}return wt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var i=Wo;return Wo+=1,Da===null&&(Da=[]),t=yp(Da,t,i),i=xe,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ly:Qf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===ue)return Ht(t)}throw Error(r(438,String(t)))}function kf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function Wu(t){var i=yt();return jf(i,We,t)}function jf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=y=null,N=null,P=i,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ve&Y)===Y:(zi&Y)===Y){var B=P.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===wa&&(G=!0);else if((zi&B)===B){P=P.next,B===wa&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(T=N=Y,y=d):N=N.next=Y,xe.lanes|=B,Ds|=B;Y=P.action,jr&&a(d,Y),d=P.hasEagerState?P.eagerState:a(d,Y)}else B={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(T=N=B,y=d):N=N.next=B,xe.lanes|=Y,Ds|=Y;P=P.next}while(P!==null&&P!==i);if(N===null?y=d:N.next=T,!yn(d,t.memoizedState)&&(xt=!0,G&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=y,t.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Lf(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);yn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Cp(t,i,a){var o=xe,h=yt(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!yn((We||h).memoizedState,a);if(y&&(h.memoizedState=a,xt=!0),h=h.queue,zf(Dp.bind(null,o,h,t),[t]),h.getSnapshot!==i||y||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Np.bind(null,o,h,a,i),null),nt===null)throw Error(r(349));d||(zi&127)!==0||Ip(o,i,a)}return a}function Ip(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=Zu(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Np(t,i,a,o){i.value=a,i.getSnapshot=o,Op(i)&&Vp(t)}function Dp(t,i,a){return a(function(){Op(i)&&Vp(t)})}function Op(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Vp(t){var i=Rr(t,2);i!==null&&cn(i,t,2)}function Uf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),jr){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Mp(t,i,a,o){return t.baseState=a,jf(t,We,typeof o=="function"?o:Bi)}function sb(t,i,a,o,h){if(nc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,kp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function kp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=F.T,y={};F.T=y;try{var T=a(h,o),N=F.S;N!==null&&N(y,T),jp(t,i,T)}catch(P){Pf(t,i,P)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=a(h,o),jp(t,i,d)}catch(P){Pf(t,i,P)}}function jp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Lp(t,i,o)},function(o){return Pf(t,i,o)}):Lp(t,i,a)}function Lp(t,i,a){i.status="fulfilled",i.value=a,Up(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,kp(t,a)))}function Pf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Up(i),i=i.next;while(i!==o)}t.action=null}function Up(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pp(t,i){return i}function zp(t,i){if(Pe){var a=nt.formState;if(a!==null){e:{var o=xe;if(Pe){if(st){t:{for(var h=st,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=jn(h.nextSibling),o=h.data==="F!";break e}}bs(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:i},a.queue=o,a=ry.bind(null,xe,o),o.dispatch=a,o=Uf(!1),d=Gf.bind(null,xe,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=sb.bind(null,xe,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Bp(t){var i=yt();return qp(i,We,t)}function qp(t,i,a){if(i=jf(t,i,Pp)[0],t=Wu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=el(i)}catch(y){throw y===Ra?Hu:y}else o=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Oa(9,{destroy:void 0},rb.bind(null,h,a),null)),[o,d,t]}function rb(t,i){t.action=i}function Hp(t){var i=yt(),a=We;if(a!==null)return qp(i,a,t);yt(),i=i.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Oa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Zu(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Fp(){return yt().memoizedState}function ec(t,i,a,o){var h=nn();xe.flags|=t,h.memoizedState=Oa(1|i,{destroy:void 0},a,o===void 0?null:o)}function tc(t,i,a,o){var h=yt();o=o===void 0?null:o;var d=h.memoizedState.inst;We!==null&&o!==null&&Nf(o,We.memoizedState.deps)?h.memoizedState=Oa(i,d,a,o):(xe.flags|=t,h.memoizedState=Oa(1|i,d,a,o))}function Gp(t,i){ec(8390656,8,t,i)}function zf(t,i){tc(2048,8,t,i)}function ab(t){xe.flags|=4;var i=xe.updateQueue;if(i===null)i=Zu(),xe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Qp(t){var i=yt().memoizedState;return ab({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Kp(t,i){return tc(4,2,t,i)}function Yp(t,i){return tc(4,4,t,i)}function Xp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $p(t,i,a){a=a!=null?a.concat([t]):null,tc(4,4,Xp.bind(null,i,t),a)}function Bf(){}function Zp(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Nf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Jp(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Nf(i,o[1]))return o[0];if(o=t(),jr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,i],o}function qf(t,i,a){return a===void 0||(zi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Wy(),xe.lanes|=t,Ds|=t,a)}function Wp(t,i,a,o){return yn(a,i)?a:Ia.current!==null?(t=qf(t,a,o),yn(t,i)||(xt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Ve&261930)===0?(xt=!0,t.memoizedState=a):(t=Wy(),xe.lanes|=t,Ds|=t,i)}function ey(t,i,a,o,h){var d=te.p;te.p=d!==0&&8>d?d:8;var y=F.T,T={};F.T=T,Gf(t,!1,i,a);try{var N=h(),P=F.S;if(P!==null&&P(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=tb(N,o);tl(t,i,G,An(t))}else tl(t,i,o,An(t))}catch(Y){tl(t,i,{then:function(){},status:"rejected",reason:Y},An())}finally{te.p=d,y!==null&&T.types!==null&&(y.types=T.types),F.T=y}}function ob(){}function Hf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=ty(t).queue;ey(t,h,i,fe,a===null?ob:function(){return ny(t),a(o)})}function ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ny(t){var i=ty(t);i.next===null&&(i=t.alternate.memoizedState),tl(t,i.next.queue,{},An())}function Ff(){return Ht(_l)}function iy(){return yt().memoizedState}function sy(){return yt().memoizedState}function lb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=ws(a);var o=xs(i,t,a);o!==null&&(cn(o,i,a),$o(o,i,a)),i={cache:vf()},t.payload=i;return}i=i.return}}function ub(t,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?ay(i,a):(a=lf(t,i,a,o),a!==null&&(cn(a,t,o),oy(a,i,o)))}function ry(t,i,a){var o=An();tl(t,i,a,o)}function tl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,T=d(y,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,y))return ju(t,i,h,0),nt===null&&ku(),!1}catch{}finally{}if(a=lf(t,i,h,o),a!==null)return cn(a,t,o),oy(a,i,o),!0}return!1}function Gf(t,i,a,o){if(o={lane:2,revertLane:Ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(r(479))}else i=lf(t,a,o,2),i!==null&&cn(i,t,2)}function nc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function ay(t,i){Na=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function oy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ao(t,a)}}var nl={readContext:Ht,use:Ju,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};nl.useEffectEvent=ht;var ly={readContext:Ht,use:Ju,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Gp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Xp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ec(4194308,4,t,i)},useInsertionEffect:function(t,i){ec(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var o=t();if(jr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=nn();if(a!==void 0){var h=a(i);if(jr){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=ub.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Uf(t);var i=t.queue,a=ry.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,i){var a=nn();return qf(a,t,i)},useTransition:function(){var t=Uf(!1);return t=ey.bind(null,xe,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=xe,h=nn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),nt===null)throw Error(r(349));(Ve&127)!==0||Ip(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Gp(Dp.bind(null,o,d,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},Np.bind(null,o,d,a,i),null),a},useId:function(){var t=nn(),i=nt.identifierPrefix;if(Pe){var a=Ti,o=Ei;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=nb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gf.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:kf,useCacheRefresh:function(){return nn().memoizedState=lb.bind(null,xe)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:Ht,use:Ju,useCallback:Zp,useContext:Ht,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Wu,useRef:Fp,useState:function(){return Wu(Bi)},useDebugValue:Bf,useDeferredValue:function(t,i){var a=yt();return Wp(a,We.memoizedState,t,i)},useTransition:function(){var t=Wu(Bi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:el(t),i]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Ff,useFormState:Bp,useActionState:Bp,useOptimistic:function(t,i){var a=yt();return Mp(a,We,t,i)},useMemoCache:kf,useCacheRefresh:sy};Qf.useEffectEvent=Qp;var uy={readContext:Ht,use:Ju,useCallback:Zp,useContext:Ht,useEffect:zf,useImperativeHandle:$p,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Lf,useRef:Fp,useState:function(){return Lf(Bi)},useDebugValue:Bf,useDeferredValue:function(t,i){var a=yt();return We===null?qf(a,t,i):Wp(a,We.memoizedState,t,i)},useTransition:function(){var t=Lf(Bi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:el(t),i]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Ff,useFormState:Hp,useActionState:Hp,useOptimistic:function(t,i){var a=yt();return We!==null?Mp(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:sy};uy.useEffectEvent=Qp;function Kf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=An(),h=ws(o);h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,o),i!==null&&(cn(i,t,o),$o(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=An(),h=ws(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,o),i!==null&&(cn(i,t,o),$o(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),o=ws(a);o.tag=2,i!=null&&(o.callback=i),i=xs(t,o,a),i!==null&&(cn(i,t,a),$o(i,t,a))}};function cy(t,i,a,o,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,y):i.prototype&&i.prototype.isPureReactComponent?!qo(a,o)||!qo(h,d):!0}function hy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Yf.enqueueReplaceState(i,i.state,null)}function Lr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function fy(t){Mu(t)}function dy(t){console.error(t)}function my(t){Mu(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function gy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,i,a){return a=ws(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function py(t){return t=ws(t),t.tag=3,t}function yy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){gy(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gy(i,a,o),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function cb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Sa(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?gc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Fu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ed(t,o,h)),!1;case 22:return a.flags|=65536,o===Fu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ed(t,o,h)),!1}throw Error(r(435,a.tag))}return Ed(t,o,h),gc(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==mf&&(t=Error(r(422),{cause:o}),Go(Dn(t,a)))):(o!==mf&&(i=Error(r(423),{cause:o}),Go(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=Xf(t.stateNode,o,h),wf(t,h),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:o});if(d=Dn(d,a),cl===null?cl=[d]:cl.push(d),ft!==4&&(ft=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,o,t),wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Os===null||!Os.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),yy(h,t,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),xt=!1;function Ft(t,i,a,o){i.child=t===null?Tp(i,null,a,o):kr(i,t.child,a,o)}function _y(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return Dr(i),o=Df(t,i,a,y,d,h),T=Of(),t!==null&&!xt?(Vf(t,i,h),qi(t,i,h)):(Pe&&T&&ff(i),i.flags|=1,Ft(t,i,o,h),i.child)}function vy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ey(t,i,d,o,h)):(t=Uu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(y,o)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=ji(d,o),t.ref=i.ref,t.return=i,i.child=t}function Ey(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(qo(d,o)&&t.ref===i.ref)if(xt=!1,i.pendingProps=o=d,sd(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return Zf(t,i,a,o,h)}function Ty(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return by(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(i,d!==null?d.cachePool:null),d!==null?Sp(i,d):Rf(),wp(i);else return o=i.lanes=536870912,by(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(qu(i,d.cachePool),Sp(i,d),Cs(),i.memoizedState=null):(t!==null&&qu(i,null),Rf(),Cs());return Ft(t,i,h,a),i.child}function il(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function by(t,i,a,o,h){var d=Tf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&qu(i,null),Rf(),wp(i),t!==null&&Sa(t,i,o,!0),i.childLanes=h,null}function sc(t,i){return i=ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ay(t,i,a){return kr(i,t.child,null,a),t=sc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function hb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=sc(i,o),i.lanes=536870912,il(null,t);if(If(i),(t=st)?(t=k_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw bs(i);return i.lanes=536870912,null}return sc(i,o)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(If(i),h)if(i.flags&256)i.flags&=-257,i=Ay(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(xt||Sa(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(o=nt,o!==null&&(y=So(o,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Rr(t,y),cn(o,t,y),$f;gc(),i=Ay(t,i,a)}else t=d.treeContext,st=jn(y.nextSibling),qt=i,Pe=!0,Ts=null,Mn=!1,t!==null&&up(i,t),i=sc(i,o),i.flags|=4096;return i}return t=ji(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Zf(t,i,a,o,h){return Dr(i),a=Df(t,i,a,o,void 0,h),o=Of(),t!==null&&!xt?(Vf(t,i,h),qi(t,i,h)):(Pe&&o&&ff(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Sy(t,i,a,o,h,d){return Dr(i),i.updateQueue=null,a=Rp(i,o,a,h),xp(t),o=Of(),t!==null&&!xt?(Vf(t,i,d),qi(t,i,d)):(Pe&&o&&ff(i),i.flags|=1,Ft(t,i,a,d),i.child)}function wy(t,i,a,o,h){if(Dr(i),i.stateNode===null){var d=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ht(y)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Af(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ht(y):Ea,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Kf(i,a,y,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Yf.enqueueReplaceState(d,d.state,null),Jo(i,o,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Lr(a,T);d.props=N;var P=d.context,G=a.contextType;y=Ea,typeof G=="object"&&G!==null&&(y=Ht(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==y)&&hy(i,d,o,y),Ss=!1;var B=i.memoizedState;d.state=B,Jo(i,o,d,h),Zo(),P=i.memoizedState,T||B!==P||Ss?(typeof Y=="function"&&(Kf(i,a,Y,o),P=i.memoizedState),(N=Ss||cy(i,a,N,o,B,P,y))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=P),d.props=o,d.state=P,d.context=y,o=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Sf(t,i),y=i.memoizedProps,G=Lr(a,y),d.props=G,Y=i.pendingProps,B=d.context,P=a.contextType,N=Ea,typeof P=="object"&&P!==null&&(N=Ht(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Y||B!==N)&&hy(i,d,o,N),Ss=!1,B=i.memoizedState,d.state=B,Jo(i,o,d,h),Zo();var H=i.memoizedState;y!==Y||B!==H||Ss||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof T=="function"&&(Kf(i,a,T,o),H=i.memoizedState),(G=Ss||cy(i,a,G,o,B,H,N)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=N,o=G):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,rc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=kr(i,t.child,null,h),i.child=kr(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function xy(t,i,a,o){return Ir(),i.flags|=256,Ft(t,i,a,o),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:gp()}}function ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function Ry(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Rs(i):Cs(),(t=st)?(t=k_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=i,i.child=a,qt=i,st=null)):t=null,t===null)throw bs(i);return jd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Cs(),h=i.mode,T=ac({mode:"hidden",children:T},h),o=Cr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Wf(a),o.childLanes=ed(t,y,a),i.memoizedState=Jf,il(null,o)):(Rs(i),td(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Rs(i),i.flags&=-257,i=nd(t,i,a)):i.memoizedState!==null?(Cs(),i.child=t.child,i.flags|=128,i=null):(Cs(),T=o.fallback,h=i.mode,o=ac({mode:"visible",children:o.children},h),T=Cr(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,kr(i,t.child,null,a),o=i.child,o.memoizedState=Wf(a),o.childLanes=ed(t,y,a),i.memoizedState=Jf,i=il(null,o));else if(Rs(i),jd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var P=y.dgst;y=P,o=Error(r(419)),o.stack="",o.digest=y,Go({value:o,source:null,stack:null}),i=nd(t,i,a)}else if(xt||Sa(t,i,a,!1),y=(a&t.childLanes)!==0,xt||y){if(y=nt,y!==null&&(o=So(y,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Rr(t,o),cn(y,t,o),$f;kd(T)||gc(),i=nd(t,i,a)}else kd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,st=jn(T.nextSibling),qt=i,Pe=!0,Ts=null,Mn=!1,t!==null&&up(i,t),i=td(i,o.children),i.flags|=4096);return i}return h?(Cs(),T=o.fallback,h=i.mode,N=t.child,P=N.sibling,o=ji(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,P!==null?T=ji(P,T):(T=Cr(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,il(null,o),o=i.child,T=t.child.memoizedState,T===null?T=Wf(a):(h=T.cachePool,h!==null?(N=St._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=gp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=ed(t,y,a),i.memoizedState=Jf,il(t.child,o)):(Rs(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function td(t,i){return i=ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ac(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function nd(t,i,a){return kr(i,t.child,null,a),t=td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Cy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),yf(t.return,i,a)}function id(t,i,a,o,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function Iy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=pt.current,T=(y&2)!==0;if(T?(y=y&1|2,i.flags|=128):y&=1,ie(pt,y),Ft(t,i,o,a),o=Pe?Fo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,a,i);else if(t.tag===19)Cy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(i,!0,a,null,d,o);break;case"together":id(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ds|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Sa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function fb(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),As(i,St,t.memoizedState.cache),Ir();break;case 27:case 5:ur(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:As(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,If(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ry(t,i,a):(Rs(i),t=qi(t,i,a),t!==null?t.sibling:null);Rs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Sa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Iy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(pt,pt.current),o)break;return null;case 22:return i.lanes=0,Ty(t,i,a,i.pendingProps);case 24:As(i,St,t.memoizedState.cache)}return qi(t,i,a)}function Ny(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return xt=!1,fb(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Pe&&(i.flags&1048576)!==0&&lp(i,Fo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Vr(i.elementType),i.type=t,typeof t=="function")uf(t)?(o=Lr(t,o),i.tag=1,i=wy(null,i,t,o,a)):(i.tag=0,i=Zf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ie){i.tag=11,i=_y(null,i,t,o,a);break e}else if(h===C){i.tag=14,i=vy(null,i,t,o,a);break e}}throw i=he(t)||t,Error(r(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Lr(o,i.pendingProps),wy(t,i,o,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(t,i),Jo(i,o,null,a);var y=i.memoizedState;if(o=y.cache,As(i,St,o),o!==d.cache&&_f(i,[St],a,!0),Zo(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xy(t,i,o,a);break e}else if(o!==h){h=Dn(Error(r(424)),i),Go(h),i=xy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=jn(t.firstChild),qt=i,Pe=!0,Ts=null,Mn=!0,a=Tp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ir(),o===h){i=qi(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return rc(t,i),t===null?(a=B_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,o=bc(Re.current).createElement(a),o[Tt]=i,o[jt]=t,Gt(o,a,t),bt(o),i.stateNode=o):i.memoizedState=B_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ur(i),t===null&&Pe&&(o=i.stateNode=U_(i.type,i.pendingProps,Re.current),qt=i,Mn=!0,h=st,js(i.type)?(Ld=h,st=jn(o.firstChild)):st=h),Ft(t,i,i.pendingProps.children,a),rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=o=st)&&(o=qb(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,qt=i,st=jn(o.firstChild),Mn=!1,h=!0):h=!1),h||bs(i)),ur(i),h=i.type,d=i.pendingProps,y=t!==null?t.memoizedProps:null,o=d.children,Od(h,d)?o=null:y!==null&&Od(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(t,i,ib,null,null,a),_l._currentValue=h),rc(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&Pe&&((t=a=st)&&(a=Hb(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,st=null,t=!0):t=!1),t||bs(i)),null;case 13:return Ry(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=kr(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return _y(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,As(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Dr(i),h=Ht(h),o=o(h),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return vy(t,i,i.type,i.pendingProps,a);case 15:return Ey(t,i,i.type,i.pendingProps,a);case 19:return Iy(t,i,a);case 31:return hb(t,i,a);case 22:return Ty(t,i,a,i.pendingProps);case 24:return Dr(i),o=Ht(St),t===null?(h=Tf(),h===null&&(h=nt,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Af(i),As(i,St,h)):((t.lanes&a)!==0&&(Sf(t,i),Jo(i,null,null,a),Zo()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),As(i,St,o)):(o=d.cache,As(i,St,o),o!==h.cache&&_f(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Hi(t){t.flags|=4}function rd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i_())t.flags|=8192;else throw Mr=Fu,bf}else t.flags&=-16777217}function Dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i))if(i_())t.flags|=8192;else throw Mr=Fu,bf}function oc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?du():536870912,t.lanes|=i,ja|=i)}function sl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function db(t,i,a){var o=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Hi(i),d!==null?(rt(i),Dy(i,d)):(rt(i),rd(i,h,null,o,a))):d?d!==t.memoizedState?(Hi(i),rt(i),Dy(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Hi(i),rt(i),rd(i,h,t,o,a)),null;case 27:if(ta(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Hi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return rt(i),null}t=ae.current,Aa(i)?cp(i):(t=U_(h,o,a),i.stateNode=t,Hi(i))}return rt(i),null;case 5:if(ta(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Hi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return rt(i),null}if(d=ae.current,Aa(i))cp(i);else{var y=bc(Re.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[Tt]=i,d[jt]=o;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(Gt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hi(i)}}return rt(i),rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Hi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Re.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||R_(t.nodeValue,a)),t||bs(i,!0)}else t=bc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(r(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&Rd(i.stateNode.containerInfo),rt(i),null;case 10:return Pi(i.type),rt(i),null;case 19:if(X(pt),o=i.memoizedState,o===null)return rt(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)sl(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,sl(o,!1),t=d.updateQueue,i.updateQueue=t,oc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)rp(a,t),a=a.sibling;return ie(pt,pt.current&1|2),Pe&&Li(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&en()>fc&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304)}else{if(!h)if(t=Yu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,oc(i,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Pe)return rt(i),null}else 2*en()-o.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=pt.current,ie(pt,h?a&1|2:a&1),Pe&&Li(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return En(i),Cf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&X(Or),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(St),rt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function mb(t,i){switch(df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(St),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(r(340));Ir()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ir()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(pt),null;case 4:return ot(),null;case 10:return Pi(i.type),null;case 22:case 23:return En(i),Cf(),t!==null&&X(Or),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(St),null;case 25:return null;default:return null}}function Oy(t,i){switch(df(i),i.tag){case 3:Pi(St),ot();break;case 26:case 27:case 5:ta(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:X(pt);break;case 10:Pi(i.type);break;case 22:case 23:En(i),Cf(),t!==null&&X(Or);break;case 24:Pi(St)}}function rl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function Is(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=i;var N=a,P=T;try{P()}catch(G){Ze(h,N,G)}}}o=o.next}while(o!==d)}}catch(G){Ze(i,i.return,G)}}function Vy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ap(i,a)}catch(o){Ze(t,t.return,o)}}}function My(t,i,a){a.props=Lr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ze(t,i,o)}}function al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ze(t,i,h)}}function bi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function ky(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function ad(t,i,a){try{var o=t.stateNode;jb(o,t.type,a,i),o[jt]=i}catch(h){Ze(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ld(t,i,a),t=t.sibling;t!==null;)ld(t,i,a),t=t.sibling}function lc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}function Ly(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,o,a),i[Tt]=t,i[jt]=a}catch(d){Ze(t,t.return,d)}}var Fi=!1,Rt=!1,ud=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function gb(t,i){if(t=t.containerInfo,Nd=Ic,t=$g(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,T=-1,N=-1,P=0,G=0,Y=t,B=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(T=y+h),Y!==d||o!==0&&Y.nodeType!==3||(N=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break t;if(B===a&&++P===h&&(T=y),B===d&&++G===o&&(N=y),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},Ic=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var oe=Lr(a.type,h);t=o.getSnapshotBeforeUpdate(oe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Py(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),o&4&&rl(5,a);break;case 1:if(Qi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){Ze(a,a.return,y)}else{var h=Lr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(a,a.return,y)}}o&64&&Vy(a),o&512&&al(a,a.return);break;case 3:if(Qi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ap(t,i)}catch(y){Ze(a,a.return,y)}}break;case 27:i===null&&o&4&&Ly(a);case 26:case 5:Qi(t,a),i===null&&o&4&&ky(a),o&512&&al(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),o&4&&qy(t,a);break;case 13:Qi(t,a),o&4&&Hy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sb.bind(null,a),Fb(t,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){i=i!==null&&i.memoizedState!==null||Rt,h=Fi;var d=Rt;Fi=o,(Rt=i)&&!d?Ki(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Fi=h,Rt=d}break;case 30:break;default:Qi(t,a)}}function zy(t){var i=t.alternate;i!==null&&(t.alternate=null,zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,an=!1;function Gi(t,i,a){for(a=a.child;a!==null;)By(t,i,a),a=a.sibling}function By(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Rt||bi(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||bi(a,i);var o=ut,h=an;js(a.type)&&(ut=a.stateNode,an=!1),Gi(t,i,a),gl(a.stateNode),ut=o,an=h;break;case 5:Rt||bi(a,i);case 6:if(o=ut,h=an,ut=null,Gi(t,i,a),ut=o,an=h,ut!==null)if(an)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:ut!==null&&(an?(t=ut,V_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):V_(ut,a.stateNode));break;case 4:o=ut,h=an,ut=a.stateNode.containerInfo,an=!0,Gi(t,i,a),ut=o,an=h;break;case 0:case 11:case 14:case 15:Is(2,a,i),Rt||Is(4,a,i),Gi(t,i,a);break;case 1:Rt||(bi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&My(a,i,o)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Gi(t,i,a),Rt=o;break;default:Gi(t,i,a)}}function qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Ze(i,i.return,a)}}}function Hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Ze(i,i.return,a)}}function pb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Uy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Uy),i;default:throw Error(r(435,t.tag))}}function uc(t,i){var a=pb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=wb.bind(null,t,o);o.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,y=i,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(js(T.type)){ut=T.stateNode,an=!1;break e}break;case 5:ut=T.stateNode,an=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(ut===null)throw Error(r(160));By(d,y,h),ut=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Fy(i,t),i=i.sibling}var Zn=null;function Fy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),o&4&&(Is(3,t,t.return),rl(3,t),Is(5,t,t.return));break;case 1:on(i,t),ln(t),o&512&&(Rt||a===null||bi(a,a.return)),o&64&&Fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(on(i,t),ln(t),o&512&&(Rt||a===null||bi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,o,a),d[Tt]=t,bt(d),o=d;break e;case"link":var y=F_("link","href",h).get(o+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;case"meta":if(y=F_("meta","content",h).get(o+(a.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Tt]=t,bt(d),o=d}t.stateNode=o}else G_(h,t.type,t.stateNode);else t.stateNode=H_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?G_(h,t.type,t.stateNode):H_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),o&512&&(Rt||a===null||bi(a,a.return)),a!==null&&o&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),o&512&&(Rt||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(oe){Ze(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(on(i,t),ln(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){Ze(t,t.return,oe)}}break;case 3:if(wc=null,h=Zn,Zn=Ac(i.containerInfo),on(i,t),Zn=h,ln(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(oe){Ze(t,t.return,oe)}ud&&(ud=!1,Gy(t));break;case 4:o=Zn,Zn=Ac(t.stateNode.containerInfo),on(i,t),ln(t),Zn=o;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=Fi,G=Rt;if(Fi=P||h,Rt=G||N,on(i,t),Rt=G,Fi=P,ln(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Fi||Rt||Ur(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=N.stateNode;var Y=N.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Ze(N,N.return,oe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){Ze(N,N.return,oe)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?M_(H,!0):M_(N.stateNode,!1)}catch(oe){Ze(N,N.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,uc(t,a))));break;case 19:on(i,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(jy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=od(t);lc(t,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(rn(y,""),a.flags&=-33);var T=od(t);lc(t,T,y);break;case 3:case 4:var N=a.stateNode.containerInfo,P=od(t);ld(t,P,N);break;default:throw Error(r(161))}}catch(G){Ze(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(t,i.alternate,i),i=i.sibling}function Ur(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Is(4,i,i.return),Ur(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&My(i,i.return,a),Ur(i);break;case 27:gl(i.stateNode);case 26:case 5:bi(i,i.return),Ur(i);break;case 22:i.memoizedState===null&&Ur(i);break;case 30:Ur(i);break;default:Ur(i)}t=t.sibling}}function Ki(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(h,d,a),rl(4,d);break;case 1:if(Ki(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ze(o,o.return,P)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)bp(N[h],T)}catch(P){Ze(o,o.return,P)}}a&&y&64&&Vy(d),al(d,d.return);break;case 27:Ly(d);case 26:case 5:Ki(h,d,a),a&&o===null&&y&4&&ky(d),al(d,d.return);break;case 12:Ki(h,d,a);break;case 31:Ki(h,d,a),a&&y&4&&qy(h,d);break;case 13:Ki(h,d,a),a&&y&4&&Hy(h,d);break;case 22:d.memoizedState===null&&Ki(h,d,a),al(d,d.return);break;case 30:break;default:Ki(h,d,a)}i=i.sibling}}function cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t))}function Jn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(t,i,a,o),i=i.sibling}function Qy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,o),h&2048&&rl(9,i);break;case 1:Jn(t,i,a,o);break;case 3:Jn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){Jn(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ze(i,i.return,N)}}else Jn(t,i,a,o);break;case 31:Jn(t,i,a,o);break;case 13:Jn(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,o):ol(t,i):d._visibility&2?Jn(t,i,a,o):(d._visibility|=2,Va(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cd(y,i);break;case 24:Jn(t,i,a,o),h&2048&&hd(i.alternate,i);break;default:Jn(t,i,a,o)}}function Va(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,y=i,T=a,N=o,P=y.flags;switch(y.tag){case 0:case 11:case 15:Va(d,y,T,N,h),rl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Va(d,y,T,N,h):ol(d,y):(G._visibility|=2,Va(d,y,T,N,h)),h&&P&2048&&cd(y.alternate,y);break;case 24:Va(d,y,T,N,h),h&&P&2048&&hd(y.alternate,y);break;default:Va(d,y,T,N,h)}i=i.sibling}}function ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:ol(a,o),h&2048&&cd(o.alternate,o);break;case 24:ol(a,o),h&2048&&hd(o.alternate,o);break;default:ol(a,o)}i=i.sibling}}var ll=8192;function Ma(t,i,a){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Ky(t,i,a),t=t.sibling}function Ky(t,i,a){switch(t.tag){case 26:Ma(t,i,a),t.flags&ll&&t.memoizedState!==null&&nA(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,i,a);break;case 3:case 4:var o=Zn;Zn=Ac(t.stateNode.containerInfo),Ma(t,i,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Ma(t,i,a),ll=o):Ma(t,i,a));break;default:Ma(t,i,a)}}function Yy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ut=o,$y(o,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&Is(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,cc(t)):ul(t);break;default:ul(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ut=o,$y(o,t)}Yy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Is(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}t=t.sibling}}function $y(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Is(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,d=o.return;if(zy(o),o===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var yb={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},_b=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,Ve=0,$e=0,Tn=null,Ns=!1,ka=!1,fd=!1,Yi=0,ft=0,Ds=0,Pr=0,dd=0,bn=0,ja=0,cl=null,un=null,md=!1,hc=0,Zy=0,fc=1/0,dc=null,Os=null,Mt=0,Vs=null,La=null,Xi=0,gd=0,pd=null,Jy=null,hl=0,yd=null;function An(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?Ad():mu()}function Wy(){if(bn===0)if((Ve&536870912)===0||Pe){var t=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function cn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Ms(t,Ve,bn,!1)),dr(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Pr|=a),ft===4&&Ms(t,Ve,bn,!1)),Ai(t))}function e_(t,i,a){if((Ke&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=o?Tb(t,i):vd(t,i,!0),d=o;do{if(h===0){ka&&!o&&Ms(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!vb(a)){h=vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var T=t;h=cl;var N=T.current.memoizedState.isDehydrated;if(N&&(Ua(T,y).flags|=256),y=vd(T,y,!1),y!==2){if(fd&&!N){T.errorRecoveryDisabledLanes|=d,Pr|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Ms(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ms(o,i,bn,!Ns);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=hc+300-en(),10<h)){if(Ms(o,i,bn,!Ns),ri(o,0,!0)!==0)break e;Xi=i,o.timeoutHandle=D_(t_.bind(null,o,a,un,dc,md,i,bn,Pr,ja,Ns,d,"Throttled",-0,0),h);break e}t_(o,a,un,dc,md,i,bn,Pr,ja,Ns,d,null,-0,0)}}break}while(!0);Ai(t)}function t_(t,i,a,o,h,d,y,T,N,P,G,Y,B,H){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Ky(i,d,Y);var oe=(d&62914560)===d?hc-en():(d&4194048)===d?Zy-en():0;if(oe=iA(Y,oe),oe!==null){Xi=d,t.cancelPendingCommit=oe(u_.bind(null,t,i,d,a,o,h,y,T,N,G,Y,null,B,H)),Ms(t,d,y,!P);return}}u_(t,i,d,a,o,h,y,T,N)}function vb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(t,i,a,o){i&=~dd,i&=~Pr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&mr(t,a,i)}function mc(){return(Ke&6)===0?(fl(0),!1):!0}function _d(){if(De!==null){if($e===0)var t=De.return;else t=De,Ui=Nr=null,Mf(t),Ca=null,Yo=0,t=De;for(;t!==null;)Oy(t.alternate,t),t=t.return;De=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Pb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,_d(),nt=t,De=a=ji(t.current,null),Ve=i,$e=0,Tn=null,Ns=!1,ka=qn(t,i),fd=!1,ja=bn=dd=Pr=Ds=ft=0,un=cl=null,md=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-mt(o),d=1<<h;i|=t[h],o&=~d}return Yi=i,ku(),a}function n_(t,i){xe=null,F.H=nl,i===Ra||i===Hu?(i=_p(),$e=3):i===bf?(i=_p(),$e=4):$e=i===$f?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,De===null&&(ft=1,ic(t,Dn(i,t.current)))}function i_(){var t=vn.current;return t===null?!0:(Ve&4194048)===Ve?kn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===kn:!1}function s_(){var t=F.H;return F.H=nl,t===null?nl:t}function r_(){var t=F.A;return F.A=yb,t}function gc(){ft=4,Ns||(Ve&4194048)!==Ve&&vn.current!==null||(ka=!0),(Ds&134217727)===0&&(Pr&134217727)===0||nt===null||Ms(nt,Ve,bn,!1)}function vd(t,i,a){var o=Ke;Ke|=2;var h=s_(),d=r_();(nt!==t||Ve!==i)&&(dc=null,Ua(t,i)),i=!1;var y=ft;e:do try{if($e!==0&&De!==null){var T=De,N=Tn;switch($e){case 8:_d(),y=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var P=$e;if($e=0,Tn=null,Pa(t,T,N,P),a&&ka){y=0;break e}break;default:P=$e,$e=0,Tn=null,Pa(t,T,N,P)}}Eb(),y=ft;break}catch(G){n_(t,G)}while(!0);return i&&t.shellSuspendCounter++,Ui=Nr=null,Ke=o,F.H=h,F.A=d,De===null&&(nt=null,Ve=0,ku()),y}function Eb(){for(;De!==null;)a_(De)}function Tb(t,i){var a=Ke;Ke|=2;var o=s_(),h=r_();nt!==t||Ve!==i?(dc=null,fc=en()+500,Ua(t,i)):ka=qn(t,i);e:do try{if($e!==0&&De!==null){i=De;var d=Tn;t:switch($e){case 1:$e=0,Tn=null,Pa(t,i,d,1);break;case 2:case 9:if(pp(d)){$e=0,Tn=null,o_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ai(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:pp(d)?($e=0,Tn=null,o_(i)):($e=0,Tn=null,Pa(t,i,d,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var T=De;if(y?Q_(y):T.stateNode.complete){$e=0,Tn=null;var N=T.sibling;if(N!==null)De=N;else{var P=T.return;P!==null?(De=P,pc(P)):De=null}break t}}$e=0,Tn=null,Pa(t,i,d,5);break;case 6:$e=0,Tn=null,Pa(t,i,d,6);break;case 8:_d(),ft=6;break e;default:throw Error(r(462))}}bb();break}catch(G){n_(t,G)}while(!0);return Ui=Nr=null,F.H=o,F.A=h,Ke=a,De!==null?0:(nt=null,Ve=0,ku(),ft)}function bb(){for(;De!==null&&!Yh();)a_(De)}function a_(t){var i=Ny(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,i===null?pc(t):De=i}function o_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Sy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Sy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Mf(i);default:Oy(a,i),i=De=rp(i,Yi),i=Ny(a,i,Yi)}t.memoizedProps=t.pendingProps,i===null?pc(t):De=i}function Pa(t,i,a,o){Ui=Nr=null,Mf(i),Ca=null,Yo=0;var h=i.return;try{if(cb(t,h,i,a,Ve)){ft=1,ic(t,Dn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,ic(t,Dn(a,t.current)),De=null;return}i.flags&32768?(Pe||o===1?t=!0:ka||(Ve&536870912)!==0?t=!1:(Ns=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),l_(i,t)):pc(i)}function pc(t){var i=t;do{if((i.flags&32768)!==0){l_(i,Ns);return}t=i.return;var a=db(i.alternate,i,Yi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function l_(t,i){do{var a=mb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function u_(t,i,a,o,h,d,y,T,N){t.cancelPendingCommit=null;do yc();while(Mt!==0);if((Ke&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=of,Zh(t,a,d,y,T,N),t===nt&&(De=nt=null,Ve=0),La=i,Vs=t,Xi=a,gd=d,pd=h,Jy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xb(cs,function(){return m_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,y=Ke,Ke|=4;try{gb(t,i,a)}finally{Ke=y,te.p=h,F.T=o}}Mt=1,c_(),h_(),f_()}}function c_(){if(Mt===1){Mt=0;var t=Vs,i=La,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Ke;Ke|=4;try{Fy(i,t);var d=Dd,y=$g(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(y!==T&&T&&T.ownerDocument&&Xg(T.ownerDocument.documentElement,T)){if(N!==null&&tf(T)){var P=N.start,G=N.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),oe=T.textContent.length,ye=Math.min(N.start,oe),tt=N.end===void 0?ye:Math.min(N.end,oe);!H.extend&&ye>tt&&(y=tt,tt=ye,ye=y);var j=Yg(T,ye),M=Yg(T,tt);if(j&&M&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=Y.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),ye>tt?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!Nd,Dd=Nd=null}finally{Ke=h,te.p=o,F.T=a}}t.current=i,Mt=2}}function h_(){if(Mt===2){Mt=0;var t=Vs,i=La,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Ke;Ke|=4;try{Py(t,i.alternate,i)}finally{Ke=h,te.p=o,F.T=a}}Mt=3}}function f_(){if(Mt===4||Mt===3){Mt=0,ou();var t=Vs,i=La,a=Xi,o=Jy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,La=Vs=null,d_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Os=null),Oi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=te.p,te.p=2,F.T=null;try{for(var d=t.onRecoverableError,y=0;y<o.length;y++){var T=o[y];d(T.value,{componentStack:T.stack})}}finally{F.T=i,te.p=h}}(Xi&3)!==0&&yc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?hl++:(hl=0,yd=t):hl=0,fl(0)}}function d_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Qo(i)))}function yc(){return c_(),h_(),f_(),m_()}function m_(){if(Mt!==5)return!1;var t=Vs,i=gd;gd=0;var a=Oi(Xi),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=pd,pd=null;var d=Vs,y=Xi;if(Mt=0,La=Vs=null,Xi=0,(Ke&6)!==0)throw Error(r(331));var T=Ke;if(Ke|=4,Xy(d.current),Qy(d,d.current,y,a),Ke=T,fl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{te.p=h,F.T=o,d_(t,i)}}function g_(t,i,a){i=Dn(a,i),i=Xf(t.stateNode,i,2),t=xs(t,i,2),t!==null&&(dr(t,2),Ai(t))}function Ze(t,i,a){if(t.tag===3)g_(t,t,a);else for(;i!==null;){if(i.tag===3){g_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Os===null||!Os.has(o))){t=Dn(a,t),a=py(2),o=xs(i,a,2),o!==null&&(yy(a,o,i,t),dr(o,2),Ai(o));break}}i=i.return}}function Ed(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new _b;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(fd=!0,h.add(a),t=Ab.bind(null,t,i,a),i.then(t,t))}function Ab(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>en()-hc?(Ke&2)===0&&Ua(t,0):dd|=a,ja===Ve&&(ja=0)),Ai(t)}function p_(t,i){i===0&&(i=du()),t=Rr(t,i),t!==null&&(dr(t,i),Ai(t))}function Sb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),p_(t,a)}function wb(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),p_(t,a)}function xb(t,i){return Vt(t,i)}var _c=null,za=null,Td=!1,vc=!1,bd=!1,ks=0;function Ai(t){t!==za&&t.next===null&&(za===null?_c=za=t:za=za.next=t),vc=!0,Td||(Td=!0,Cb())}function fl(t,i){if(!bd&&vc){bd=!0;do for(var a=!1,o=_c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(y&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E_(o,d))}else d=Ve,d=ri(o,o===nt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||qn(o,d)||(a=!0,E_(o,d));o=o.next}while(a);bd=!1}}function Rb(){y_()}function y_(){vc=Td=!1;var t=0;ks!==0&&Ub()&&(t=ks);for(var i=en(),a=null,o=_c;o!==null;){var h=o.next,d=__(o,i);d===0?(o.next=null,a===null?_c=h:a.next=h,h===null&&(za=a)):(a=o,(t!==0||(d&3)!==0)&&(vc=!0)),o=h}Mt!==0&&Mt!==5||fl(t),ks!==0&&(ks=0)}function __(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-mt(d),T=1<<y,N=h[y];N===-1?((T&a)===0||(T&o)!==0)&&(h[y]=$h(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=Ve,a=ri(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&us(o),Oi(a)){case 2:case 8:a=bo;break;case 32:a=cs;break;case 268435456:a=lu;break;default:a=cs}return o=v_.bind(null,t),a=Vt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&us(o),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(yc()&&t.callbackNode!==a)return null;var o=Ve;return o=ri(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(e_(t,o,i),__(t,en()),t.callbackNode!=null&&t.callbackNode===a?v_.bind(null,t):null)}function E_(t,i){if(yc())return null;e_(t,i,!0)}function Cb(){zb(function(){(Ke&6)!==0?Vt(To,Rb):y_()})}function Ad(){if(ks===0){var t=wa;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),ks=t}return ks}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function b_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ib(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=T_((h[jt]||null).action),y=o.submitter;y&&(i=(i=y[jt]||null)?T_(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var T=new pi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var N=y?b_(h,y):new FormData(h);Hf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=y?b_(h,y):new FormData(h),Hf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Sd=0;Sd<af.length;Sd++){var wd=af[Sd],Nb=wd.toLowerCase(),Db=wd[0].toUpperCase()+wd.slice(1);$n(Nb,"on"+Db)}$n(Wg,"onAnimationEnd"),$n(ep,"onAnimationIteration"),$n(tp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(KT,"onTransitionRun"),$n(YT,"onTransitionStart"),$n(XT,"onTransitionCancel"),$n(np,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function A_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var y=o.length-1;0<=y;y--){var T=o[y],N=T.instance,P=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){Mu(G)}h.currentTarget=null,d=N}else for(y=0;y<o.length;y++){if(T=o[y],N=T.instance,P=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){Mu(G)}h.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var o=t+"__bubble";a.has(o)||(S_(i,t,2,!1),a.add(o))}function xd(t,i,a){var o=0;i&&(o|=4),S_(a,t,o,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Ec]){t[Ec]=!0,wo.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||xd(a,!1,t),xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,xd("selectionchange",!1,i))}}function S_(t,i,a,o){switch(W_(i)){case 2:var h=aA;break;case 8:h=oA;break;default:h=qd}a=h.bind(null,i,a,t),h=void 0,!vr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Cd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=ui(T),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){o=d=y;continue e}T=T.parentNode}}o=o.return}ps(function(){var P=d,G=Rn(a),Y=[];e:{var B=ip.get(t);if(B!==void 0){var H=pi,oe=t;switch(t){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":H=Du;break;case"focusin":oe="focus",H=Ar;break;case"focusout":oe="blur",H=Ar;break;case"beforeblur":case"afterblur":H=Ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Wg:case ep:case tp:H=Su;break;case np:H=A;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=we}var ye=(i&4)!==0,tt=!ye&&(t==="scroll"||t==="scrollend"),j=ye?B!==null?B+"Capture":null:B;ye=[];for(var M=P,U;M!==null;){var Q=M;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||j===null||(Q=Qn(M,j),Q!=null&&ye.push(ml(M,Q,U))),tt)break;M=M.return}0<ye.length&&(B=new H(B,oe,null,a,G),Y.push({event:B,listeners:ye}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Mo&&(oe=a.relatedTarget||a.fromElement)&&(ui(oe)||oe[oi]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(oe=a.relatedTarget||a.toElement,H=P,oe=oe?ui(oe):null,oe!==null&&(tt=u(oe),ye=oe.tag,oe!==tt||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(H=null,oe=P),H!==oe)){if(ye=Uo,Q="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=ki,Q="onPointerLeave",j="onPointerEnter",M="pointer"),tt=H==null?B:gn(H),U=oe==null?B:gn(oe),B=new ye(Q,M+"leave",H,a,G),B.target=tt,B.relatedTarget=U,Q=null,ui(G)===P&&(ye=new ye(j,M+"enter",oe,a,G),ye.target=U,ye.relatedTarget=tt,Q=ye),tt=Q,H&&oe)t:{for(ye=Vb,j=H,M=oe,U=0,Q=j;Q;Q=ye(Q))U++;Q=0;for(var ge=M;ge;ge=ye(ge))Q++;for(;0<U-Q;)j=ye(j),U--;for(;0<Q-U;)M=ye(M),Q--;for(;U--;){if(j===M||M!==null&&j===M.alternate){ye=j;break t}j=ye(j),M=ye(M)}ye=null}else ye=null;H!==null&&w_(Y,B,H,ye,!1),oe!==null&&tt!==null&&w_(Y,tt,oe,ye,!0)}}e:{if(B=P?gn(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var He=qg;else if(zg(B))if(Hg)He=FT;else{He=qT;var ce=BT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ua(P.elementType)&&(He=qg):He=HT;if(He&&(He=He(t,P))){Bg(Y,He,a,G);break e}ce&&ce(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(ce=P?gn(P):window,t){case"focusin":(zg(ce)||ce.contentEditable==="true")&&(ya=ce,nf=P,Ho=null);break;case"focusout":Ho=nf=ya=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Zg(Y,a,G);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Zg(Y,a,G)}var Ce;if(Qe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else pa?Sr(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(vi&&a.locale!=="ko"&&(pa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&pa&&(Ce=jo()):(gi=G,ko="value"in gi?gi.value:gi.textContent,pa=!0)),ce=Tc(P,Me),0<ce.length&&(Me=new _i(Me,t,null,a,G),Y.push({event:Me,listeners:ce}),Ce?Me.data=Ce:(Ce=ga(a),Ce!==null&&(Me.data=Ce)))),(Ce=In?LT(t,a):UT(t,a))&&(Me=Tc(P,"onBeforeInput"),0<Me.length&&(ce=new _i("onBeforeInput","beforeinput",null,a,G),Y.push({event:ce,listeners:Me}),ce.data=Ce)),Ib(Y,t,P,a,G)}A_(Y,i)})}function ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Tc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&o.unshift(ml(t,h,d)),h=Qn(t,i),h!=null&&o.push(ml(t,h,d))),t.tag===3)return o;t=t.return}return[]}function Vb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w_(t,i,a,o,h){for(var d=i._reactName,y=[];a!==null&&a!==o;){var T=a,N=T.alternate,P=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||P===null||(N=P,h?(P=Qn(a,d),P!=null&&y.unshift(ml(a,P,N))):h||(P=Qn(a,d),P!=null&&y.push(ml(a,P,N)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var Mb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function x_(t){return(typeof t=="string"?t:""+t).replace(Mb,`
`).replace(kb,"")}function R_(t,i){return i=x_(i),x_(t)===i}function et(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":Vo(t,o,d);break;case"data":if(i!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,oa(t,a,o))}}function Id(t,i,a,o,h,d){switch(a){case"style":Vo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?rn(t,o):(typeof o=="number"||typeof o=="bigint")&&rn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):oa(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,d,y,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),o&&et(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=y=h=null,N=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":N=G;break;case"defaultChecked":P=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:et(t,i,o,G,a,null)}}_u(t,d,T,N,P,y,h,!1);return;case"select":Oe("invalid",t),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:et(t,i,h,T,a,null)}i=d,a=y,t.multiple=!!o,i!=null?fs(t,!!o,i,!1):a!=null&&fs(t,!!o,a,!0);return;case"textarea":Oe("invalid",t),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:et(t,i,y,T,a,null)}ds(t,o,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,i,N,o,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)Oe(dl[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:et(t,i,P,o,a,null)}return;default:if(ua(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Id(t,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&et(t,i,T,o,a,null))}function jb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,N=null,P=null,G=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(H)||et(t,i,H,null,o,Y)}}for(var B in o){var H=o[B];if(Y=a[B],o.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&et(t,i,B,H,o,Y)}}la(t,y,T,N,P,G,d,h);return;case"select":H=y=T=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(d)||et(t,i,d,null,o,N)}for(h in o)if(d=o[h],N=a[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==N&&et(t,i,h,d,o,N)}i=T,a=y,o=H,B!=null?fs(t,!!a,B,!1):!!o!=!!a&&(i!=null?fs(t,!!a,i,!0):fs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&et(t,i,y,h,o,d)}vu(t,B,H);return;case"option":for(var oe in a)if(B=a[oe],a.hasOwnProperty(oe)&&B!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:et(t,i,oe,null,o,B)}for(N in o)if(B=o[N],H=a[N],o.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:et(t,i,N,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!o.hasOwnProperty(ye)&&et(t,i,ye,null,o,B);for(P in o)if(B=o[P],H=a[P],o.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:et(t,i,P,B,o,H)}return;default:if(ua(i)){for(var tt in a)B=a[tt],a.hasOwnProperty(tt)&&B!==void 0&&!o.hasOwnProperty(tt)&&Id(t,i,tt,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Id(t,i,G,B,o,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!o.hasOwnProperty(j)&&et(t,i,j,null,o,B);for(Y in o)B=o[Y],H=a[Y],!o.hasOwnProperty(Y)||B===H||B==null&&H==null||et(t,i,Y,B,o,H)}function C_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,y=h.initiatorType,T=h.duration;if(d&&T&&C_(y)){for(y=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],P=N.startTime;if(P>T)break;var G=N.transferSize,Y=N.initiatorType;G&&C_(Y)&&(N=N.responseEnd,y+=G*(N<T?1:(T-P)/(N-P)))}if(--o,i+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function I_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Od(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function Ub(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(Bb)}:D_;function Bb(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function V_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Fa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")gl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,gl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,T=d.nodeName;d[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&gl(t.ownerDocument.body);a=h}while(a);Fa(i)}function M_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[li])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function Hb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function k_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Fb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Ld=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function L_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function U_(t,i,a){switch(i=bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);aa(t)}var Ln=new Map,P_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=te.d;te.d={f:Gb,r:Qb,D:Kb,C:Yb,L:Xb,m:$b,X:Jb,S:Zb,M:Wb};function Gb(){var t=$i.f(),i=mc();return t||i}function Qb(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?ny(i):$i.r(t)}var Ba=typeof document>"u"?null:document;function z_(t,i,a){var o=Ba;if(o&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Gt(i,"link",t),bt(i),o.head.appendChild(i)))}}function Kb(t){$i.D(t),z_("dns-prefetch",t,null)}function Yb(t,i){$i.C(t,i),z_("preconnect",t,i)}function Xb(t,i,a){$i.L(t,i,a);var o=Ba;if(o&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ha(t)}Ln.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(pl(d))||i==="script"&&o.querySelector(yl(d))||(i=o.createElement("link"),Gt(i,"link",t),bt(i),o.head.appendChild(i)))}}function $b(t,i){$i.m(t,i);var a=Ba;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Ln.has(d)&&(t=S({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}o=a.createElement("link"),Gt(o,"link",t),bt(o),a.head.appendChild(o)}}}function Zb(t,i,a){$i.S(t,i,a);var o=Ba;if(o&&t){var h=ci(o).hoistableStyles,d=qa(t);i=i||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(pl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Ud(t,a);var N=y=o.createElement("link");bt(N),Gt(N,"link",t),N._p=new Promise(function(P,G){N.onload=P,N.onerror=G}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function Jb(t,i){$i.X(t,i);var a=Ba;if(a&&t){var o=ci(a).hoistableScripts,h=Ha(t),d=o.get(h);d||(d=a.querySelector(yl(h)),d||(t=S({src:t,async:!0},i),(i=Ln.get(h))&&Pd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Wb(t,i){$i.M(t,i);var a=Ba;if(a&&t){var o=ci(a).hoistableScripts,h=Ha(t),d=o.get(h);d||(d=a.querySelector(yl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Pd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function B_(t,i,a,o){var h=(h=Re.current)?Ac(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=ci(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=ci(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(pl(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||eA(h,t,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=ci(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function qa(t){return'href="'+sn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function eA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function Ha(t){return'[src="'+sn(t)+'"]'}function yl(t){return"script[async]"+t}function H_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return i.instance=o,bt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),bt(o),Gt(o,"style",h),Sc(o,a.precedence,t),i.instance=o;case"stylesheet":h=qa(a.href);var d=t.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;o=q_(a),(h=Ln.get(h))&&Ud(o,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var y=d;return y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),Gt(d,"link",o),i.state.loading|=4,Sc(d,a.precedence,t),i.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(yl(d)))?(i.instance=h,bt(h),h):(o=a,(h=Ln.get(d))&&(o=S({},a),Pd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Sc(o,a.precedence,t));return i.instance}function Sc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function F_(t,i,a){if(wc===null){var o=new Map,h=wc=new Map;h.set(a,o)}else h=wc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=t+y;var T=o.get(y);T?T.push(d):o.set(y,[d])}}return o}function G_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function tA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),d=i.querySelector(pl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=xc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,o=q_(o),(h=Ln.get(h))&&Ud(o,h),d=d.createElement("link"),bt(d);var y=d;y._p=new Promise(function(T,N){y.onload=T,y.onerror=N}),Gt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var zd=0;function iA(t,i){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&zd===0&&(zd=62500*Lb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Cc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(sA,t),Rc=null,xc.call(t))}function sA(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:ue,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function rA(t,i,a,o,h,d,y,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function K_(t,i,a,o,h,d,y,T,N,P,G,Y){return t=new rA(t,i,a,y,N,P,G,Y,T),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Af(d),t}function Y_(t){return t?(t=Ea,t):Ea}function X_(t,i,a,o,h,d){h=Y_(h),o.context===null?o.context=h:o.pendingContext=h,o=ws(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=xs(t,o,i),a!==null&&(cn(a,t,i),$o(a,t,i))}function $_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){$_(t,i),(t=t.alternate)&&$_(t,i)}function Z_(t){if(t.tag===13||t.tag===31){var i=Rr(t,67108864);i!==null&&cn(i,t,67108864),Bd(t,67108864)}}function J_(t){if(t.tag===13||t.tag===31){var i=An();i=gr(i);var a=Rr(t,i);a!==null&&cn(a,t,i),Bd(t,i)}}var Ic=!0;function aA(t,i,a,o){var h=F.T;F.T=null;var d=te.p;try{te.p=2,qd(t,i,a,o)}finally{te.p=d,F.T=h}}function oA(t,i,a,o){var h=F.T;F.T=null;var d=te.p;try{te.p=8,qd(t,i,a,o)}finally{te.p=d,F.T=h}}function qd(t,i,a,o){if(Ic){var h=Hd(o);if(h===null)Cd(t,i,o,Nc,a),e0(t,o);else if(uA(h,t,i,a,o))o.stopPropagation();else if(e0(t,o),i&4&&-1<lA.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=si(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var N=1<<31-mt(y);T.entanglements[1]|=N,y&=~N}Ai(d),(Ke&6)===0&&(fc=en()+500,fl(0))}}break;case 31:case 13:T=Rr(d,2),T!==null&&cn(T,d,2),mc(),Bd(d,2)}if(d=Hd(o),d===null&&Cd(t,i,o,Nc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Cd(t,i,o,null,a)}}function Hd(t){return t=Rn(t),Fd(t)}var Nc=null;function Fd(t){if(Nc=null,t=ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nc=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case To:return 2;case bo:return 8;case cs:case Xh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var Gd=!1,Ls=null,Us=null,Ps=null,vl=new Map,El=new Map,zs=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(t,i){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&Z_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function uA(t,i,a,o,h){switch(i){case"focusin":return Ls=Tl(Ls,t,i,a,o,h),!0;case"dragenter":return Us=Tl(Us,t,i,a,o,h),!0;case"mouseover":return Ps=Tl(Ps,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,t,i,a,o,h)),!0}return!1}function t0(t){var i=ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){J_(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){J_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return i=xn(a),i!==null&&Z_(i),t.blockedOn=a,!1;i.shift()}return!0}function n0(t,i,a){Dc(t)&&a.delete(i)}function cA(){Gd=!1,Ls!==null&&Dc(Ls)&&(Ls=null),Us!==null&&Dc(Us)&&(Us=null),Ps!==null&&Dc(Ps)&&(Ps=null),vl.forEach(n0),El.forEach(n0)}function Oc(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cA)))}var Vc=null;function i0(t){Vc!==t&&(Vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(t){function i(N){return Oc(N,t)}Ls!==null&&Oc(Ls,t),Us!==null&&Oc(Us,t),Ps!==null&&Oc(Ps,t),vl.forEach(i),El.forEach(i);for(var a=0;a<zs.length;a++){var o=zs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)t0(a),a.blockedOn===null&&zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[jt]||null;if(typeof d=="function")y||i0(a);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[jt]||null)T=y.formAction;else if(Fd(h)!==null)continue}else T=y.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),i0(a)}}}function s0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qd(t){this._internalRoot=t}Mc.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=An();X_(a,o,t,i,null,null)},Mc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;X_(t.current,2,null,t,null,null),mc(),i[oi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zs.length&&i!==0&&i<zs[a].priority;a++);zs.splice(a,0,t),a===0&&t0(t)}};var r0=e.version;if(r0!=="19.2.0")throw Error(r(527,r0,"19.2.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var hA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Bn=kc.inject(hA),zt=kc}catch{}}return Al.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=fy,d=dy,y=my;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=K_(t,1,!1,null,null,a,o,null,h,d,y,s0),t[oi]=i.current,Rd(t),new Qd(i)},Al.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=fy,y=dy,T=my,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=K_(t,1,!0,i,a??null,o,h,N,d,y,T,s0),i.context=Y_(null),a=i.current,o=An(),o=gr(o),h=ws(o),h.callback=null,xs(a,h,o),a=o,i.current.lanes=a,dr(i,a),Ai(i),t[oi]=i.current,Rd(t),new Mc(i)},Al.version="19.2.0",Al}var g0;function bA(){if(g0)return Xd.exports;g0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=TA(),Xd.exports}var AA=bA();const SA=Yv(AA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),p0=s=>{const e=xA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Xv=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),RA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=de.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...g},p)=>de.createElement("svg",{ref:p,...CA,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:Xv("lucide",l),...!u&&!RA(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,b])=>de.createElement(_,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(s,e)=>{const n=de.forwardRef(({className:r,...l},u)=>de.createElement(IA,{ref:u,iconNode:e,className:Xv(`lucide-${wA(p0(s))}`,`lucide-${s}`,r),...l}));return n.displayName=p0(s),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$v=qe("activity",NA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],OA=qe("bell",DA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zv=qe("briefcase",VA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Hm=qe("building-2",MA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jA=qe("chart-column",kA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],UA=qe("check",LA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zA=qe("chevron-right",PA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qA=qe("chevron-left",BA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],FA=qe("circle-alert",HA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],QA=qe("copy",GA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Jv=qe("credit-card",KA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],XA=qe("ellipsis-vertical",YA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],ZA=qe("laptop",$A);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wd=qe("layout-dashboard",JA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qr=qe("loader-circle",WA);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wc=qe("lock",eS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nS=qe("log-out",tS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wv=qe("mail",iS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rS=qe("menu",sS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],oS=qe("moon",aS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],uS=qe("palette",lS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eE=qe("plus",cS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tE=qe("search",hS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dS=qe("settings",fS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fm=qe("shield",mS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pS=qe("square-check-big",gS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],_S=qe("square",yS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ES=qe("sun",vS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nE=qe("trash-2",TS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AS=qe("user-plus",bS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eh=qe("user",SS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yl=qe("users",wS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],jl=qe("wrench",xS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CS=qe("zap",RS),IS=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},NS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],g=s[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,g=f?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,b=u>>2,S=(u&3)<<4|g>>4;let D=(g&15)<<2|_>>6,z=_&63;p||(z=64,f||(D=64)),r.push(n[b],n[S],n[D],n[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):NS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||S==null)throw new DS;const D=u<<2|g>>4;if(r.push(D),_!==64){const z=g<<4&240|_>>2;if(r.push(z),S!==64){const $=_<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OS=function(s){const e=iE(s);return sE.encodeByteArray(e,!0)},th=function(s){return OS(s).replace(/\./g,"")},rE=function(s){try{return sE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=()=>VS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof y0>"u")return;const s=y0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&rE(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return IS()||MS()||kS()||jS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},aE=s=>{var e,n;return(n=(e=Th())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},LS=s=>{const e=aE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oE=()=>{var s;return(s=Th())==null?void 0:s.config},lE=s=>{var e;return(e=Th())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Nl={};function zS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function BS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let _0=!1;function cE(s,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Nl[s]===e||Nl[s]||_0)return;Nl[s]=e;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=zS().prod.length>0;function f(){const D=document.getElementById(r);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,z){D.setAttribute("width","24"),D.setAttribute("id",z),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{_0=!0,f()},D}function b(D,z){D.setAttribute("id",z),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=BS(r),z=n("text"),$=document.getElementById(z)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),le=n("preprendIcon"),ne=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ue=D.element;g(ue),b(J,W);const Ie=_();p(ne,le),ue.append(ne,$,J,Ie),document.body.appendChild(ue)}u?($.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function HS(){var e;const s=(e=Th())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function YS(){return!HS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZS,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?JS(u,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new os(l,g,r)}}function JS(s,e){return s.replace(WS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const WS=/\{\$([^}]+)}/g;function ew(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Gr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(v0(u)&&v0(f)){if(!Gr(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function v0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function wl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function tw(s,e){const n=new nw(s,e);return n.subscribe.bind(n)}class nw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iw(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(s){return s&&s._delegate?s._delegate:s}class Qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new US;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aw(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rw(s){return s===zr?void 0:s}function aw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const lw={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},uw=ke.INFO,cw={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},hw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=cw[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=uw,this._logHandler=hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const fw=(s,e)=>e.some(n=>s instanceof n);let E0,T0;function dw(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mw(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,dm=new WeakMap,fE=new WeakMap,tm=new WeakMap,Qm=new WeakMap;function gw(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Ys(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&hE.set(n,s)}).catch(()=>{}),Qm.set(e,s),e}function pw(s){if(dm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});dm.set(s,e)}let mm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||fE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function yw(s){mm=s(mm)}function _w(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(nm(this),e,...n);return fE.set(r,e.sort?e.sort():[e]),Ys(r)}:mw().includes(s)?function(...e){return s.apply(nm(this),e),Ys(hE.get(this))}:function(...e){return Ys(s.apply(nm(this),e))}}function vw(s){return typeof s=="function"?_w(s):(s instanceof IDBTransaction&&pw(s),fw(s,dw())?new Proxy(s,mm):s)}function Ys(s){if(s instanceof IDBRequest)return gw(s);if(tm.has(s))return tm.get(s);const e=vw(s);return e!==s&&(tm.set(s,e),Qm.set(e,s)),e}const nm=s=>Qm.get(s);function Ew(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),g=Ys(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ys(f.result),p.oldVersion,p.newVersion,Ys(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Tw=["get","getKey","getAll","getAllKeys","count"],bw=["put","add","delete","clear"],im=new Map;function b0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=bw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Tw.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return im.set(e,u),u}yw(s=>({...s,get:(e,n,r)=>b0(e,n)||s.get(e,n,r),has:(e,n)=>!!b0(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sw(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",A0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Gm("@firebase/app"),ww="@firebase/app-compat",xw="@firebase/analytics-compat",Rw="@firebase/analytics",Cw="@firebase/app-check-compat",Iw="@firebase/app-check",Nw="@firebase/auth",Dw="@firebase/auth-compat",Ow="@firebase/database",Vw="@firebase/data-connect",Mw="@firebase/database-compat",kw="@firebase/functions",jw="@firebase/functions-compat",Lw="@firebase/installations",Uw="@firebase/installations-compat",Pw="@firebase/messaging",zw="@firebase/messaging-compat",Bw="@firebase/performance",qw="@firebase/performance-compat",Hw="@firebase/remote-config",Fw="@firebase/remote-config-compat",Gw="@firebase/storage",Qw="@firebase/storage-compat",Kw="@firebase/firestore",Yw="@firebase/ai",Xw="@firebase/firestore-compat",$w="firebase",Zw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",Jw={[gm]:"fire-core",[ww]:"fire-core-compat",[Rw]:"fire-analytics",[xw]:"fire-analytics-compat",[Iw]:"fire-app-check",[Cw]:"fire-app-check-compat",[Nw]:"fire-auth",[Dw]:"fire-auth-compat",[Ow]:"fire-rtdb",[Vw]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[kw]:"fire-fn",[jw]:"fire-fn-compat",[Lw]:"fire-iid",[Uw]:"fire-iid-compat",[Pw]:"fire-fcm",[zw]:"fire-fcm-compat",[Bw]:"fire-perf",[qw]:"fire-perf-compat",[Hw]:"fire-rc",[Fw]:"fire-rc-compat",[Gw]:"fire-gcs",[Qw]:"fire-gcs-compat",[Kw]:"fire-fst",[Xw]:"fire-fst-compat",[Yw]:"fire-vertex","fire-js":"fire-js",[$w]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Map,ym=new Map,_m=new Map;function S0(s,e){try{s.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function to(s){const e=s.name;if(_m.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const n of Kr.values())S0(n,s);for(const n of ym.values())S0(n,s);return!0}function Km(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Un(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Xl("app","Firebase",Ww);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=Zw;function Ym(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:pm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(n||(n=oE()),!n)throw Xs.create("no-options");const u=Kr.get(l);if(u){if(Gr(n,u.options)&&Gr(r,u.config))return u;throw Xs.create("duplicate-app",{appName:l})}const f=new ow(l);for(const p of _m.values())f.addComponent(p);const g=new e2(n,r,f);return Kr.set(l,g),g}function dE(s=pm){const e=Kr.get(s);if(!e&&s===pm&&oE())return Ym();if(!e)throw Xs.create("no-app",{appName:s});return e}function t2(){return Array.from(Kr.values())}async function n2(s){let e=!1;const n=s.name;Kr.has(n)?(e=!0,Kr.delete(n)):ym.has(n)&&s.decRefCount()<=0&&(ym.delete(n),e=!0),e&&(await Promise.all(s.container.getProviders().map(r=>r.delete())),s.isDeleted=!0)}function $s(s,e,n){let r=Jw[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(f.join(" "));return}to(new Qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebase-heartbeat-database",s2=1,Ll="firebase-heartbeat-store";let sm=null;function mE(){return sm||(sm=Ew(i2,s2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),sm}async function r2(s){try{const n=(await mE()).transaction(Ll),r=await n.objectStore(Ll).get(gE(s));return await n.done,r}catch(e){if(e instanceof os)ns.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function w0(s,e){try{const r=(await mE()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,gE(s)),await r.done}catch(n){if(n instanceof os)ns.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function gE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=1024,o2=30;class l2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=x0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>o2){const f=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x0(),{heartbeatsToSend:r,unsentEntries:l}=u2(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ns.warn(n),""}}}function x0(){return new Date().toISOString().substring(0,10)}function u2(s,e=a2){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),R0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),R0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class c2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R0(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function h2(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(s){to(new Qr("platform-logger",e=>new Aw(e),"PRIVATE")),to(new Qr("heartbeat",e=>new l2(e),"PRIVATE")),$s(gm,A0,s),$s(gm,A0,"esm2020"),$s("fire-js","")}f2("");var d2="firebase",m2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(d2,m2,"app");function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=pE,yE=new Xl("auth","Firebase",pE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Gm("@firebase/auth");function p2(s,...e){nh.logLevel<=ke.WARN&&nh.warn(`Auth (${co}): ${s}`,...e)}function Hc(s,...e){nh.logLevel<=ke.ERROR&&nh.error(`Auth (${co}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(s,...e){throw Xm(s,...e)}function wi(s,...e){return Xm(s,...e)}function _E(s,e,n){const r={...g2(),[e]:n};return new Xl("auth","Firebase",r).create(e,{appName:s.name})}function es(s){return _E(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return yE.create(s,...e)}function _e(s,e,...n){if(!s)throw Xm(e,...n)}function Zi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function is(s,e){s||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function y2(){return C0()==="http:"||C0()==="https:"}function C0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||GS()||"connection"in navigator)?navigator.onLine:!0}function v2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=qS()||QS()}get(){return _2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(s,e){is(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b2=new Zl(3e4,6e4);function rr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ls(s,e,n,r,l={}){return EE(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const g=$l({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...u};return FS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),vE.fetch()(await TE(s,s.config.apiHost,n,g),_)})}async function EE(s,e,n){s._canInitEmulator=!1;const r={...E2,...e};try{const l=new S2(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw jc(s,"user-disabled",f);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw _E(s,b,_);ei(s,b)}}catch(l){if(l instanceof os)throw l;ei(s,"network-request-failed",{message:String(l)})}}async function Jl(s,e,n,r,l={}){const u=await ls(s,e,n,r,l);return"mfaPendingCredential"in u&&ei(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function TE(s,e,n,r){const l=`${e}${n}?${r}`,u=s,f=u.config.emulator?$m(s.config,l):`${s.config.apiScheme}://${l}`;return T2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function A2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),b2.get())})}}function jc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=wi(s,e,r);return l.customData._tokenResponse=n,l}function I0(s){return s!==void 0&&s.enterprise!==void 0}class w2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x2(s,e){return ls(s,"GET","/v2/recaptchaConfig",rr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(s,e){return ls(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return ls(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C2(s,e=!1){const n=Dt(s),r=await n.getIdToken(e),l=Zm(r);_e(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:Dl(rm(l.auth_time)),issuedAtTime:Dl(rm(l.iat)),expirationTime:Dl(rm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function rm(s){return Number(s)*1e3}function Zm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(n);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function N0(s){const e=Zm(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof os&&I2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function I2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(s){var S;const e=s.auth,n=await s.getIdToken(),r=await no(s,ih(e,{idToken:n}));_e(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=(S=l.providerUserInfo)!=null&&S.length?bE(l.providerUserInfo):[],f=O2(s.providerData,u),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!(f!=null&&f.length),_=g?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Em(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function D2(s){const e=Dt(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O2(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function bE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(s,e){const n=await EE(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await TE(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(p.credentials="include"),vE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M2(s,e){return ls(s,"POST","/v2/accounts:revokeToken",rr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=N0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await V2(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new $a;return r&&(_e(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(_e(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new N2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await no(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C2(this,e)}reload(){return D2(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await no(this,R2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:z,providerData:$,stsTokenManager:W}=n;_e(S&&W,e,"internal-error");const J=$a.fromJSON(this.name,W);_e(typeof S=="string",e,"internal-error"),qs(r,e.name),qs(l,e.name),_e(typeof D=="boolean",e,"internal-error"),_e(typeof z=="boolean",e,"internal-error"),qs(u,e.name),qs(f,e.name),qs(g,e.name),qs(p,e.name),qs(_,e.name),qs(b,e.name);const le=new Wn({uid:S,auth:e,email:l,emailVerified:D,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:b});return $&&Array.isArray($)&&(le.providerData=$.map(ne=>({...ne}))),p&&(le._redirectEventId=p),le}static async _fromIdTokenResponse(e,n,r=!1){const l=new $a;l.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await sh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];_e(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?bE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new $a;g.updateFromIdToken(r);const p=new Wn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;function Ji(s){is(s instanceof Function,"Expected a class definition");let e=D0.get(s);return e?(is(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,D0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AE.type="NONE";const O0=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(s,e,n){return`firebase:${s}:${e}:${n}`}class Za{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Fc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ih(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Za(Ji(O0),e,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Ji(O0);const f=Fc(r,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const b=await _._get(f);if(b){let S;if(typeof b=="string"){const D=await ih(e,{idToken:b}).catch(()=>{});if(!D)break;S=await Wn._fromGetAccountInfoResponse(e,D,b)}else S=Wn._fromJSON(e,b);_!==u&&(g=S),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,r):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Za(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IE(e))return"Blackberry";if(NE(e))return"Webos";if(wE(e))return"Safari";if((e.includes("chrome/")||xE(e))&&!e.includes("edge/"))return"Chrome";if(CE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SE(s=Wt()){return/firefox\//i.test(s)}function wE(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xE(s=Wt()){return/crios\//i.test(s)}function RE(s=Wt()){return/iemobile/i.test(s)}function CE(s=Wt()){return/android/i.test(s)}function IE(s=Wt()){return/blackberry/i.test(s)}function NE(s=Wt()){return/webos/i.test(s)}function Jm(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function k2(s=Wt()){var e;return Jm(s)&&!!((e=window.navigator)!=null&&e.standalone)}function j2(){return KS()&&document.documentMode===10}function DE(s=Wt()){return Jm(s)||CE(s)||NE(s)||IE(s)||/windows phone/i.test(s)||RE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(s,e=[]){let n;switch(s){case"Browser":n=V0(Wt());break;case"Worker":n=`${V0(Wt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(s,e={}){return ls(s,"GET","/v2/passwordPolicy",rr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=6;class z2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new L2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var r,l,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ih(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(es(this));const n=e?Dt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U2(this),n=new z2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&p2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jr(s){return Dt(s)}class M0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tw(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(s){bh=s}function VE(s){return bh.loadJS(s)}function H2(){return bh.recaptchaEnterpriseScript}function F2(){return bh.gapiScript}function G2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Q2{constructor(){this.enterprise=new K2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class K2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Y2="recaptcha-enterprise",ME="NO_RECAPTCHA";class X2{constructor(e){this.type=Y2,this.auth=Jr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{x2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new w2(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;I0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(ME)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Q2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!n&&I0(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=H2();p.length!==0&&(p+=g),VE(p).then(()=>{l(g,u,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function k0(s,e,n,r=!1,l=!1){const u=new X2(s);let f;if(l)f=ME;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Tm(s,e,n,r,l){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await k0(s,e,n,n==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await k0(s,e,n,n==="getOobCode");return r(s,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(s,e){const n=Km(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Gr(u,e??{}))return l;ei(l,"already-initialized")}return n.initialize({options:e})}function Z2(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J2(s,e,n){const r=Jr(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=kE(e),{host:f,port:g}=W2(e),p=g===null?"":`:${g}`,_={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Gr(_,r.config.emulator)&&Gr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,uo(f)?(uE(`${u}//${f}${p}`),cE("Auth",!0)):ex()}function kE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function W2(s){const e=kE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:j0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:j0(f)}}}function j0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ex(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function tx(s,e){return ls(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(s,e){return Jl(s,"POST","/v1/accounts:signInWithPassword",rr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(s,e){return Jl(s,"POST","/v1/accounts:signInWithEmailLink",rr(s,e))}async function sx(s,e){return Jl(s,"POST","/v1/accounts:signInWithEmailLink",rr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Wm{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ul(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tm(e,n,"signInWithPassword",nx);case"emailLink":return ix(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tm(e,r,"signUpPassword",tx);case"emailLink":return sx(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(s,e){return Jl(s,"POST","/v1/accounts:signInWithIdp",rr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="http://localhost";class Yr extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new Yr(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:rx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ox(s){const e=Sl(wl(s)).link,n=e?Sl(wl(e)).deep_link_id:null,r=Sl(wl(s)).deep_link_id;return(r?Sl(wl(r)).link:null)||r||n||e||s}class eg{constructor(e){const n=Sl(wl(e)),r=n.apiKey??null,l=n.oobCode??null,u=ax(n.mode??null);_e(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ox(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=eg.parseLink(n);return _e(r,"argument-error"),Ul._fromEmailAndCode(e,r.code,r.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Wl{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Wl{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Wl{constructor(){super("twitter.com")}static credential(e,n){return Yr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(s,e){return Jl(s,"POST","/v1/accounts:signUp",rr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await Wn._fromIdTokenResponse(e,r,l),f=L0(r);return new Xr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=L0(r);return new Xr({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function L0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends os{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new rh(e,n,r,l)}}function LE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,u,e,r):u})}async function ux(s,e,n=!1){const r=await no(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Xr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(s,e,n=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(es(r));const l="reauthenticate";try{const u=await no(s,LE(r,l,e,s),n);_e(u.idToken,r,"internal-error");const f=Zm(u.idToken);_e(f,r,"internal-error");const{sub:g}=f;return _e(s.uid===g,r,"user-mismatch"),Xr._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(s,e,n=!1){if(Un(s.app))return Promise.reject(es(s));const r="signIn",l=await LE(s,r,e),u=await Xr._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function hx(s,e){return UE(Jr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(s){const e=Jr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zE(s,e,n){if(Un(s.app))return Promise.reject(es(s));const r=Jr(s),f=await Tm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&PE(s),p}),g=await Xr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function fx(s,e,n){return Un(s.app)?Promise.reject(es(s)):hx(Dt(s),ho.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PE(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(s,e){return ls(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await no(r,dx(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const g=r.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function gx(s,e,n,r){return Dt(s).onIdTokenChanged(e,n,r)}function px(s,e,n){return Dt(s).beforeAuthStateChanged(e,n)}function yx(s,e,n,r){return Dt(s).onAuthStateChanged(e,n,r)}function BE(s){return Dt(s).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=1e3,vx=10;class HE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);j2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,vx):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const Ex=HE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FE.type="SESSION";const GE=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,u)),p=await Tx(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const _=tg("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(D.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function Ax(s){xi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function Sx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wx(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function xx(){return QE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="firebaseLocalStorageDb",Rx=1,oh="firebaseLocalStorage",YE="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sh(s,e){return s.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function Cx(){const s=indexedDB.deleteDatabase(KE);return new eu(s).toPromise()}function bm(){const s=indexedDB.open(KE,Rx);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(oh,{keyPath:YE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await Cx(),e(await bm()))})})}async function U0(s,e,n){const r=Sh(s,!0).put({[YE]:e,value:n});return new eu(r).toPromise()}async function Ix(s,e){const n=Sh(s,!1).get(e),r=await new eu(n).toPromise();return r===void 0?null:r.value}function P0(s,e){const n=Sh(s,!0).delete(e);return new eu(n).toPromise()}const Nx=800,Dx=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(xx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Sx(),!this.activeServiceWorker)return;this.sender=new bx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await U0(e,ah,"1"),await P0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ix(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Sh(l,!1).getAll();return new eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const Ox=XE;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(s,e){return e?Ji(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mx(s){return UE(s.auth,new ng(s),s.bypassAuthState)}function kx(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),cx(n,new ng(s),s.bypassAuthState)}async function jx(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),ux(n,new ng(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mx;case"linkViaPopup":case"linkViaRedirect":return jx;case"reauthViaPopup":case"reauthViaRedirect":return kx;default:ei(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Zl(2e3,1e4);class Xa extends $E{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lx.get())};e()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="pendingRedirect",Gc=new Map;class Px extends $E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await zx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zx(s,e){const n=Hx(e),r=qx(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function Bx(s,e){Gc.set(s._key(),e)}function qx(s){return Ji(s._redirectPersistence)}function Hx(s){return Fc(Ux,s.config.apiKey,s.name)}async function Fx(s,e,n=!1){if(Un(s.app))return Promise.reject(es(s));const r=Jr(s),l=Vx(r,e),f=await new Px(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=600*1e3;class Qx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZE(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gx&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ZE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(s,e={}){return ls(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$x=/^https?/;async function Zx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Yx(s);for(const n of e)try{if(Jx(n))return}catch{}ei(s,"unauthorized-domain")}function Jx(s){const e=vm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!$x.test(n))return!1;if(Xx.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Zl(3e4,6e4);function B0(){const s=xi().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function eR(s){return new Promise((e,n)=>{var l,u,f;function r(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(wi(s,"network-request-failed"))},timeout:Wx.get()})}if((u=(l=xi().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=xi().gapi)!=null&&f.load)r();else{const g=G2("iframefcb");return xi()[g]=()=>{gapi.load?r():n(wi(s,"network-request-failed"))},VE(`${F2()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function tR(s){return Qc=Qc||eR(s),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Zl(5e3,15e3),iR="__/auth/iframe",sR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?$m(e,sR):`https://${s.config.authDomain}/${iR}`,r={apiKey:e.apiKey,appName:s.name,v:co},l=aR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${$l(r).slice(1)}`}async function lR(s){const e=await tR(s),n=xi().gapi;return _e(n,s,"internal-error"),e.open({where:document.body,url:oR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=wi(s,"network-request-failed"),g=xi().setTimeout(()=>{u(f)},nR.get());function p(){xi().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cR=500,hR=600,fR="_blank",dR="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(s,e,n,r=cR,l=hR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...uR,width:r.toString(),height:l.toString(),top:u,left:f},_=Wt().toLowerCase();n&&(g=xE(_)?fR:n),SE(_)&&(e=e||dR,p.scrollbars="yes");const b=Object.entries(p).reduce((D,[z,$])=>`${D}${z}=${$},`,"");if(k2(_)&&g!=="_self")return gR(e||"",g),new q0(null);const S=window.open(e||"",g,b);_e(S,s,"popup-blocked");try{S.focus()}catch{}return new q0(S)}function gR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="__/auth/handler",yR="emulator/auth/handler",_R=encodeURIComponent("fac");async function H0(s,e,n,r,l,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:co,eventId:l};if(e instanceof jE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",ew(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof Wl){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await s._getAppCheckToken(),_=p?`#${_R}=${encodeURIComponent(p)}`:"";return`${vR(s)}?${$l(g).slice(1)}${_}`}function vR({config:s}){return s.emulator?$m(s,yR):`https://${s.authDomain}/${pR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class ER{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=Fx,this._overrideRedirectResult=Bx}async _openPopup(e,n,r,l){var f;is((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await H0(e,n,r,vm(),l);return mR(e,u,tg())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await H0(e,n,r,vm(),l);return Ax(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(is(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lR(e),r=new Qx(e);return n.register("authEvent",l=>(_e(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[am];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DE()||wE()||Jm()}}const TR=ER;var F0="@firebase/auth",G0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SR(s){to(new Qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(s)},_=new B2(r,l,u,p);return Z2(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),to(new Qr("auth-internal",e=>{const n=Jr(e.getProvider("auth").getImmediate());return(r=>new bR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(F0,G0,AR(s)),$s(F0,G0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=300,xR=lE("authIdTokenMaxAge")||wR;let Q0=null;const RR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xR)return;const l=n==null?void 0:n.token;Q0!==l&&(Q0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function JE(s=dE()){const e=Km(s,"auth");if(e.isInitialized())return e.getImmediate();const n=$2(s,{popupRedirectResolver:TR,persistence:[Ox,Ex,GE]}),r=lE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=RR(u.toString());px(n,f,()=>f(n.currentUser)),gx(n,g=>f(g))}}const l=aE("auth");return l&&J2(n,`http://${l}`),n}function CR(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}q2({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=wi("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",CR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SR("Browser");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,WE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,O){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return w.prototype[x].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)V[x]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],x=C.g[2];let O=C.g[3],R;R=w+(O^I&(x^O))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(x^w&(I^x))+V[1]+3905402710&4294967295,O=w+(R<<12&4294967295|R>>>20),R=x+(I^O&(w^I))+V[2]+606105819&4294967295,x=O+(R<<17&4294967295|R>>>15),R=I+(w^x&(O^w))+V[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=w+(O^I&(x^O))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(x^w&(I^x))+V[5]+1200080426&4294967295,O=w+(R<<12&4294967295|R>>>20),R=x+(I^O&(w^I))+V[6]+2821735955&4294967295,x=O+(R<<17&4294967295|R>>>15),R=I+(w^x&(O^w))+V[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=w+(O^I&(x^O))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(x^w&(I^x))+V[9]+2336552879&4294967295,O=w+(R<<12&4294967295|R>>>20),R=x+(I^O&(w^I))+V[10]+4294925233&4294967295,x=O+(R<<17&4294967295|R>>>15),R=I+(w^x&(O^w))+V[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=w+(O^I&(x^O))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=O+(x^w&(I^x))+V[13]+4254626195&4294967295,O=w+(R<<12&4294967295|R>>>20),R=x+(I^O&(w^I))+V[14]+2792965006&4294967295,x=O+(R<<17&4294967295|R>>>15),R=I+(w^x&(O^w))+V[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=w+(x^O&(I^x))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^x&(w^I))+V[6]+3225465664&4294967295,O=w+(R<<9&4294967295|R>>>23),R=x+(w^I&(O^w))+V[11]+643717713&4294967295,x=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(x^O))+V[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=w+(x^O&(I^x))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^x&(w^I))+V[10]+38016083&4294967295,O=w+(R<<9&4294967295|R>>>23),R=x+(w^I&(O^w))+V[15]+3634488961&4294967295,x=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(x^O))+V[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=w+(x^O&(I^x))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^x&(w^I))+V[14]+3275163606&4294967295,O=w+(R<<9&4294967295|R>>>23),R=x+(w^I&(O^w))+V[3]+4107603335&4294967295,x=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(x^O))+V[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=w+(x^O&(I^x))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=O+(I^x&(w^I))+V[2]+4243563512&4294967295,O=w+(R<<9&4294967295|R>>>23),R=x+(w^I&(O^w))+V[7]+1735328473&4294967295,x=O+(R<<14&4294967295|R>>>18),R=I+(O^w&(x^O))+V[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=w+(I^x^O)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^x)+V[8]+2272392833&4294967295,O=w+(R<<11&4294967295|R>>>21),R=x+(O^w^I)+V[11]+1839030562&4294967295,x=O+(R<<16&4294967295|R>>>16),R=I+(x^O^w)+V[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=w+(I^x^O)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^x)+V[4]+1272893353&4294967295,O=w+(R<<11&4294967295|R>>>21),R=x+(O^w^I)+V[7]+4139469664&4294967295,x=O+(R<<16&4294967295|R>>>16),R=I+(x^O^w)+V[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=w+(I^x^O)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^x)+V[0]+3936430074&4294967295,O=w+(R<<11&4294967295|R>>>21),R=x+(O^w^I)+V[3]+3572445317&4294967295,x=O+(R<<16&4294967295|R>>>16),R=I+(x^O^w)+V[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=w+(I^x^O)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=O+(w^I^x)+V[12]+3873151461&4294967295,O=w+(R<<11&4294967295|R>>>21),R=x+(O^w^I)+V[15]+530742520&4294967295,x=O+(R<<16&4294967295|R>>>16),R=I+(x^O^w)+V[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=w+(x^(I|~O))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~x))+V[7]+1126891415&4294967295,O=w+(R<<10&4294967295|R>>>22),R=x+(w^(O|~I))+V[14]+2878612391&4294967295,x=O+(R<<15&4294967295|R>>>17),R=I+(O^(x|~w))+V[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=w+(x^(I|~O))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~x))+V[3]+2399980690&4294967295,O=w+(R<<10&4294967295|R>>>22),R=x+(w^(O|~I))+V[10]+4293915773&4294967295,x=O+(R<<15&4294967295|R>>>17),R=I+(O^(x|~w))+V[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=w+(x^(I|~O))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~x))+V[15]+4264355552&4294967295,O=w+(R<<10&4294967295|R>>>22),R=x+(w^(O|~I))+V[6]+2734768916&4294967295,x=O+(R<<15&4294967295|R>>>17),R=I+(O^(x|~w))+V[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=w+(x^(I|~O))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=O+(I^(w|~x))+V[11]+3174756917&4294967295,O=w+(R<<10&4294967295|R>>>22),R=x+(w^(O|~I))+V[2]+718787259&4294967295,x=O+(R<<15&4294967295|R>>>17),R=I+(O^(x|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let x=this.h,O=0;for(;O<w;){if(x==0)for(;O<=I;)l(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<w;)if(V[x++]=C.charCodeAt(O++),x==this.blockSize){l(this,V),x=0;break}}else for(;O<w;)if(V[x++]=C[O++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function u(C,w){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function f(C,w){this.h=w;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const O=C[x]|0;V&&O==w||(I[x]=O,V=!1)}this.g=I}var g={};function p(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(_(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new f(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return J(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=S;for(let O=0;O<C.length;O+=8){var x=Math.min(8,C.length-O);const R=parseInt(C.substring(O,O+x),w);x<8?(x=_(Math.pow(w,x)),V=V.j(x).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var S=p(0),D=p(1),z=p(16777216);s=f.prototype,s.m=function(){if(W(this))return-J(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(W(this))return"-"+J(this).toString(C);const w=_(Math.pow(C,6));var I=this;let V="";for(;;){const x=Ie(I,w).g;I=le(I,x.j(w));let O=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,$(I))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function W(C){return C.h==-1}s.l=function(C){return C=le(this,C),W(C)?-1:$(C)?0:1};function J(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new f(I,~C.h).add(D)}s.abs=function(){return W(this)?J(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=w;x++){let O=V+(this.i(x)&65535)+(C.i(x)&65535),R=(O>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=R>>>16,O&=65535,R&=65535,I[x]=R<<16|O}return new f(I,I[I.length-1]&-2147483648?-1:0)};function le(C,w){return C.add(J(w))}s.j=function(C){if($(this)||$(C))return S;if(W(this))return W(C)?J(this).j(J(C)):J(J(this).j(C));if(W(C))return J(this.j(J(C)));if(this.l(z)<0&&C.l(z)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const O=this.i(V)>>>16,R=this.i(V)&65535,he=C.i(x)>>>16,Ne=C.i(x)&65535;I[2*V+2*x]+=R*Ne,ne(I,2*V+2*x),I[2*V+2*x+1]+=O*Ne,ne(I,2*V+2*x+1),I[2*V+2*x+1]+=R*he,ne(I,2*V+2*x+1),I[2*V+2*x+2]+=O*he,ne(I,2*V+2*x+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new f(I,0)};function ne(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ue(C,w){this.g=C,this.h=w}function Ie(C,w){if($(w))throw Error("division by zero");if($(C))return new ue(S,S);if(W(C))return w=Ie(J(C),w),new ue(J(w.g),J(w.h));if(W(w))return w=Ie(C,J(w)),new ue(J(w.g),w.h);if(C.g.length>30){if(W(C)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var I=D,V=w;V.l(C)<=0;)I=me(I),V=me(V);var x=Ee(I,1),O=Ee(V,1);for(V=Ee(V,2),I=Ee(I,2);!$(V);){var R=O.add(V);R.l(C)<=0&&(x=x.add(I),O=R),V=Ee(V,1),I=Ee(I,1)}return w=le(C,x.j(w)),new ue(x,w)}for(x=S;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=_(I),R=O.j(w);W(R)||R.l(C)>0;)I-=V,O=_(I),R=O.j(w);$(O)&&(O=D),x=x.add(O),C=le(C,R)}return new ue(x,C)}s.B=function(C){return Ie(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new f(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new f(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new f(I,this.h^C.h)};function me(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(I,C.h)}function Ee(C,w){const I=w>>5;w%=32;const V=C.g.length-I,x=[];for(let O=0;O<V;O++)x[O]=w>0?C.i(O+I)>>>w|C.i(O+I+1)<<32-w:C.i(O+I);return new f(x,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=b,Zs=f}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,xl,t1,Kc,Am,n1,i1,s1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break e;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=p,_.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,q){for(var ee=Array(arguments.length-2),we=2;we<arguments.length;we++)ee[we-2]=arguments[we];return m.prototype[L].apply(A,ee)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function $(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let ee=0;ee<q;ee++)c[v+ee]=L[ee]}else c.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){f.setTimeout(()=>{throw c},0)}function le(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,v){const A=ue.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new W(()=>new Ie,c=>c.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Ee=!1,C=new ne,w=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(I)}};function I(){for(var c;c=le();){try{c.h.call(c.g)}catch(v){J(v)}var m=ue;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function he(c,m){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(he,x),he.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++F,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ge(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function k(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,v,A,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ee=Re(c,m,A,L);return ee>-1?(m=c[ee],v||(m.fa=!1)):(m=new te(m,this.src,q,!!A,L),m.fa=v,c.push(m)),m};function Te(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(fe(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,m,v,A){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Ot={};function ot(c,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ot(c,m[q],v,A,L);return null}return v=Eo(v),c&&c[Ne]?c.J(m,v,g(A)?!!A.capture:!1,L):ur(c,m,v,!1,A,L)}function ur(c,m,v,A,L,q){if(!m)throw Error("Invalid event type");const ee=g(L)?!!L.capture:!!L;let we=cr(c);if(we||(c[ze]=we=new ae(c)),v=we.add(m,v,A,ee,q),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)O||(L=ee),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(ni(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return m.call(c.src,c.listener,v)}const m=_o;return c}function na(c,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)na(c,m[q],v,A,L);else A=g(A)?!!A.capture:!!A,v=Eo(v),c&&c[Ne]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Re(m,v,A,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=cr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Re(m,v,A,L)),(v=c>-1?m[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ne])Te(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=cr(m))?(Te(v,c),v.h==0&&(v.src=null,m[ze]=null)):fe(c)}}}function ni(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function _o(c,m){if(c.da)c=!0;else{m=new he(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ia(c),c=v.call(A,m)}return c}function cr(c){return c=c[ze],c instanceof ae?c:null}var vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(m){return c.handleEvent(m)}),c[vo])}function vt(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}S(vt,V),vt.prototype[Ne]=!0,vt.prototype.removeEventListener=function(c,m,v,A){na(this,c,m,v,A)};function Vt(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new x(m,c);else if(m instanceof x)m.target=m.target||c;else{var L=m;m=new x(A,c),ie(m,L)}L=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],L=us(q,A,!0,m)&&L;if(q=m.g=c,L=us(q,A,!0,m)&&L,L=us(q,A,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],L=us(q,A,!1,m)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)fe(v[A]);delete c.g[m],c.h--}}this.G=null},vt.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},vt.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function us(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const we=ee.listener,gt=ee.ha||ee.src;ee.fa&&Te(c.i,ee),L=we.call(gt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Yh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function ou(c){c.g=Yh(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(c){V.call(this),this.h=c,this.g={}}S(hr,V);var To=[];function bo(c){Ue(c.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},c),c.g={}}hr.prototype.N=function(){hr.Z.N.call(this),bo(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=f.JSON.stringify,Xh=f.JSON.parse,lu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function uu(){}function cu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){x.call(this,"d")}S(zt,x);function wn(){x.call(this,"c")}S(wn,x);var mt={},hu=null;function sa(){return hu=hu||new vt}mt.Ia="serverreachability";function fu(c){x.call(this,mt.Ia,c)}S(fu,x);function ii(c){const m=sa();Vt(m,new fu(m))}mt.STAT_EVENT="statevent";function fr(c,m){x.call(this,mt.STAT_EVENT,c),this.stat=m}S(fr,x);function Et(c){const m=sa();Vt(m,new fr(m,c))}mt.Ja="timingevent";function si(c,m){x.call(this,mt.Ja,c),this.size=m}S(si,x);function ri(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function $h(c,m,v,A,L,q){c.info(function(){if(c.g)if(q){var ee="",we=q.split("&");for(let Qe=0;Qe<we.length;Qe++){var gt=we[Qe].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const In=lt.split("_");ee=In.length>=2&&In[1]=="type"?ee+(lt+"="+gt+"&"):ee+(lt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function du(c,m,v,A,L,q,ee){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+ee})}function ai(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zh(c,v)+(A?" "+A:"")})}function dr(c,m){c.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Zh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<A.length;ee++)A[ee]=""}}}}return cs(q)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function gr(){}S(gr,uu),gr.prototype.g=function(){return new XMLHttpRequest},So=new gr;function Oi(c){return encodeURIComponent(String(c))}function mu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Hn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function oi(c,m,v){c.M=1,c.A=pr(At(m)),c.u=v,c.R=!0,ra(c,null)}function ra(c,m){c.F=Date.now(),li(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Fn,c.g=Iu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new en(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let q=0;q<L.length;q++){const ee=ot(v,L[q],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),$h(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),gt=this.g.ya(),Qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||gt==7||(gt==8||Qe<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(c=q)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),xn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=pu(this,v),lt==jt){we==4&&(this.m=4,Et(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,Et(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,lt,null),ci(this,lt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(ee),ee.P=!0,Et(11))}}else ai(this.i,this.l,v,null),ci(this,v);we==4&&gn(this),this.o&&!this.K&&(we==4?wu(this.j,this):(this.o=!1,li(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),xn(this)}}}catch{}finally{}};function Jh(c){if(!gu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let v="";const A=m.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),xn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function pu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?jt:(v=Number(m.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>m.length?jt:(m=m.slice(A,A+v),c.C=A+v,m)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function li(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(_(c.aa,c),m)}function ui(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ii(),Et(17)),gn(this),this.m=2,xn(this)):aa(this,this.T-c)};function xn(c){c.j.I==0||c.K||wu(c.j,c)}function gn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,bo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),_s(v);else break e;Ar(v),Et(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&ma(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qe=L[m];const lt=Qe[0];if(!(lt<=v.K))if(v.K=lt,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const In=Qe[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const vi=Qe[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Yn=Qe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xn=c.g;if(Xn){const Sr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var q=A.h;q.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ro(q,q.h),q.h=null))}if(A.G){const ga=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Xe(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ee=c;if(A.na=Cu(A,A.L?A.ba:null,A.W),ee.L){Co(A.h,ee);var we=ee,gt=A.O;gt&&(we.H=gt),we.D&&(ui(we),li(we)),A.g=ee}else Au(A);v.i.length>0&&yi(v)}else Qe[0]!="stop"&&Qe[0]!="close"||_i(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?_i(v,7):Lo(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}ii(4)}catch{}}var bt=class{constructor(c,m){this.g=c,this.map=m}};function wo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function Co(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}wo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return z(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,q=null;A>=0?(L=c[v].substring(0,A),q=c[v].substring(A+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.u),this.h=c.h,No(this,Tu(c.i)),this.m=c.m):c&&(m=String(c).match(yu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),hs(this,m[4]),this.h=di(m[5]||"",!0),No(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(yr(m,la,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(yr(m,la,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(yr(v,v.charAt(0)=="/"?Do:_u,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",yr(v,vu)),c.join("")},pn.prototype.resolve=function(c){const m=At(this);let v=!!c.j;v?Lt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)hs(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ee=0;ee<L.length;){const we=L[ee++];we=="."?A&&ee==L.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ee==L.length&&q.push("")):(q.push(we),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?No(m,Tu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function At(c){return new pn(c)}function Lt(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function No(c,m,v){m instanceof ds?(c.i=m,ca(c.i,c.l)):(v||(m=yr(m,fs)),c.i=new ds(m,c.l))}function Xe(c,m,v){c.i.set(m,v)}function pr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var la=/[#\/\?@]/g,_u=/[#\?:]/g,Do=/[#\?]/g,fs=/[#\?@]/g,vu=/#/g;function ds(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ds.prototype,s.add=function(c,m){rn(this),this.i=null,c=ms(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Eu(c,m){rn(c),m=ms(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oo(c,m){return rn(c),m=ms(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Vo(c,m){rn(c);let v=[];if(typeof m=="string")Oo(c,m)&&(v=v.concat(c.g.get(ms(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=ms(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Vo(this,c),c.length>0?String(c[0]):m):m};function ua(c,m,v){Eu(c,m),v.length>0&&(c.i=null,c.g.set(ms(c,m),z(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Oi(v);v=Vo(this,v);for(let q=0;q<v.length;q++){let ee=L;v[q]!==""&&(ee+="="+Oi(v[q])),c.push(ee)}}return this.i=c.join("&")};function Tu(c){const m=new ds;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ms(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ca(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Eu(this,A),ua(this,L,v))},c)),c.j=m}function Gn(c,m){const v=new qn;if(f.Image){const A=new Image;A.onload=b(Rn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(Rn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(Rn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(Rn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Mo(c,m){const v=new qn,A=new AbortController,L=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function gs(){this.g=new lu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(mi,uu),mi.prototype.g=function(){return new _r(this.i,this.h)};function _r(c,m){vt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(_r,vt),s=_r.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ps(this):Qn(this),this.readyState==3&&ha(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ps(this))},s.Na=function(c){this.g&&(this.response=c,ps(this))},s.ga=function(){this.g&&ps(this)};function ps(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return Ue(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function vr(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&Oi(v):Xe(c,m,v))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,vt);var gi=/^https?$/i,ko=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Er(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Er(this,q)}};function Er(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,jo(c),Vi(c)}function jo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},s.Xa=function(){Tr(this)};function Tr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ee=String(c.D).match(yu)[1]||null;!ee&&f.self&&f.self.location&&(ee=f.self.location.protocol.slice(0,-1)),A=!gi.test(ee?ee.toLowerCase():"")}v=A}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",jo(c)}}finally{Vi(c)}}}}function Vi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Xh(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=mu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Ge(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ys(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(c&&c.concurrentRequestLimit),this.Ba=new gs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ys.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,A){Et(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Cu(this,null,this.W),yi(this)};function Lo(c){if(fa(c),c.I==3){var m=c.V++,v=At(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",m),Xe(v,"TYPE","terminate"),br(c,v),m=new Hn(c,c.j,m),m.M=2,m.A=pr(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Ru(c)}function _s(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function fa(c){_s(c),c.v&&(f.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!xo(c.h)&&!c.m){c.m=!0;var m=c.Ea;me||w(),Ee||(me(),Ee=!0),C.add(m,c),c.D=0}}function da(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(_(c.Ea,c,m),xu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Hn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=k(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,L,m),v=At(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),br(this,v),q&&(this.R?m="headers="+Oi(Cn(q))+"&"+m:this.u&&vr(v,this.u,q)),Ro(this.h,L),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",m),Xe(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(c?Uo(this,c):this.i.length==0||xo(this.h)||Uo(this))};function Uo(c,m){var v;m?v=m.l:v=c.V++;const A=At(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),br(c,A),c.u&&c.o&&vr(A,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),oi(v,A,m)}function br(c,m){c.H&&Ue(c.H,function(v,A){Xe(m,A,v)}),c.l&&Ue({},function(v,A){Xe(m,A,v)})}function bu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const gt=["count="+v];we==-1?v>0?(we=L[0].g,gt.push("ofs="+we)):we=0:gt.push("ofs="+we);let Qe=!0;for(let lt=0;lt<v;lt++){var q=L[lt].g;const In=L[lt].map;if(q-=we,q<0)we=Math.max(0,L[lt].g-100),Qe=!1;else try{q="req"+q+"_"||"";try{var ee=In instanceof Map?In:Object.entries(In);for(const[vi,Yn]of ee){let Xn=Yn;g(Yn)&&(Xn=cs(Yn)),gt.push(q+vi+"="+encodeURIComponent(Xn))}}catch(vi){throw gt.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(In)}}if(Qe){ee=gt.join("&");break e}}ee=void 0}return c=c.i.splice(0,v),m.G=c,ee}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;me||w(),Ee||(me(),Ee=!0),C.add(m,c),c.A=0}}function Ar(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(_(c.Da,c),xu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),_s(this),Su(this))};function Po(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Su(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=At(c.na);Xe(m,"RID","rpc"),Xe(m,"SID",c.M),Xe(m,"AID",c.K),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(m,"TO",c.ia),Xe(m,"TYPE","xmlhttp"),br(c,m),c.u&&c.o&&vr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=pr(At(m)),v.u=null,v.R=!0,ra(v,c)}s.Va=function(){this.C!=null&&(this.C=null,_s(this),Ar(this),Et(19))};function ma(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function wu(c,m){var v=null;if(c.g==m){ma(c),Po(c),c.g=null;var A=2}else if(fi(c.h,m))v=m.G,Co(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=sa(),Vt(A,new si(A,v)),yi(c)}else Au(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&da(c,m)||A==2&&Ar(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function xu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),A=c.Ua;const L=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),pr(A),L?Gn(A.toString(),v):Mo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(m),Ru(c),fa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ru(c){if(c.I=0,c.ja=[],c.l){const m=Io(c.h);(m.length!=0||c.i.length!=0)&&($(c.ja,m),$(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Cu(c,m,v){var A=v instanceof pn?At(v):new pn(v);if(A.g!="")m&&(A.g=m+"."+A.g),hs(A,A.u);else{var L=f.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new pn(null);A&&Lt(q,A),m&&(q.g=m),L&&hs(q,L),v&&(q.h=v),A=q}return v=c.G,m=c.wa,v&&m&&Xe(A,v,m),Xe(A,"VER",c.ka),br(c,A),A}function Iu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new mi({ab:v})):new Je(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}s=Nu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vs(){}vs.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){vt.call(this),this.g=new ys(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ki(this)}S(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Lo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cs(c),c=v);m.i.push(new bt(m.Ya++,c)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,tn.Z.N.call(this)};function Du(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Du,zt);function Ou(){wn.call(this),this.status=1}S(Ou,wn);function ki(c){this.g=c}S(ki,Nu),ki.prototype.ra=function(){Vt(this.g,"a")},ki.prototype.qa=function(c){Vt(this.g,new Du(c))},ki.prototype.pa=function(c){Vt(this.g,new Ou)},ki.prototype.oa=function(){Vt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,s1=function(){return new vs},i1=function(){return sa()},n1=mt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Kc=mr,Ao.COMPLETE="complete",t1=Ao,cu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,xl=cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,e1=Je}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",X0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Gm("@firebase/firestore");function Ga(){return $r.logLevel}function re(s,...e){if($r.logLevel<=ke.DEBUG){const n=e.map(ig);$r.debug(`Firestore (${fo}): ${s}`,...n)}}function ss(s,...e){if($r.logLevel<=ke.ERROR){const n=e.map(ig);$r.error(`Firestore (${fo}): ${s}`,...n)}}function io(s,...e){if($r.logLevel<=ke.WARN){const n=e.map(ig);$r.warn(`Firestore (${fo}): ${s}`,...n)}}function ig(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r1(s,r,n)}function r1(s,e,n){let r=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function Ye(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||r1(e,l,r)}function Se(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new a1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class OR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=kR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function Sm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return om(l)===om(u)?je(l,u):om(l)?1:-1}return je(s.length,e.length)}const jR=55296,LR=57343;function om(s){const e=s.charCodeAt(0);return e>=jR&&e<=LR}function so(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Si.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const r=Si.isNumericId(e),l=Si.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class it extends Si{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Si{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new Kt([Z0])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new se(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new se(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(u(),l++)}if(u(),f)throw new se(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(s,e,n){if(!n)throw new se(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function PR(s,e,n,r){if(e===!0&&r===!0)throw new se(K.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function J0(s){if(!pe.isDocumentKey(s))throw new se(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function W0(s){if(pe.isDocumentKey(s))throw new se(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function l1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function mn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(s);throw new se(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s,e){const n={typeString:s};return e&&(n.value=e),n}function tu(s,e){if(!l1(s))throw new se(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new se(K.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-62135596800,tv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tv);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ev)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new at(0,0))}static max(){return new be(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function zR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=be.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ws(l,pe.empty(),e)}function BR(s){return new Ws(s.readTime,s.key,Pl)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(be.min(),pe.empty(),Pl)}static max(){return new Ws(be.max(),pe.empty(),Pl)}}function qR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:je(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==HR)throw s;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(p=>r(p)))})),f=!0,u===l&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((l=>l?Z.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next((b=>{f[_]=b,++g,g===u&&r(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new Z(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function GR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function Rh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function QR(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function KR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=nv(e)),e=YR(s.get(n),e);return nv(e)}function YR(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case u1:n+="";break;default:n+=u}}return n}function nv(s){return s+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ar(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function c1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Qt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(e){return new sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new kt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h1("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Ye(!!s,39018),typeof s=="string"){let e=0;const n=XR.exec(s);if(Ye(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function tr(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",d1="__type__",m1="__previous_value__",g1="__local_write_time__";function ag(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[d1])==null?void 0:r.stringValue)===f1}function Ch(s){const e=s.mapValue.fields[m1];return ag(e)?Ch(e):e}function zl(s){const e=er(s.mapValue.fields[g1].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,l,u,f,g,p,_,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=b}}const uh="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__type__",ZR="__max__",Pc={mapValue:{}},y1="__vector__",ch="value";function nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ag(s)?4:WR(s)?9007199254740991:JR(s)?10:11:ve(28295,{value:s})}function Di(s,e){if(s===e)return!0;const n=nr(s);if(n!==nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return zl(s).isEqual(zl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=er(l.timestampValue),g=er(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return tr(l.bytesValue).isEqual(tr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return _t(l.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _t(l.integerValue)===_t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=_t(l.doubleValue),g=_t(u.doubleValue);return f===g?lh(f)===lh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return so(s.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(iv(f)!==iv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Di(f[p],g[p])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function ql(s,e){return(s.values||[]).find((n=>Di(n,e)))!==void 0}function ro(s,e){if(s===e)return 0;const n=nr(s),r=nr(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return rv(s.timestampValue,e.timestampValue);case 4:return rv(zl(s),zl(e));case 5:return Sm(s.stringValue,e.stringValue);case 6:return(function(u,f){const g=tr(u),p=tr(f);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const b=je(g[_],p[_]);if(b!==0)return b}return je(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=je(_t(u.latitude),_t(f.latitude));return g!==0?g:je(_t(u.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return av(s.arrayValue,e.arrayValue);case 10:return(function(u,f){var D,z,$,W;const g=u.fields||{},p=f.fields||{},_=(D=g[ch])==null?void 0:D.arrayValue,b=(z=p[ch])==null?void 0:z.arrayValue,S=je((($=_==null?void 0:_.values)==null?void 0:$.length)||0,((W=b==null?void 0:b.values)==null?void 0:W.length)||0);return S!==0?S:av(_,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Pc.mapValue&&f===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(f===Pc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=f.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const D=Sm(p[S],b[S]);if(D!==0)return D;const z=ro(g[p[S]],_[b[S]]);if(z!==0)return z}return je(p.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function rv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const n=er(s),r=er(e),l=je(n.seconds,r.seconds);return l!==0?l:je(n.nanos,r.nanos)}function av(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=ro(n[l],r[l]);if(u)return u}return je(n.length,r.length)}function ao(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=er(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return tr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=wm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${wm(n.fields[f])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Yc(s){switch(nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Yc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ar(r.fields,((u,f)=>{l+=u.length+Yc(f)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function ov(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xm(s){return!!s&&"integerValue"in s}function og(s){return!!s&&"arrayValue"in s}function lv(s){return!!s&&"nullValue"in s}function uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function JR(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[p1])==null?void 0:r.stringValue)===y1}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ar(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ol(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(s.arrayValue.values[n]);return e}return{...s}}function WR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Kt.emptyPath(),r={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}f?r[g.lastSegment()]=Ol(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){ar(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new dn(Ol(this.value))}}function _1(s){const e=[];return ar(s.fields,((n,r)=>{const l=new Kt([n]);if(Xc(r)){const u=_1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,l,u,f,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,n,r,l){return new Jt(e,1,n,be.min(),r,l,0)}static newNoDocument(e,n){return new Jt(e,2,n,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function cv(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=ro(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function hv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Di(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function eC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class It extends v1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nC(e,n,r):n==="array-contains"?new rC(e,r):n==="in"?new aC(e,r):n==="not-in"?new oC(e,r):n==="array-contains-any"?new lC(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iC(e,r):new sC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&nr(this.value)===nr(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends v1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ti(e,n)}matches(e){return E1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E1(s){return s.op==="and"}function T1(s){return tC(s)&&E1(s)}function tC(s){for(const e of s.filters)if(e instanceof ti)return!1;return!0}function Rm(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(T1(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${e})`}}function b1(s,e){return s instanceof It?(function(r,l){return l instanceof It&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(s,e):s instanceof ti?(function(r,l){return l instanceof ti&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,g)=>u&&b1(f,l.filters[g])),!0):!1})(s,e):void ve(19439)}function A1(s){return s instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(s):s instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(A1).join(" ,")+"}"})(s):"Filter"}class nC extends It{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class iC extends It{constructor(e,n){super(e,"in",n),this.keys=S1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sC extends It{constructor(e,n){super(e,"not-in",n),this.keys=S1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function S1(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>pe.fromName(r.referenceValue)))}class rC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&ql(n.arrayValue,this.value)}}class aC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class oC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class lC extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ql(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n=null,r=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function fv(s,e=null,n=[],r=[],l=null,u=null,f=null){return new uC(s,e,n,r,l,u,f)}function lg(s){const e=Se(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ao(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ao(r))).join(",")),e.Te=n}return e.Te}function ug(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!eC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!b1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!hv(s.startAt,e.startAt)&&hv(s.endAt,e.endAt)}function Cm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n=null,r=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(s,e,n,r,l,u,f,g){return new po(s,e,n,r,l,u,f,g)}function Ih(s){return new po(s)}function dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w1(s){return s.collectionGroup!==null}function Vl(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hl(u,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Hl(Kt.keyField(),r))}return e.Ie}function Ri(s){const e=Se(s);return e.Ee||(e.Ee=hC(e,Vl(s))),e.Ee}function hC(s,e){if(s.limitType==="F")return fv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Hl(l.field,u)}));const n=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return fv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Im(s,e){const n=s.filters.concat([e]);return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Nm(s,e,n){return new po(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Nh(s,e){return ug(Ri(s),Ri(e))&&s.limitType===e.limitType}function x1(s){return`${lg(Ri(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>A1(l))).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Vl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,g,p){const _=cv(f,g,p);return f.inclusive?_<=0:_<0})(r.startAt,Vl(r),l)||r.endAt&&!(function(f,g,p){const _=cv(f,g,p);return f.inclusive?_>=0:_>0})(r.endAt,Vl(r),l))})(s,e)}function fC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R1(s){return(e,n)=>{let r=!1;for(const l of Vl(s)){const u=dC(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function dC(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),_=g.data.field(u);return p!==null&&_!==null?ro(p,_):ve(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ar(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new ct(pe.comparator);function rs(){return mC}const C1=new ct(pe.comparator);function Rl(...s){let e=C1;for(const n of s)e=e.insert(n.key,n);return e}function I1(s){let e=C1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Br(){return Ml()}function N1(){return Ml()}function Ml(){return new Wr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const gC=new ct(pe.comparator),pC=new kt(pe.comparator);function Le(...s){let e=pC;for(const n of s)e=e.add(n);return e}const yC=new kt(je);function _C(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function D1(s){return{integerValue:""+s}}function vC(s,e){return QR(e)?D1(e):cg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function EC(s,e,n){return s instanceof Fl?(function(l,u){const f={fields:{[d1]:{stringValue:f1},[g1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ag(u)&&(u=Ch(u)),u&&(f.fields[m1]=u),{mapValue:f}})(n,e):s instanceof Gl?V1(s,e):s instanceof Ql?M1(s,e):(function(l,u){const f=O1(l,u),g=mv(f)+mv(l.Ae);return xm(f)&&xm(l.Ae)?D1(g):cg(l.serializer,g)})(s,e)}function TC(s,e,n){return s instanceof Gl?V1(s,e):s instanceof Ql?M1(s,e):n}function O1(s,e){return s instanceof fh?(function(r){return xm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Fl extends Oh{}class Gl extends Oh{constructor(e){super(),this.elements=e}}function V1(s,e){const n=k1(e);for(const r of s.elements)n.some((l=>Di(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Ql extends Oh{constructor(e){super(),this.elements=e}}function M1(s,e){let n=k1(e);for(const r of s.elements)n=n.filter((l=>!Di(l,r)));return{arrayValue:{values:n}}}class fh extends Oh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mv(s){return _t(s.integerValue||s.doubleValue)}function k1(s){return og(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.field=e,this.transform=n}}function AC(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Gl&&l instanceof Gl||r instanceof Ql&&l instanceof Ql?so(r.elements,l.elements,Di):r instanceof fh&&l instanceof fh?Di(r.Ae,l.Ae):r instanceof Fl&&l instanceof Fl})(s.transform,e.transform)}class SC{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function j1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hg(s.key,zn.none()):new nu(s.key,s.data,zn.none());{const n=s.data,r=dn.empty();let l=new kt(Kt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new or(s.key,r,new Sn(l.toArray()),zn.none())}}function wC(s,e,n){s instanceof nu?(function(l,u,f){const g=l.value.clone(),p=pv(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):s instanceof or?(function(l,u,f){if(!$c(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=pv(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(L1(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function kl(s,e,n,r){return s instanceof nu?(function(u,f,g,p){if(!$c(u.precondition,f))return g;const _=u.value.clone(),b=yv(u.fieldTransforms,p,f);return _.setAll(b),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,e,n,r):s instanceof or?(function(u,f,g,p){if(!$c(u.precondition,f))return g;const _=yv(u.fieldTransforms,p,f),b=f.data;return b.setAll(L1(u)),b.setAll(_),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,g){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,n)}function xC(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=O1(r.transform,l||null);u!=null&&(n===null&&(n=dn.empty()),n.set(r.field,u))}return n||null}function gv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&so(r,l,((u,f)=>AC(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends Vh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class or extends Vh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function pv(s,e,n){const r=new Map;Ye(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,g=e.data.field(u.field);r.set(u.field,TC(f,g,n[l]))}return r}function yv(s,e,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,EC(u,f,e))}return r}class hg extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RC extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&wC(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=N1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=j1(f,g);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((n,r)=>gv(n,r)))&&so(this.baseMutations,e.baseMutations,((n,r)=>gv(n,r)))}}class fg{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return gC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new fg(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function DC(s){switch(s){case K.OK:return ve(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function U1(s){if(s===void 0)return ss("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ct.OK:return K.OK;case Ct.CANCELLED:return K.CANCELLED;case Ct.UNKNOWN:return K.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return K.INTERNAL;case Ct.UNAVAILABLE:return K.UNAVAILABLE;case Ct.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ct.NOT_FOUND:return K.NOT_FOUND;case Ct.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ct.ABORTED:return K.ABORTED;case Ct.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ct.DATA_LOSS:return K.DATA_LOSS;default:return ve(39323,{code:s})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Zs([4294967295,4294967295],0);function _v(s){const e=OC().encode(s),n=new WE;return n.update(e),new Uint8Array(n.digest())}function vv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([l,u],0)]}class dg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zs.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Zs.fromNumber(r)));return l.compare(VC)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_v(e),[r,l]=vv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new dg(u,l,n);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=_v(e),[r,l]=vv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mh(be.min(),l,new ct(je),rs(),Le())}}class iu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class P1{constructor(e,n){this.targetId=e,this.Ce=n}}class z1{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Ev{constructor(){this.ve=0,this.Fe=Tv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:ve(38017,{changeType:u})}})),new iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Tv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MC{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.Je=zc(),this.He=zc(),this.Ye=new ct(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Cm(u))if(r===0){const f=new pe(u.path);this.et(n,f,Jt.newNoDocument(f,be.min()))}else Ye(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=tr(r).toUint8Array()}catch(p){if(p instanceof h1)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new dg(f,l,u)}catch(p){return io(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Cm(g.target)){const p=new pe(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Le();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Mh(e,n,this.Ye,this.je,r);return this.je=rs(),this.Je=zc(),this.He=zc(),this.Ye=new ct(je),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ev,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ev),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zc(){return new ct(pe.comparator)}function Tv(){return new ct(pe.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},jC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class UC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(s,e){return s.useProto3Json||Rh(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function PC(s,e){return dh(s,e.toTimestamp())}function Ci(s){return Ye(!!s,49232),be.fromTimestamp((function(n){const r=er(n);return new at(r.seconds,r.nanos)})(s))}function mg(s,e){return Om(s,e).canonicalString()}function Om(s,e){const n=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function q1(s){const e=it.fromString(s);return Ye(K1(e),10190,{key:e.toString()}),e}function Vm(s,e){return mg(s.databaseId,e.path)}function lm(s,e){const n=q1(e);if(n.get(1)!==s.databaseId.projectId)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(F1(n))}function H1(s,e){return mg(s.databaseId,e)}function zC(s){const e=q1(s);return e.length===4?it.emptyPath():F1(e)}function Mm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function F1(s){return Ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function bv(s,e,n){return{name:Vm(s,e),fields:n.value.mapValue.fields}}function BC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,b){return _.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),Yt.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(_){const b=_.code===void 0?K.UNKNOWN:U1(_.code);return new se(b,_.message||"")})(f);n=new z1(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=lm(s,r.document.name),u=Ci(r.document.updateTime),f=r.document.createTime?Ci(r.document.createTime):be.min(),g=new dn({mapValue:{fields:r.document.fields}}),p=Jt.newFoundDocument(l,u,f,g),_=r.targetIds||[],b=r.removedTargetIds||[];n=new Zc(_,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=lm(s,r.document),u=r.readTime?Ci(r.readTime):be.min(),f=Jt.newNoDocument(l,u),g=r.removedTargetIds||[];n=new Zc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=lm(s,r.document),u=r.removedTargetIds||[];n=new Zc([],u,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new NC(l,u),g=r.targetId;n=new P1(g,f)}}return n}function qC(s,e){let n;if(e instanceof nu)n={update:bv(s,e.key,e.value)};else if(e instanceof hg)n={delete:Vm(s,e.key)};else if(e instanceof or)n={update:bv(s,e.key,e.data),updateMask:ZC(e.fieldMask)};else{if(!(e instanceof RC))return ve(16599,{Vt:e.type});n={verify:Vm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Fl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:PC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(s,e.precondition)),n}function HC(s,e){return s&&s.length>0?(Ye(e!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?Ci(l.updateTime):Ci(u);return f.isEqual(be.min())&&(f=Ci(u)),new SC(f,l.transformResults||[])})(n,e)))):[]}function FC(s,e){return{documents:[H1(s,e.path)]}}function GC(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=H1(s,l);const u=(function(_){if(_.length!==0)return Q1(ti.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((b=>(function(D){return{field:Ka(D.field),direction:YC(D.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Dm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function QC(s){let e=zC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const D=G1(S);return D instanceof ti&&T1(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((D=>(function($){return new Hl(Ya($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,Rh(D)?null:D})(n.limit));let p=null;n.startAt&&(p=(function(S){const D=!!S.before,z=S.values||[];return new hh(z,D)})(n.startAt));let _=null;return n.endAt&&(_=(function(S){const D=!S.before,z=S.values||[];return new hh(z,D)})(n.endAt)),cC(e,l,f,u,g,"F",p,_)}function KC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(n.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(n){return It.create(Ya(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((r=>G1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(s):ve(30097,{filter:s})}function YC(s){return kC[s]}function XC(s){return jC[s]}function $C(s){return LC[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Ya(s){return Kt.fromServerFormat(s.fieldPath)}function Q1(s){return s instanceof It?(function(n){if(n.op==="=="){if(uv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:XC(n.op),value:n.value}}})(s):s instanceof ti?(function(n){const r=n.getFilters().map((l=>Q1(l)));return r.length===1?r[0]:{compositeFilter:{op:$C(n.op),filters:r}}})(s):ve(54877,{filter:s})}function ZC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function K1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,l,u=be.min(),f=be.min(),g=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.yt=e}}function WC(s){const e=QC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Ws.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class tI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new kt(it.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Y1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LruGarbageCollector",nI=1048576;function wv([s,e],[n,r]){const l=je(s,n);return l===0?je(e,r):l}class iI{constructor(e){this.Ir=e,this.buffer=new kt(wv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?re(Sv,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.Vr(3e5)}))}}class rI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(xh.ce);const r=new iI(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Av)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,f,g,p,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Ga()<=ke.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function aI(s,e){return new rI(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.changes=new Wr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&kl(r.mutation,l,Sn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const l=Br();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=Rl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Br();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,r,l){let u=rs();const f=Ml(),g=(function(){return Ml()})();return n.forEach(((p,_)=>{const b=r.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof or)?u=u.insert(_.key,_):b!==void 0?(f.set(_.key,b.mutation.getFieldMask()),kl(b.mutation,_,b.mutation.getFieldMask(),at.now())):f.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((_,b)=>f.set(_,b))),n.forEach(((_,b)=>g.set(_,new lI(b,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Ml();let l=new ct(((f,g)=>f-g)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const _=n.get(p);if(_===null)return;let b=r.get(p)||Sn.empty();b=g.applyToLocalView(_,b),r.set(p,b);const S=(l.get(g.batchId)||Le()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,b=p.value,S=N1();b.forEach((D=>{if(!u.has(D)){const z=j1(n.get(D),r.get(D));z!==null&&S.set(D,z),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):Z.resolve(Br());let g=Pl,p=u;return f.next((_=>Z.forEach(_,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((D=>{p=p.insert(b,D)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,p,_,Le()))).next((b=>({batchId:g,changes:I1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let l=Rl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(p=>{const _=(function(S,D){return new po(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((b=>{b.forEach(((S,D)=>{f=f.insert(S,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((p,_)=>{const b=_.getKey();f.get(b)===null&&(f=f.insert(b,Jt.newInvalidDocument(b)))}));let g=Rl();return f.forEach(((p,_)=>{const b=u.get(p);b!==void 0&&kl(b.mutation,_,Sn.empty(),at.now()),Dh(n,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:WC(l.bundledQuery),readTime:Ci(l.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.overlays=new ct(pe.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Br();return Z.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const l=Br(),u=n.length+1,f=new pe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ct(((_,b)=>_-b));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let b=u.get(_.largestBatchId);b===null&&(b=Br(),u=u.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Br(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return Z.resolve(g)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new IC(n,r));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Qr=new kt(Pt.$r),this.Ur=new kt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new it([])),r=new Pt(n,e),l=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new it([])),r=new Pt(n,e),l=new Pt(n,e+1);let u=Le();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CC(u,n,r,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Pt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),l=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(je);return n.forEach((l=>{const u=new Pt(l,0),f=new Pt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let g=new kt(je);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),f),Z.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(l=>{const u=new Pt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Pt(n,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.ri=e,this.docs=(function(){return new ct(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Jt.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=rs();const f=n.path,g=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||qR(BR(b),r)<=0||(l.has(b.key)||Dh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,r,l){ve(9500)}ii(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gI(this)}getSize(e){return Z.resolve(this.size)}}class gI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.persistence=e,this.si=new Wr((n=>lg(n)),ug),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=e(this),this.Pi=new pI(this),this.indexManager=new eI,this.remoteDocumentCache=(function(l){return new mI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new JC(n),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const l=new yI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class yI extends FR{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=pe.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.pi=new Wr((r=>KR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=aI(this,n)}static mi(e,n){return new mh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?Z.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(r++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Le(),l=Le();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new yg(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YS()?8:GR(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new _I;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(Ga()<=ke.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ga()<=ke.DEBUG&&re("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ga()<=ke.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):Z.resolve())}ys(e,n){if(dv(n))return Z.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Nm(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const _=this.Ds(n,g);return this.Cs(n,_,f,p.readTime)?this.ys(e,Nm(n,null,"F")):this.vs(e,_,n,p)}))))})))))}ws(e,n,r,l){return dv(n)||l.isEqual(be.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,l)?Z.resolve(null):(Ga()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(n)),this.vs(e,f,n,zR(l,Pl)).next((g=>g)))}))}Ds(e,n){let r=new kt(R1(e));return n.forEach(((l,u)=>{Dh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return Ga()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",EI=3e8;class TI{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ct(je),this.xs=new Wr((u=>lg(u)),ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bI(s,e,n,r){return new TI(s,e,n,r)}async function $1(s,e){const n=Se(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let p=Le();for(const _ of l){f.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of u){g.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function AI(s,e){const n=Se(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,b){const S=_.batch,D=S.keys();let z=Z.resolve();return D.forEach(($=>{z=z.next((()=>b.getEntry(p,$))).next((W=>{const J=_.docVersions.get($);Ye(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),b.addEntry(W)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Le();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Z1(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function SI(s,e){const n=Se(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((b,S)=>{const D=l.get(S);if(!D)return;g.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,S))));let z=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?z=z.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,r)),l=l.insert(S,z),(function(W,J,le){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=EI?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(D,z,b)&&g.push(n.Pi.updateTargetData(u,z))}));let p=rs(),_=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(wI(u,f,e.documentUpdates).next((b=>{p=b.ks,_=b.qs}))),!r.isEqual(be.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(b)}return Z.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function wI(s,e,n){let r=Le(),l=Le();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=rs();return n.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):re(_g,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function xI(s,e){const n=Se(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function RI(s,e){const n=Se(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,Z.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new Ks(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function km(s,e,n){const r=Se(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!go(f))throw f;re(_g,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function xv(s,e,n){const r=Se(s);let l=be.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,_,b){const S=Se(p),D=S.xs.get(b);return D!==void 0?Z.resolve(S.Ms.get(D)):S.Pi.getTargetData(_,b)})(r,f,Ri(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?l:be.min(),n?u:Le()))).next((g=>(CI(r,fC(e),g),{documents:g,Qs:u})))))}function CI(s,e,n){let r=s.Os.get(e)||be.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class Rv{constructor(){this.activeTargetIds=_C()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class II{constructor(){this.Mo=new Rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(Cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(Cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function jm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===uh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const f=jm(),g=this.zo(e,n.toUriEncodedString());re(um,`Sending RPC '${e}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:_}=new URL(g),b=uo(_);return this.Jo(e,g,p,r,b).then((S=>(re(um,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw io(um,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,n,r,l,u,f){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=DI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class MI extends OI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const f=jm();return new Promise(((g,p)=>{const _=new e1;_.setWithCredentials(!0),_.listenOnce(t1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const S=_.getResponseJson();re($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case Kc.TIMEOUT:re($t,`RPC '${e}' ${f} timed out`),p(new se(K.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const D=_.getStatus();if(re($t,`RPC '${e}' ${f} failed with status:`,D,"response text:",_.getResponseText()),D>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const $=z==null?void 0:z.error;if($&&$.status&&$.message){const W=(function(le){const ne=le.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ne)>=0?ne:K.UNKNOWN})($.status);p(new se(W,$.message))}else p(new se(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new se(K.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{re($t,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);re($t,`RPC '${e}' ${f} sending request:`,l),_.send(n,"POST",b,r,15)}))}T_(e,n,r){const l=jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=s1(),g=i1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const b=u.join("");re($t,`Creating RPC '${e}' stream ${l}: ${b}`,p);const S=f.createWebChannel(b,p);this.I_(S);let D=!1,z=!1;const $=new VI({Yo:J=>{z?re($t,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(D||(re($t,`Opening RPC '${e}' stream ${l} transport.`),S.open(),D=!0),re($t,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,le,ne)=>{J.listen(le,(ue=>{try{ne(ue)}catch(Ie){setTimeout((()=>{throw Ie}),0)}}))};return W(S,xl.EventType.OPEN,(()=>{z||(re($t,`RPC '${e}' stream ${l} transport opened.`),$.o_())})),W(S,xl.EventType.CLOSE,(()=>{z||(z=!0,re($t,`RPC '${e}' stream ${l} transport closed`),$.a_(),this.E_(S))})),W(S,xl.EventType.ERROR,(J=>{z||(z=!0,io($t,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new se(K.UNAVAILABLE,"The operation could not be completed")))})),W(S,xl.EventType.MESSAGE,(J=>{var le;if(!z){const ne=J.data[0];Ye(!!ne,16349);const ue=ne,Ie=(ue==null?void 0:ue.error)||((le=ue[0])==null?void 0:le.error);if(Ie){re($t,`RPC '${e}' stream ${l} received error:`,Ie);const me=Ie.status;let Ee=(function(I){const V=Ct[I];if(V!==void 0)return U1(V)})(me),C=Ie.message;Ee===void 0&&(Ee=K.INTERNAL,C="Unknown error status: "+me+" with message "+Ie.message),z=!0,$.a_(new se(Ee,C)),S.close()}else re($t,`RPC '${e}' stream ${l} received:`,ne),$.u_(ne)}})),W(g,n1.STAT_EVENT,(J=>{J.stat===Am.PROXY?re($t,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===Am.NOPROXY&&re($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(s){return new UC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class W1{constructor(e,n,r,l,u,f,g,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new se(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(Nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(re(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kI extends W1{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Ci(f.readTime):be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Cm(p)?{documents:FC(u,p)}:{query:GC(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=B1(u,f.resumeToken);const _=Dm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(be.min())>0){g.readTime=dh(u,f.snapshotVersion.toTimestamp());const _=Dm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=KC(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.q_(n)}}class jI extends W1{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HC(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>qC(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class UI extends LI{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Om(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(K.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Om(n,r),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="RemoteStore";class zI{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ea(this)&&(re(Zr,"Restarting streams for network reachability change."),await(async function(p){const _=Se(p);_.Ea.add(4),await su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await jh(_)})(this))}))})),this.Ra=new PI(r,l)}}async function jh(s){if(ea(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function eT(s,e){const n=Se(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bg(n)?Tg(n):yo(n).O_()&&Eg(n,e))}function vg(s,e){const n=Se(s),r=yo(n);n.Ia.delete(e),r.O_()&&tT(n,e),n.Ia.size===0&&(r.O_()?r.L_():ea(n)&&n.Ra.set("Unknown"))}function Eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(s).Y_(e)}function tT(s,e){s.Va.Ue(e),yo(s).Z_(e)}function Tg(s){s.Va=new MC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Ra.ua()}function bg(s){return ea(s)&&!yo(s).x_()&&s.Ia.size>0}function ea(s){return Se(s).Ea.size===0}function nT(s){s.Va=void 0}async function BI(s){s.Ra.set("Online")}async function qI(s){s.Ia.forEach(((e,n)=>{Eg(s,e)}))}async function HI(s,e){nT(s),bg(s)?(s.Ra.ha(e),Tg(s)):s.Ra.set("Unknown")}async function FI(s,e,n){if(s.Ra.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){re(Zr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(s,r)}else if(e instanceof Zc?s.Va.Ze(e):e instanceof P1?s.Va.st(e):s.Va.tt(e),!n.isEqual(be.min()))try{const r=await Z1(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(_);b&&u.Ia.set(_,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,_)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Yt.EMPTY_BYTE_STRING,b.snapshotVersion)),tT(u,p);const S=new Ks(b.target,p,_,b.sequenceNumber);Eg(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){re(Zr,"Failed to raise snapshot:",r),await gh(s,r)}}async function gh(s,e,n){if(!go(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),n||(n=()=>Z1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(Zr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await jh(s)}))}function iT(s,e){return e().catch((n=>gh(s,n,e)))}async function Lh(s){const e=Se(s),n=ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;GI(e);)try{const l=await xI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,QI(e,l)}catch(l){await gh(e,l)}sT(e)&&rT(e)}function GI(s){return ea(s)&&s.Ta.length<10}function QI(s,e){s.Ta.push(e);const n=ir(s);n.O_()&&n.X_&&n.ea(e.mutations)}function sT(s){return ea(s)&&!ir(s).x_()&&s.Ta.length>0}function rT(s){ir(s).start()}async function KI(s){ir(s).ra()}async function YI(s){const e=ir(s);for(const n of s.Ta)e.ea(n.mutations)}async function XI(s,e,n){const r=s.Ta.shift(),l=fg.from(r,e,n);await iT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lh(s)}async function $I(s,e){e&&ir(s).X_&&await(async function(r,l){if((function(f){return DC(f)&&f!==K.ABORTED})(l.code)){const u=r.Ta.shift();ir(r).B_(),await iT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Lh(r)}})(s,e),sT(s)&&rT(s)}async function Dv(s,e){const n=Se(s);n.asyncQueue.verifyOperationInProgress(),re(Zr,"RemoteStore received new credentials");const r=ea(n);n.Ea.add(3),await su(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function ZI(s,e){const n=Se(s);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await su(n),n.Ra.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(n,r,l){const u=Se(n);return u.sa(),new kI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:BI.bind(null,s),t_:qI.bind(null,s),r_:HI.bind(null,s),H_:FI.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),bg(s)?Tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),nT(s))}))),s.ma}function ir(s){return s.fa||(s.fa=(function(n,r,l){const u=Se(n);return u.sa(),new jI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:KI.bind(null,s),r_:$I.bind(null,s),ta:YI.bind(null,s),na:XI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,g=new Ag(e,n,f,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(s,e){if(ss("AsyncQueue",`${e}: ${s}`),go(s))return new se(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Rl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.ga=new ct(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class lo{constructor(e,n,r,l,u,f,g,p,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new lo(e,n,Wa.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WI{constructor(){this.queries=Vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Se(n),u=l.queries;l.queries=Vv(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new se(K.ABORTED,"Firestore shutting down"))}}function Vv(){return new Wr((s=>x1(s)),Nh)}async function wg(s,e){const n=Se(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new JI,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Sg(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rg(n)}async function xg(s,e){const n=Se(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eN(s,e){const n=Se(s);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(r=!0);f.wa=l}}r&&Rg(n)}function tN(s,e,n){const r=Se(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function Rg(s){s.Ca.forEach((e=>{e.next()}))}var Lm,Mv;(Mv=Lm||(Lm={})).Ma="default",Mv.Cache="cache";class Cg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class nN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=R1(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ov,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const D=l.get(b),z=Dh(this.query,S)?S:null,$=!!D&&this.mutatedKeys.has(D.key),W=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let J=!1;D&&z?D.data.isEqual(z.data)?$!==W&&(r.track({type:3,doc:z}),J=!0):this.su(D,z)||(r.track({type:2,doc:z}),J=!0,(p&&this.eu(z,p)>0||_&&this.eu(z,_)<0)&&(g=!0)):!D&&z?(r.track({type:0,doc:z}),J=!0):D&&!z&&(r.track({type:1,doc:D}),J=!0,(p||_)&&(g=!0)),J&&(z?(f=f.add(z),u=W?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(z,$){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:J})}};return W(z)-W($)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,f.length!==0||_?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new oT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new aT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ig="SyncEngine";class iN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sN{constructor(e){this.key=e,this.hu=!1}}class rN{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Wr((g=>x1(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(pe.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aN(s,e,n=!0){const r=dT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lT(r,e,n,!0),l}async function oN(s,e){const n=dT(s);await lT(n,e,!0,!1)}async function lT(s,e,n,r){const l=await RI(s.localStore,Ri(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await lN(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&eT(s.remoteStore,l),g}async function lN(s,e,n,r,l){s.pu=(S,D,z)=>(async function(W,J,le,ne){let ue=J.view.ru(le);ue.Cs&&(ue=await xv(W.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,ue))));const Ie=ne&&ne.targetChanges.get(J.targetId),me=ne&&ne.targetMismatches.get(J.targetId)!=null,Ee=J.view.applyChanges(ue,W.isPrimaryClient,Ie,me);return jv(W,J.targetId,Ee.au),Ee.snapshot})(s,S,D,z);const u=await xv(s.localStore,e,!0),f=new nN(e,u.Qs),g=f.ru(u.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=f.applyChanges(g,s.isPrimaryClient,p);jv(s,n,_.au);const b=new iN(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),_.snapshot}async function uN(s,e,n){const r=Se(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Nh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await km(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&vg(r.remoteStore,l.targetId),Um(r,l.targetId)})).catch(mo)):(Um(r,l.targetId),await km(r.localStore,l.targetId,!0))}async function cN(s,e){const n=Se(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vg(n.remoteStore,r.targetId))}async function hN(s,e,n){const r=_N(s);try{const l=await(function(f,g){const p=Se(f),_=at.now(),b=g.reduce(((z,$)=>z.add($.key)),Le());let S,D;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let $=rs(),W=Le();return p.Ns.getEntries(z,b).next((J=>{$=J,$.forEach(((le,ne)=>{ne.isValidDocument()||(W=W.add(le))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,$))).next((J=>{S=J;const le=[];for(const ne of g){const ue=xC(ne,S.get(ne.key).overlayedDocument);ue!=null&&le.push(new or(ne.key,ue,_1(ue.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,_,le,g)})).next((J=>{D=J;const le=J.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(z,J.batchId,le)}))})).then((()=>({batchId:D.batchId,changes:I1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let _=f.Vu[f.currentUser.toKey()];_||(_=new ct(je)),_=_.insert(g,p),f.Vu[f.currentUser.toKey()]=_})(r,l.batchId,n),await ru(r,l.changes),await Lh(r.remoteStore)}catch(l){const u=Sg(l,"Failed to persist write");n.reject(u)}}async function uT(s,e){const n=Se(s);try{const r=await SI(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ye(f.hu,14607):l.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await ru(n,r,e)}catch(r){await mo(r)}}function kv(s,e,n){const r=Se(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Se(f);p.onlineState=g;let _=!1;p.queries.forEach(((b,S)=>{for(const D of S.Sa)D.va(g)&&(_=!0)})),_&&Rg(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fN(s,e,n){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new ct(pe.comparator);f=f.insert(u,Jt.newNoDocument(u,be.min()));const g=Le().add(u),p=new Mh(be.min(),new Map,new ct(je),f,g);await uT(r,p),r.du=r.du.remove(u),r.Au.delete(e),Ng(r)}else await km(r.localStore,e,!1).then((()=>Um(r,e,n))).catch(mo)}async function dN(s,e){const n=Se(s),r=e.batch.batchId;try{const l=await AI(n.localStore,e);hT(n,r,null),cT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ru(n,l)}catch(l){await mo(l)}}async function mN(s,e,n){const r=Se(s);try{const l=await(function(f,g){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return p.mutationQueue.lookupMutationBatch(_,g).next((S=>(Ye(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>p.localDocuments.getDocuments(_,b)))}))})(r.localStore,e);hT(r,e,n),cT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ru(r,l)}catch(l){await mo(l)}}function cT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function hT(s,e,n){const r=Se(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Um(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||fT(s,r)}))}function fT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(vg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Ng(s))}function jv(s,e,n){for(const r of n)r instanceof aT?(s.Ru.addReference(r.key,e),gN(s,r)):r instanceof oT?(re(Ig,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||fT(s,r.key)):ve(19791,{wu:r})}function gN(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(re(Ig,"New document in limbo: "+n),s.Eu.add(r),Ng(s))}function Ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(it.fromString(e)),r=s.fu.next();s.Au.set(r,new sN(n)),s.du=s.du.insert(n,r),eT(s.remoteStore,new Ks(Ri(Ih(n.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function ru(s,e,n){const r=Se(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,e,n).then((_=>{var b;if((_||n)&&r.isPrimaryClient){const S=_?!_.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:b.current;r.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){l.push(_);const S=yg.As(p.targetId,_);u.push(S)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(p,_){const b=Se(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(D=>Z.forEach(D.Es,(z=>b.persistence.referenceDelegate.addReference(S,D.targetId,z))).next((()=>Z.forEach(D.ds,(z=>b.persistence.referenceDelegate.removeReference(S,D.targetId,z)))))))))}catch(S){if(!go(S))throw S;re(_g,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const z=b.Ms.get(D),$=z.snapshotVersion,W=z.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(D,W)}}})(r.localStore,u))}async function pN(s,e){const n=Se(s);if(!n.currentUser.isEqual(e)){re(Ig,"User change. New user:",e.toKey());const r=await $1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new se(K.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(n,r.Ls)}}function yN(s,e){const n=Se(s),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let l=Le();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function dT(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fN.bind(null,e),e.Pu.H_=eN.bind(null,e.eventManager),e.Pu.yu=tN.bind(null,e.eventManager),e}function _N(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bI(this.persistence,new vI,e.initialUser,this.serializer)}Cu(e){return new X1(pg.mi,this.serializer)}Du(e){return new II}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class vN extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new X1((r=>mh.mi(r,n)),this.serializer)}}class Pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pN.bind(null,this.syncEngine),await ZI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WI})()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),r=(function(u){return new MI(u)})(e.databaseInfo);return(function(u,f,g,p){return new UI(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,g){return new zI(r,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>kv(this.syncEngine,n,0)),(function(){return Iv.v()?new Iv:new NI})())}createSyncEngine(e,n){return(function(l,u,f,g,p,_,b){const S=new rN(l,u,f,g,p,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Se(l);re(Zr,"RemoteStore shutting down."),u.Ea.add(5),await su(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="FirestoreClient";class EN{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{re(sr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(re(sr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),re(sr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await $1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Lv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await TN(s);re(sr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Dv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Dv(e.remoteStore,l))),s._onlineComponents=e}async function TN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(sr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new ph)}}else re(sr,"Using default OfflineComponentProvider"),await hm(s,new vN(void 0));return s._offlineComponents}async function mT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(sr,"Using user provided OnlineComponentProvider"),await Lv(s,s._uninitializedComponentsProvider._online)):(re(sr,"Using default OnlineComponentProvider"),await Lv(s,new Pm))),s._onlineComponents}function bN(s){return mT(s).then((e=>e.syncEngine))}async function yh(s){const e=await mT(s),n=e.eventManager;return n.onListen=aN.bind(null,e.syncEngine),n.onUnlisten=uN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),n}function AN(s,e,n={}){const r=new ts;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const b=new Dg({next:D=>{b.Nu(),f.enqueueAndForget((()=>xg(u,S)));const z=D.docs.has(g);!z&&D.fromCache?_.reject(new se(K.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&D.fromCache&&p&&p.source==="server"?_.reject(new se(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new Cg(Ih(g.path),b,{includeMetadataChanges:!0,qa:!0});return wg(u,S)})(await yh(s),s.asyncQueue,e,n,r))),r.promise}function SN(s,e,n={}){const r=new ts;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const b=new Dg({next:D=>{b.Nu(),f.enqueueAndForget((()=>xg(u,S))),D.fromCache&&p.source==="server"?_.reject(new se(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new Cg(g,b,{includeMetadataChanges:!0,qa:!0});return wg(u,S)})(await yh(s),s.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firestore.googleapis.com",Pv=!0;class zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=Pv}else this.host=e.host,this.ssl=e.ssl??Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new se(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IR;switch(r.type){case"firstParty":return new VR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Uv.get(n);r&&(re("ComponentProvider","Removing Datastore"),Uv.delete(n),r.terminate())})(this),Promise.resolve()}}function wN(s,e,n,r={}){var _;s=mn(s,Uh);const l=uo(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(uE(`https://${g}`),cE("Firestore",!0)),u.host!==pT&&u.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:r};if(!Gr(p,f)&&(s._setSettings(p),r.mockUserToken)){let b,S;if(typeof r.mockUserToken=="string")b=r.mockUserToken,S=Zt.MOCK_USER;else{b=PS(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new se(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Zt(D)}s._authCredentials=new NR(new a1(b,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lr(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tu(n,dt._jsonSchema))return new dt(e,r||null,new pe(it.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Nt("string",dt._jsonSchemaVersion),referencePath:Nt("string")};class Js extends lr{constructor(e,n,r){super(e,n,Ih(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new pe(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function eo(s,e,...n){if(s=Dt(s),o1("collection","path",e),s instanceof Uh){const r=it.fromString(e,...n);return W0(r),new Js(s,null,r)}{if(!(s instanceof dt||s instanceof Js))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return W0(r),new Js(s.firestore,null,r)}}function Wi(s,e,...n){if(s=Dt(s),arguments.length===1&&(e=sg.newId()),o1("doc","path",e),s instanceof Uh){const r=it.fromString(e,...n);return J0(r),new dt(s,null,new pe(r))}{if(!(s instanceof dt||s instanceof Js))throw new se(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return J0(r),new dt(s.firestore,s instanceof Js?s.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J1(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&re(Bv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;re(Bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",Hv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ag.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:Hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class as extends Uh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new qv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function xN(s,e){const n=typeof s=="object"?s:dE(),r=typeof s=="string"?s:uh,l=Km(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=LS("firestore");u&&wN(l,...u)}return l}function Ph(s){if(s._terminated)throw new se(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RN(s),s._firestoreClient}function RN(s){var r,l,u;const e=s._freezeSettings(),n=(function(g,p,_,b){return new $R(g,p,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,gT(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new EN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Yt.fromBase64String(e))}catch(n){throw new se(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Nt("string",Pn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Nt("string",Ii._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ni(e.vectorValues);throw new se(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^__.*__$/;class IN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class yT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new or(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class Og{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_T(this.Ac)&&CN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kh(e)}Cc(e,n,r,l=!1){return new Og({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(s){const e=s._freezeSettings(),n=kh(s._databaseId);return new NN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function vT(s,e,n,r,l,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);Mg("Data must be an object, but it was:",f,r);const g=ET(r,f);let p,_;if(u.merge)p=new Sn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const D=zm(e,S,n);if(!f.contains(D))throw new se(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);bT(b,D)||b.push(D)}p=new Sn(b),_=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=f.fieldTransforms;return new IN(new dn(g),p,_)}class Hh extends Bh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class Vg extends Bh{_toFieldTransform(e){return new bC(e.path,new Fl)}isEqual(e){return e instanceof Vg}}function DN(s,e,n,r){const l=s.Cc(1,e,n);Mg("Data must be an object, but it was:",l,r);const u=[],f=dn.empty();ar(r,((p,_)=>{const b=kg(e,p,n);_=Dt(_);const S=l.yc(b);if(_ instanceof Hh)u.push(b);else{const D=au(_,S);D!=null&&(u.push(b),f.set(b,D))}}));const g=new Sn(u);return new yT(f,g,l.fieldTransforms)}function ON(s,e,n,r,l,u){const f=s.Cc(1,e,n),g=[zm(e,r,n)],p=[l];if(u.length%2!=0)throw new se(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)g.push(zm(e,u[D])),p.push(u[D+1]);const _=[],b=dn.empty();for(let D=g.length-1;D>=0;--D)if(!bT(_,g[D])){const z=g[D];let $=p[D];$=Dt($);const W=f.yc(z);if($ instanceof Hh)_.push(z);else{const J=au($,W);J!=null&&(_.push(z),b.set(z,J))}}const S=new Sn(_);return new yT(b,S,f.fieldTransforms)}function VN(s,e,n,r=!1){return au(n,s.Cc(r?4:3,e))}function au(s,e){if(TT(s=Dt(s)))return Mg("Unsupported field value:",e,s),ET(s,e);if(s instanceof Bh)return(function(r,l){if(!_T(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const g of r){let p=au(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:dh(l.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,u)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:B1(l.serializer,r._byteString)};if(r instanceof dt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ni)return(function(f,g){return{mapValue:{fields:{[p1]:{stringValue:y1},[ch]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return cg(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${wh(r)}`)})(s,e)}function ET(s,e){const n={};return c1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ar(s,((r,l)=>{const u=au(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function TT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Ii||s instanceof Pn||s instanceof dt||s instanceof Bh||s instanceof Ni)}function Mg(s,e,n){if(!TT(n)||!l1(n)){const r=wh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function zm(s,e,n){if((e=Dt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return kg(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,n)}const MN=new RegExp("[~\\*/\\[\\]]");function kg(s,e,n){if(e.search(MN)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new zh(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function _h(s,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new se(K.INVALID_ARGUMENT,g+s+p)}function bT(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kN extends AT{data(){return super.data()}}function Fh(s,e){return typeof e=="string"?kg(s,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class wT extends jg{}function Kl(s,e,...n){let r=[];e instanceof jg&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof Lg)).length,g=u.filter((p=>p instanceof Gh)).length;if(f>1||f>0&&g>0)throw new se(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Gh extends wT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gh(e,n,r)}_apply(e){const n=this._parse(e);return xT(e._query,n),new lr(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=qh(e.firestore);return(function(u,f,g,p,_,b,S){let D;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new se(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Qv(S,b);const $=[];for(const W of S)$.push(Gv(p,u,W));D={arrayValue:{values:$}}}else D=Gv(p,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Qv(S,b),D=VN(g,f,S,b==="in"||b==="not-in");return It.create(_,b,D)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vh(s,e,n){const r=e,l=Fh("where",s);return Gh._create(l,r,n)}class Lg extends jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)xT(f,p),f=Im(f,p)})(e._query,n),new lr(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends wT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ug(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new se(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new se(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(u,f)})(e._query,this._field,this._direction);return new lr(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new po(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function jN(s,e="asc"){const n=e,r=Fh("orderBy",s);return Ug._create(r,n)}function Gv(s,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new se(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(e)&&n.indexOf("/")!==-1)throw new se(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!pe.isDocumentKey(r))throw new se(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ov(s,new pe(r))}if(n instanceof dt)return ov(s,n._key);throw new se(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function Qv(s,e){if(!Array.isArray(s)||s.length===0)throw new se(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xT(s,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LN{convertValue(e,n="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ar(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,l,u;const n=(u=(l=(r=e.fields)==null?void 0:r[ch].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>_t(f.doubleValue)));return new Ni(n)}convertGeoPoint(e){return new Ii(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ch(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=er(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ye(K1(r),9688,{name:e});const l=new Bl(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return l.isEqual(n)||ss(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hr extends AT{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:Nt("string",Hr._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Jc extends Hr{data(e={}){return super.data(e)}}class Fr{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new Jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:UN(g.type),doc:p,oldIndex:_,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(s){s=mn(s,dt);const e=mn(s.firestore,as);return AN(Ph(e),s._key).then((n=>DT(e,s,n)))}Fr._jsonSchemaVersion="firestore/querySnapshot/1.0",Fr._jsonSchema={type:Nt("string",Fr._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Pg extends LN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Bm(s){s=mn(s,lr);const e=mn(s.firestore,as),n=Ph(e),r=new Pg(e);return ST(s._query),SN(n,s._query).then((l=>new Fr(e,r,s,l)))}function CT(s,e,n){s=mn(s,dt);const r=mn(s.firestore,as),l=RT(s.converter,e);return Qh(r,[vT(qh(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,zn.none())])}function fm(s,e,n,...r){s=mn(s,dt);const l=mn(s.firestore,as),u=qh(l);let f;return f=typeof(e=Dt(e))=="string"||e instanceof zh?ON(u,"updateDoc",s._key,e,n,r):DN(u,"updateDoc",s._key,e),Qh(l,[f.toMutation(s._key,zn.exists(!0))])}function IT(s){return Qh(mn(s.firestore,as),[new hg(s._key,zn.none())])}function zN(s,e){const n=mn(s.firestore,as),r=Wi(s),l=RT(s.converter,e);return Qh(n,[vT(qh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then((()=>r))}function NT(s,...e){var p,_,b;s=Dt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Fv(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Fv(e[r])){const S=e[r];e[r]=(p=S.next)==null?void 0:p.bind(S),e[r+1]=(_=S.error)==null?void 0:_.bind(S),e[r+2]=(b=S.complete)==null?void 0:b.bind(S)}let u,f,g;if(s instanceof dt)f=mn(s.firestore,as),g=Ih(s._key.path),u={next:S=>{e[r]&&e[r](DT(f,s,S))},error:e[r+1],complete:e[r+2]};else{const S=mn(s,lr);f=mn(S.firestore,as),g=S._query;const D=new Pg(f);u={next:z=>{e[r]&&e[r](new Fr(f,D,S,z))},error:e[r+1],complete:e[r+2]},ST(s._query)}return(function(D,z,$,W){const J=new Dg(W),le=new Cg(z,J,$);return D.asyncQueue.enqueueAndForget((async()=>wg(await yh(D),le))),()=>{J.Nu(),D.asyncQueue.enqueueAndForget((async()=>xg(await yh(D),le)))}})(Ph(f),g,l,u)}function Qh(s,e){return(function(r,l){const u=new ts;return r.asyncQueue.enqueueAndForget((async()=>hN(await bN(r),l,u))),u.promise})(Ph(s),e)}function DT(s,e,n){const r=n.docs.get(e._key),l=new Pg(s);return new Hr(s,l,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}function BN(){return new Vg("serverTimestamp")}(function(e,n=!0){(function(l){fo=l})(co),to(new Qr("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new as(new DR(r.getProvider("auth-internal")),new MR(f,r.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new se(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(_.options.projectId,b)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),$s(Y0,X0,e),$s(Y0,X0,"esm2020")})();const OT={apiKey:"AIzaSyD47kBVxzwXi3QiOGyHMRLk8BcLiVFa25M",authDomain:"studio-9435257593-dc1fe.firebaseapp.com",projectId:"studio-9435257593-dc1fe",storageBucket:"studio-9435257593-dc1fe.firebasestorage.app",messagingSenderId:"158700440908",appId:"1:158700440908:web:d46ef00bfd1d7674c6d3e9"},VT=Ym(OT),Eh=JE(VT),fn=xN(VT),MT=de.createContext(void 0),qN=({children:s})=>{const[e,n]=de.useState(null),[r,l]=de.useState(null),[u,f]=de.useState(!0);de.useEffect(()=>{const _=yx(Eh,async b=>{if(n(b),b){const S=Wi(fn,"users",b.uid),D=g(S,z=>{z.exists()?l(z.data()):l(null),f(!1)});return()=>D()}else l(null),f(!1)});return()=>_()},[]);const g=(_,b)=>(PN(_).then(b),()=>{}),p=async()=>{try{await BE(Eh),n(null),l(null)}catch(_){console.error("Erro ao sair:",_)}};return E.jsx(MT.Provider,{value:{user:e,userProfile:r,loading:u,logout:p},children:s})},Kh=()=>{const s=de.useContext(MT);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},HN=({isCollapsed:s,isMobile:e,isOpen:n,onClose:r,toggleCollapse:l,currentView:u,onNavigate:f,userRole:g})=>{const{logout:p}=Kh(),_=de.useMemo(()=>{const $=[{id:"settings",label:"Configuraes",icon:dS}];switch(g){case"superuser":return[{id:"dashboard",label:"Viso Geral (SaaS)",icon:Wd},{id:"saas-companies",label:"Gerenciar Empresas",icon:Hm},{id:"saas-metrics",label:"Mtricas Globais",icon:$v},...$];case"admin":return[{id:"dashboard",label:"Painel da Empresa",icon:Wd},{id:"employees",label:"Funcionrios",icon:Yl},{id:"financial",label:"Financeiro",icon:Zv},{id:"app-tools",label:"Acessar Ferramentas",icon:jl},...$];case"employee":return[{id:"dashboard",label:"Minhas Tarefas",icon:Wd},{id:"app-tools",label:"Ferramentas",icon:jl},...$];default:return $}},[g]),D=`
    fixed top-0 left-0 z-40 h-screen
    glass-panel border-r border-glass-border
    transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)] flex flex-col
    ${e?n?"translate-x-0 w-64":"-translate-x-full w-64":`${s?"w-20":"w-64"}`}
  `,z=!s||e&&n;return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-30 transition-opacity duration-300 ${e&&n?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,onClick:r,"aria-hidden":"true"}),E.jsxs("aside",{className:D,children:[E.jsxs("div",{className:"flex items-center h-16 px-3 relative shrink-0 border-b border-glass-border",children:[E.jsxs("div",{className:"w-14 flex items-center justify-center shrink-0 relative h-10",children:[E.jsx("div",{className:`
                absolute inset-0 flex items-center justify-center
                transition-all duration-300 ease-in-out
                ${z?"opacity-100 scale-100":"opacity-0 scale-90 pointer-events-none"}
              `,children:E.jsx("div",{className:"h-9 w-9 flex items-center justify-center rounded-xl bg-indigo-600 text-white shadow-lg shadow-indigo-600/30",children:E.jsx("span",{className:"font-bold text-xl heading-font",children:"N"})})}),!e&&E.jsx("button",{onClick:l,className:`
                  absolute inset-0 flex items-center justify-center
                  bg-white/20 hover:bg-white/40 text-gray-700 dark:text-gray-200
                  rounded-xl backdrop-blur-md
                  transition-all duration-300 ease-in-out cursor-pointer
                  ${z?"opacity-0 scale-90 pointer-events-none":"opacity-100 scale-100"}
                `,children:E.jsx(zA,{size:22})})]}),E.jsx("div",{className:`
            flex flex-col justify-center overflow-hidden whitespace-nowrap
            transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)]
            ${z?"w-32 opacity-100 ml-2":"w-0 opacity-0 ml-0"}
          `,children:E.jsxs("span",{className:"font-bold text-xl text-gray-900 dark:text-white tracking-tight leading-none",children:["Nerfas",E.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"SaaS"})]})}),!e&&z&&E.jsx("button",{onClick:l,className:`
                absolute right-3 p-1.5
                text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400
                hover:bg-black/5 dark:hover:bg-white/10 rounded-lg
                transition-all duration-200
              `,children:E.jsx(qA,{size:18})})]}),E.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 flex flex-col gap-2 custom-scrollbar px-3",children:_.map($=>{const W=u===$.id;return E.jsxs("button",{onClick:()=>{f($.id),e&&r()},className:`
                  relative flex items-center h-12 rounded-xl transition-all duration-200 group w-full text-left
                  ${W?"bg-indigo-600 text-white shadow-md shadow-indigo-600/20":"text-gray-600 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/10"}
                `,children:[E.jsx("div",{className:"w-14 flex items-center justify-center shrink-0",children:E.jsx($.icon,{size:22,className:`transition-transform duration-300 ${W?"scale-110":"group-hover:scale-110"}`})}),E.jsx("span",{className:`
                  whitespace-nowrap overflow-hidden transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)]
                  ${z?"w-auto opacity-100":"w-0 opacity-0"}
                `,children:$.label}),!e&&!z&&E.jsxs("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-3 bg-gray-900 text-white text-xs font-medium px-2.5 py-1.5 rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-200 shadow-xl z-50 whitespace-nowrap translate-x-2 group-hover:translate-x-0",children:[$.label,E.jsx("div",{className:"absolute top-1/2 -left-1 -translate-y-1/2 border-4 border-transparent border-r-gray-900"})]})]},$.id)})}),z&&E.jsx("div",{className:"px-6 py-4",children:E.jsx("div",{className:`
              text-xs font-bold uppercase tracking-wider py-1.5 px-2 rounded-lg text-center border backdrop-blur-sm
              ${g==="superuser"?"bg-purple-100/50 text-purple-800 border-purple-200":g==="admin"?"bg-amber-100/50 text-amber-800 border-amber-200":"bg-blue-100/50 text-blue-800 border-blue-200"}
            `,children:g==="superuser"?"Desenvolvedor":g==="admin"?"Gestor":"Colaborador"})}),E.jsx("div",{className:"p-3 border-t border-glass-border mt-auto",children:E.jsxs("button",{onClick:p,className:`
              w-full flex items-center h-12 rounded-xl text-left transition-all duration-200 group relative
              text-gray-600 dark:text-gray-400 hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20 dark:hover:text-red-400
            `,children:[E.jsx("div",{className:"w-14 flex items-center justify-center shrink-0",children:E.jsx(nS,{size:22})}),E.jsx("span",{className:`
              whitespace-nowrap overflow-hidden transition-all duration-300 ease-[cubic-bezier(0.25,0.8,0.25,1)]
              ${z?"w-auto opacity-100":"w-0 opacity-0"}
            `,children:"Sair"})]})})]})]})},FN=({toggleSidebar:s,isCollapsed:e,roleLabel:n})=>{const{userProfile:r}=Kh();return E.jsxs("header",{className:`
        h-16 fixed top-0 right-0 z-20 flex items-center justify-between px-4 md:px-8
        transition-all duration-300 ease-in-out
        glass-panel border-b border-glass-border
        ${e?"left-20":"md:left-64 left-0"}
      `,children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:s,className:"md:hidden p-2 text-gray-600 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/10 rounded-lg transition-colors",children:E.jsx(rS,{size:24})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white leading-tight",children:n}),(r==null?void 0:r.companyName)&&E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium hidden sm:block",children:r.companyName})]})]}),E.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[E.jsxs("button",{className:"relative p-2 text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:[E.jsx(OA,{size:20}),E.jsx("span",{className:"absolute top-1.5 right-2 w-2 h-2 bg-red-500 rounded-full ring-2 ring-white dark:ring-gray-900"})]}),E.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[E.jsxs("div",{className:"flex flex-col items-end hidden md:flex",children:[E.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:(r==null?void 0:r.displayName)||"Usurio"}),E.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r==null?void 0:r.email})]}),E.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-md ring-2 ring-white dark:ring-gray-800",children:r!=null&&r.displayName?r.displayName.charAt(0).toUpperCase():"U"})]})]})]})},GN=({children:s,currentView:e,onNavigate:n,userRole:r})=>{const[l,u]=de.useState(!1),[f,g]=de.useState(!1),[p,_]=de.useState(!1);de.useEffect(()=>{const z=()=>{const $=window.innerWidth<768;_($),$||g(!1)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const b=()=>{u(!l)},S=()=>{g(!f)},D=()=>{switch(r){case"superuser":return"Super Admin";case"admin":return"Gestor";case"employee":return"Funcionrio";default:return"Visitante"}};return E.jsxs("div",{className:"min-h-screen flex text-gray-900 dark:text-gray-100 font-sans",children:[E.jsx(HN,{isCollapsed:l,isMobile:p,isOpen:f,onClose:()=>g(!1),toggleCollapse:b,currentView:e,onNavigate:n,userRole:r}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ease-in-out",children:[E.jsx(FN,{toggleSidebar:S,isCollapsed:l,roleLabel:D()}),E.jsx("main",{className:`
            flex-1 p-4 md:p-8 mt-16 overflow-x-hidden transition-all duration-300
            ${p?"":l?"ml-20":"ml-64"}
          `,children:s})]})]})},QN=()=>{const[s,e]=de.useState(!0),[n,r]=de.useState(""),[l,u]=de.useState(""),[f,g]=de.useState(""),[p,_]=de.useState(""),[b,S]=de.useState(""),[D,z]=de.useState(!1),[$,W]=de.useState(!1),[J,le]=de.useState(null),[ne,ue]=de.useState({}),Ie=()=>{r(""),u(""),g(""),_(""),S(""),z(!1),le(null),ue({})},me=()=>{e(!s),Ie()},Ee=()=>{const x={};let O=!0;return s?(n.trim()||(x.identifier="Digite seu email ou usurio.",O=!1),p||(x.password="Digite sua senha.",O=!1)):(f.trim()?f.length<3&&(x.username="Mnimo de 3 caracteres.",O=!1):(x.username="Escolha um nome de usurio.",O=!1),l.trim()?/\S+@\S+\.\S+/.test(l)||(x.email="Email invlido.",O=!1):(x.email="Email obrigatrio.",O=!1),p?p.length<6&&(x.password="Mnimo de 6 caracteres.",O=!1):(x.password="Senha obrigatria.",O=!1),p!==b&&(x.confirmPassword="As senhas no coincidem.",O=!1),D||(le("Voc deve aceitar os Termos de Uso."),O=!1)),ue(x),O},C=async x=>{if(x.preventDefault(),le(null),!!Ee()){W(!0);try{let O=n;if(!/\S+@\S+\.\S+/.test(n)){const he=Kl(eo(fn,"users"),vh("username","==",n)),Ne=await Bm(he);if(Ne.empty)throw new Error("user-not-found-by-username");O=Ne.docs[0].data().email}await fx(Eh,O,p)}catch(O){console.error(O),I(O)}finally{W(!1)}}},w=async x=>{if(x.preventDefault(),le(null),!!Ee()){W(!0);try{const O=Kl(eo(fn,"users"),vh("username","==",f));if(!(await Bm(O)).empty)throw new Error("username-taken");const Ne=(await zE(Eh,l,p)).user,F={uid:Ne.uid,email:Ne.email,username:f,displayName:f,role:"visitor",createdAt:new Date().toISOString()};await CT(Wi(fn,"users",Ne.uid),F),await mx(Ne,{displayName:f})}catch(O){console.error(O),I(O)}finally{W(!1)}}},I=x=>{x.message==="username-taken"?ue(O=>({...O,username:"Este usurio j existe."})):x.message==="user-not-found-by-username"?le("Usurio no encontrado."):x.code==="auth/invalid-credential"||x.code==="auth/user-not-found"||x.code==="auth/wrong-password"?le("Credenciais incorretas."):x.code==="auth/email-already-in-use"?ue(O=>({...O,email:"Este email j est em uso."})):x.code==="auth/weak-password"?ue(O=>({...O,password:"A senha  muito fraca."})):le("Ocorreu um erro. Tente novamente.")},V=x=>`
    w-full pl-10 pr-4 py-2.5 rounded-xl transition-all outline-none border backdrop-blur-sm
    ${ne[x]?"bg-red-50/50 border-red-300 text-red-900 focus:ring-2 focus:ring-red-200 focus:border-red-500 placeholder-red-300":"glass-input focus:ring-2 focus:ring-indigo-500/50 text-gray-900 dark:text-white placeholder-gray-500 border-glass-border"}
  `;return E.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:E.jsxs("div",{className:"glass-panel w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-500",children:[E.jsxs("div",{className:"p-8 pb-0 text-center",children:[E.jsx("div",{className:"bg-indigo-600 h-12 w-12 flex items-center justify-center rounded-xl text-white mx-auto mb-4 shadow-lg shadow-indigo-600/30",children:E.jsx("span",{className:"font-bold text-2xl heading-font",children:"N"})}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white heading-font",children:s?"Bem-vindo de volta":"Criar nova conta"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 text-sm",children:s?"Entre com seu usurio ou email":"Preencha os dados abaixo"})]}),E.jsxs("div",{className:"p-8",children:[J&&E.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50/80 border border-red-200 text-red-700 text-sm flex items-start gap-2 animate-in slide-in-from-top-2",children:[E.jsx(FA,{size:16,className:"shrink-0 mt-0.5"}),E.jsx("span",{children:J})]}),E.jsxs("form",{onSubmit:s?C:w,className:"space-y-4",noValidate:!0,children:[s&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email ou Usurio"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ne.identifier?"text-red-400":"text-gray-400"}`,children:E.jsx(eh,{size:18})}),E.jsx("input",{type:"text",className:V("identifier"),placeholder:"user123 ou email@exemplo.com",value:n,onChange:x=>{r(x.target.value),ne.identifier&&ue({...ne,identifier:""})}})]}),ne.identifier&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium ml-1",children:ne.identifier})]}),!s&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Usurio"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ne.username?"text-red-400":"text-gray-400"}`,children:E.jsx(eh,{size:18})}),E.jsx("input",{type:"text",className:V("username"),placeholder:"seu_usuario",value:f,onChange:x=>{g(x.target.value.toLowerCase().replace(/\s/g,"")),ne.username&&ue({...ne,username:""})}})]}),ne.username&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium ml-1",children:ne.username})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ne.email?"text-red-400":"text-gray-400"}`,children:E.jsx(Wv,{size:18})}),E.jsx("input",{type:"email",className:V("email"),placeholder:"seu@email.com",value:l,onChange:x=>{u(x.target.value),ne.email&&ue({...ne,email:""})}})]}),ne.email&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium ml-1",children:ne.email})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ne.password?"text-red-400":"text-gray-400"}`,children:E.jsx(Wc,{size:18})}),E.jsx("input",{type:"password",className:V("password"),placeholder:"",value:p,onChange:x=>{_(x.target.value),ne.password&&ue({...ne,password:""})}})]}),ne.password&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium ml-1",children:ne.password})]}),!s&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Confirmar Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ne.confirmPassword?"text-red-400":"text-gray-400"}`,children:E.jsx(Wc,{size:18})}),E.jsx("input",{type:"password",className:V("confirmPassword"),placeholder:"",value:b,onChange:x=>{S(x.target.value),ne.confirmPassword&&ue({...ne,confirmPassword:""})}})]}),ne.confirmPassword&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium ml-1",children:ne.confirmPassword})]}),!s&&E.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors backdrop-blur-sm ${D?"border-indigo-200 bg-indigo-50/50":"border-glass-border hover:bg-white/10"}`,onClick:()=>z(!D),children:[E.jsx("div",{className:`mt-0.5 ${D?"text-indigo-600":"text-gray-400"}`,children:D?E.jsx(pS,{size:20}):E.jsx(_S,{size:20})}),E.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 leading-snug",children:["Li e concordo com os ",E.jsx("span",{className:"text-indigo-600 font-bold hover:underline",children:"Termos de Uso"})," e Poltica de Privacidade da plataforma."]})]}),E.jsx("button",{type:"submit",disabled:$,className:"w-full h-11 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-all shadow-lg shadow-indigo-600/30 hover:shadow-indigo-600/40 active:scale-[0.98] flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-6",children:$?E.jsxs(E.Fragment,{children:[E.jsx(qr,{size:20,className:"animate-spin"})," Processando..."]}):s?"Entrar na Plataforma":"Criar Minha Conta"})]}),E.jsxs("div",{className:"mt-6 text-center border-t border-glass-border pt-6",children:[E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:s?"Ainda no tem acesso?":"J possui cadastro?"}),E.jsx("button",{onClick:me,className:"text-sm text-indigo-700 dark:text-indigo-400 font-bold hover:underline transition-all",children:s?"Criar uma conta gratuitamente":"Fazer login agora"})]})]})]})})},KN=()=>{const[s,e]=de.useState([]),[n,r]=de.useState(!0),[l,u]=de.useState(!1),[f,g]=de.useState(!1),[p,_]=de.useState(null),[b,S]=de.useState(""),[D,z]=de.useState(!1),[$,W]=de.useState(""),[J,le]=de.useState(""),[ne,ue]=de.useState(!1),[Ie,me]=de.useState(""),[Ee,C]=de.useState(null);de.useEffect(()=>{const he=Kl(eo(fn,"companies"),jN("createdAt","desc")),Ne=NT(he,F=>{const te=F.docs.map(fe=>({id:fe.id,...fe.data()}));e(te),r(!1)});return()=>Ne()},[]);const w=async he=>{if(he.preventDefault(),!b.trim()){W("O nome da empresa  obrigatrio.");return}z(!0);try{await zN(eo(fn,"companies"),{name:b,plan:"enterprise",status:"active",createdAt:BN()}),S(""),W(""),u(!1)}catch(Ne){console.error("Erro ao criar empresa:",Ne),alert("Erro ao criar empresa. Verifique o console.")}finally{z(!1)}},I=he=>{_(he),le(""),me(""),g(!0)},V=async he=>{if(he.preventDefault(),me(""),!J.trim()){me("Digite o email do usurio.");return}if(p){ue(!0);try{const Ne=s.find(Ge=>Ge.id===p);if(!Ne)throw new Error("Empresa no encontrada");const F=Kl(eo(fn,"users"),vh("email","==",J)),te=await Bm(F);if(te.empty){me("Usurio no encontrado."),ue(!1);return}const Ue=te.docs[0].id;await fm(Wi(fn,"companies",p),{ownerEmail:J}),await fm(Wi(fn,"users",Ue),{role:"admin",companyId:p,companyName:Ne.name}),g(!1)}catch(Ne){console.error("Erro ao vincular:",Ne),alert("Erro ao vincular dono.")}finally{ue(!1)}}},x=async he=>{window.confirm("Tem certeza? Isso pode deixar usurios rfos.")&&await IT(Wi(fn,"companies",he))},O=async he=>{const Ne=he.status==="active"?"inactive":"active";await fm(Wi(fn,"companies",he.id),{status:Ne})},R=he=>{navigator.clipboard.writeText(he),C(he),setTimeout(()=>C(null),2e3)};return E.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-text-900 flex items-center gap-3",children:[E.jsx(Hm,{className:"text-accent-600",size:32}),"Empresas Cadastradas"]}),E.jsx("p",{className:"text-text-600 mt-2",children:"Gerencie os clientes do seu SaaS."})]}),E.jsxs("button",{onClick:()=>{u(!0),S(""),W("")},className:"bg-accent-600 hover:bg-accent-700 text-white px-5 py-2.5 rounded-xl font-medium shadow-lg shadow-accent-600/20 flex items-center gap-2 transition-all active:scale-95 w-fit",children:[E.jsx(eE,{size:20}),"Nova Empresa"]})]}),E.jsxs("div",{className:"bg-background-50 rounded-xl border border-background-200 shadow-sm overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b border-background-200 flex items-center gap-3",children:[E.jsxs("div",{className:"relative flex-1 max-w-sm",children:[E.jsx(tE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-400",size:18}),E.jsx("input",{type:"text",placeholder:"Buscar empresas...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background-100 border-none text-text-900 focus:ring-2 focus:ring-accent-500/50 outline-none"})]}),E.jsxs("div",{className:"text-xs text-text-500 font-medium px-2",children:["Total: ",s.length]})]}),n?E.jsx("div",{className:"p-12 flex justify-center",children:E.jsx(qr,{className:"animate-spin text-accent-600",size:32})}):s.length===0?E.jsx("div",{className:"p-12 text-center text-text-500",children:'Nenhuma empresa cadastrada. Clique em "Nova Empresa" para comear.'}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-background-100/50 text-text-500 text-xs uppercase tracking-wider border-b border-background-200",children:[E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Empresa / ID"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dono (Admin)"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-background-200",children:s.map(he=>E.jsxs("tr",{className:"hover:bg-background-100/50 transition-colors group",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-text-900 text-base",children:he.name}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsx("code",{className:"text-[10px] bg-background-200 text-text-600 px-1.5 py-0.5 rounded font-mono",children:he.id}),E.jsx("button",{onClick:()=>R(he.id),className:"text-text-400 hover:text-accent-600 transition-colors",title:"Copiar ID",children:Ee===he.id?E.jsx(UA,{size:12}):E.jsx(QA,{size:12})})]})]})}),E.jsx("td",{className:"px-6 py-4",children:he.ownerEmail?E.jsx("span",{className:"text-sm text-text-700 bg-blue-50 px-2 py-1 rounded-md border border-blue-100 truncate max-w-[150px] inline-block",children:he.ownerEmail}):E.jsxs("button",{onClick:()=>I(he.id),className:"text-xs font-bold text-accent-600 hover:text-accent-700 hover:underline flex items-center gap-1",children:[E.jsx(AS,{size:14})," Vincular Dono"]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("button",{onClick:()=>O(he),className:`
                          px-2.5 py-1 rounded-full text-xs font-bold border cursor-pointer select-none transition-all
                          ${he.status==="active"?"bg-green-100 text-green-700 border-green-200 hover:bg-green-200":"bg-red-100 text-red-700 border-red-200 hover:bg-red-200"}
                        `,children:he.status==="active"?"Ativo":"Inativo"})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>x(he.id),className:"p-2 text-text-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir Empresa",children:E.jsx(nE,{size:18})}),E.jsx("button",{className:"p-2 text-text-400 hover:text-text-900 hover:bg-background-200 rounded-lg transition-colors",children:E.jsx(XA,{size:18})})]})})]},he.id))})]})})]}),l&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-background-50 rounded-2xl w-full max-w-md shadow-2xl border border-background-200 overflow-hidden animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"p-6 border-b border-background-200 flex justify-between items-center",children:[E.jsx("h3",{className:"text-xl font-bold text-text-900",children:"Nova Empresa"}),E.jsx("button",{onClick:()=>u(!1),className:"text-text-400 hover:text-text-900",children:""})]}),E.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",noValidate:!0,children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-text-700 mb-1.5",children:"Nome da Empresa"}),E.jsx("input",{type:"text",value:b,onChange:he=>{S(he.target.value),$&&W("")},placeholder:"Ex: Tech Solutions Ltda",className:`
                    w-full px-4 py-2.5 rounded-xl outline-none border transition-all
                    ${$?"bg-red-50 border-red-300 text-red-900 focus:ring-2 focus:ring-red-200 focus:border-red-500":"bg-background-100 border-background-300 focus:border-accent-600 focus:ring-2 focus:ring-accent-600/20"}
                  `,autoFocus:!0}),$&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:$})]}),E.jsxs("div",{className:"pt-4 flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2.5 rounded-xl border border-background-300 text-text-700 hover:bg-background-100 font-medium",children:"Cancelar"}),E.jsx("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2.5 rounded-xl bg-accent-600 hover:bg-accent-700 text-white font-medium shadow-lg shadow-accent-600/20 transition-all flex justify-center items-center gap-2",children:D?E.jsx(qr,{className:"animate-spin",size:18}):"Criar Empresa"})]})]})]})}),f&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-background-50 rounded-2xl w-full max-w-sm shadow-2xl border border-background-200 overflow-hidden animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"p-6 border-b border-background-200 flex justify-between items-center",children:[E.jsx("h3",{className:"text-xl font-bold text-text-900",children:"Vincular Dono"}),E.jsx("button",{onClick:()=>g(!1),className:"text-text-400 hover:text-text-900",children:""})]}),E.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",noValidate:!0,children:[E.jsxs("p",{className:"text-sm text-text-600",children:["Digite o email do usurio cadastrado na plataforma para torn-lo ",E.jsx("strong",{children:"Admin"})," desta empresa."]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-text-700 mb-1.5",children:"Email do Usurio"}),E.jsx("input",{type:"email",value:J,onChange:he=>{le(he.target.value),Ie&&me("")},placeholder:"usuario@email.com",className:`
                    w-full px-4 py-2.5 rounded-xl outline-none border transition-all
                    ${Ie?"bg-red-50 border-red-300 text-red-900 focus:ring-2 focus:ring-red-200 focus:border-red-500":"bg-background-100 border-background-300 focus:border-accent-600 focus:ring-2 focus:ring-accent-600/20"}
                  `,autoFocus:!0}),Ie&&E.jsx("p",{className:"mt-1 text-xs text-red-500 font-medium",children:Ie})]}),E.jsx("div",{className:"pt-2",children:E.jsx("button",{type:"submit",disabled:ne,className:"w-full px-4 py-2.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium shadow-lg shadow-blue-600/20 transition-all flex justify-center items-center gap-2",children:ne?E.jsx(qr,{className:"animate-spin",size:18}):"Vincular Usurio"})})]})]})})]})},YN=()=>{const{userProfile:s}=Kh(),[e,n]=de.useState([]),[r,l]=de.useState(!0),[u,f]=de.useState(!1),[g,p]=de.useState(""),[_,b]=de.useState(""),[S,D]=de.useState(""),[z,$]=de.useState(""),[W,J]=de.useState(!1),[le,ne]=de.useState(null);de.useEffect(()=>{if(!(s!=null&&s.companyId))return;const me=Kl(eo(fn,"users"),vh("companyId","==",s.companyId)),Ee=NT(me,C=>{const w=[];C.forEach(I=>{var x;const V=I.data();w.push({uid:I.id,displayName:V.displayName||"Sem nome",username:V.username||((x=V.email)==null?void 0:x.split("@")[0])||"user",email:V.email,role:V.role,createdAt:V.createdAt})}),n(w),l(!1)});return()=>Ee()},[s==null?void 0:s.companyId]);const ue=async me=>{if(me.preventDefault(),ne(null),!g||!_||!S||!z){ne("Preencha todos os campos.");return}if(z.length<6){ne("A senha deve ter pelo menos 6 caracteres.");return}J(!0);let Ee;try{const C="secondaryAppForUserCreation";Ee=t2().find(R=>R.name===C)||Ym(OT,C);const V=JE(Ee),O=(await zE(V,S,z)).user;await CT(Wi(fn,"users",O.uid),{uid:O.uid,email:S,displayName:g,username:_.toLowerCase().replace(/\s/g,""),role:"employee",companyId:s==null?void 0:s.companyId,companyName:s==null?void 0:s.companyName,createdAt:new Date().toISOString()}),await BE(V),p(""),b(""),D(""),$(""),f(!1)}catch(C){console.error(C),C.code==="auth/email-already-in-use"?ne("Este email j est cadastrado no sistema."):ne("Erro ao criar funcionrio. Tente novamente.")}finally{Ee&&await n2(Ee).catch(console.error),J(!1)}},Ie=async me=>{if(confirm("Tem certeza que deseja remover este funcionrio? O acesso dele ser revogado."))try{await IT(Wi(fn,"users",me))}catch(Ee){console.error("Erro ao deletar:",Ee),alert("Erro ao remover funcionrio.")}};return E.jsxs("div",{className:"max-w-6xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:[E.jsx(Yl,{className:"text-indigo-600 dark:text-indigo-400",size:32}),"Gesto de Equipe"]}),E.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Gerencie os acessos da ",E.jsx("strong",{children:(s==null?void 0:s.companyName)||"Sua Empresa"}),"."]})]}),E.jsxs("button",{onClick:()=>f(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl font-medium shadow-lg shadow-indigo-600/20 flex items-center gap-2 transition-all active:scale-95 w-fit",children:[E.jsx(eE,{size:20}),"Adicionar Funcionrio"]})]}),E.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b border-glass-border flex items-center gap-3",children:[E.jsxs("div",{className:"relative flex-1 max-w-sm",children:[E.jsx(tE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),E.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/50 dark:bg-black/20 border-none text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500/50 outline-none placeholder-gray-500"})]}),E.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium px-2",children:[e.length," membros"]})]}),r?E.jsx("div",{className:"p-12 flex justify-center",children:E.jsx(qr,{className:"animate-spin text-indigo-600",size:32})}):e.length===0?E.jsx("div",{className:"p-12 text-center text-gray-500",children:"Nenhum funcionrio encontrado. Adicione o primeiro membro da sua equipe!"}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-white/20 dark:bg-black/20 text-gray-600 dark:text-gray-400 text-xs uppercase tracking-wider border-b border-glass-border",children:[E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Nome / Usurio"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Email"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Funo"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-glass-border",children:e.map(me=>E.jsxs("tr",{className:"hover:bg-white/10 dark:hover:bg-white/5 transition-colors group",children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold text-sm",children:me.displayName.substring(0,2).toUpperCase()}),E.jsxs("div",{children:[E.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:me.displayName}),E.jsxs("div",{className:"text-xs text-gray-500",children:["@",me.username]})]})]})}),E.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300 text-sm",children:me.email}),E.jsx("td",{className:"px-6 py-4",children:me.role==="admin"?E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-amber-100/80 text-amber-800 border border-amber-200",children:[E.jsx(Fm,{size:12})," Gestor"]}):E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold bg-indigo-100/80 text-indigo-800 border border-indigo-200",children:[E.jsx(Zv,{size:12})," Colaborador"]})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsx("div",{className:"flex items-center justify-end gap-2",children:me.uid!==(s==null?void 0:s.uid)&&E.jsx("button",{onClick:()=>Ie(me.uid),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remover Acesso",children:E.jsx(nE,{size:18})})})})]},me.uid))})]})})]}),u&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"glass-panel bg-white dark:bg-gray-900 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"p-6 border-b border-glass-border flex justify-between items-center bg-white/50 dark:bg-black/20",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Novo Colaborador"}),E.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white",children:""})]}),E.jsxs("form",{onSubmit:ue,className:"p-6 space-y-4",children:[le&&E.jsx("div",{className:"p-3 bg-red-50/90 text-red-700 text-sm rounded-lg border border-red-200",children:le}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Nome Completo"}),E.jsxs("div",{className:"relative",children:[E.jsx(eh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"text",value:g,onChange:me=>p(me.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl glass-input focus:ring-2 focus:ring-indigo-500/50 outline-none transition-all text-gray-900 dark:text-white placeholder-gray-500",placeholder:"Ex: Joo da Silva"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Nome de Usurio (Acesso)"}),E.jsxs("div",{className:"relative",children:[E.jsx(eh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"text",value:_,onChange:me=>b(me.target.value.toLowerCase().replace(/\s/g,"")),className:"w-full pl-10 pr-4 py-2.5 rounded-xl glass-input focus:ring-2 focus:ring-indigo-500/50 outline-none transition-all text-gray-900 dark:text-white placeholder-gray-500",placeholder:"joaosilva"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email Corporativo"}),E.jsxs("div",{className:"relative",children:[E.jsx(Wv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"email",value:S,onChange:me=>D(me.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl glass-input focus:ring-2 focus:ring-indigo-500/50 outline-none transition-all text-gray-900 dark:text-white placeholder-gray-500",placeholder:"joao@suaempresa.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Senha Provisria"}),E.jsxs("div",{className:"relative",children:[E.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"password",value:z,onChange:me=>$(me.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl glass-input focus:ring-2 focus:ring-indigo-500/50 outline-none transition-all text-gray-900 dark:text-white placeholder-gray-500",placeholder:"Mnimo 6 caracteres"})]})]}),E.jsxs("div",{className:"pt-4 flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 rounded-xl border border-glass-border text-gray-700 dark:text-gray-300 hover:bg-white/10 font-medium",children:"Cancelar"}),E.jsx("button",{type:"submit",disabled:W,className:"flex-1 px-4 py-2.5 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white font-medium shadow-lg shadow-indigo-600/20 transition-all flex justify-center items-center gap-2",children:W?E.jsx(qr,{className:"animate-spin",size:18}):"Cadastrar"})]})]})]})})]})},kT=de.createContext(void 0),XN=({children:s})=>{const[e,n]=de.useState(()=>localStorage.getItem("theme")||"system");return de.useEffect(()=>{const r=window.document.documentElement;if(r.classList.remove("light","dark"),e==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";r.classList.add(l)}else r.classList.add(e);localStorage.setItem("theme",e)},[e]),de.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),l=()=>{if(e==="system"){const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(r.matches?"dark":"light")}};return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[e]),E.jsx(kT.Provider,{value:{theme:e,setTheme:n},children:s})},$N=()=>{const s=de.useContext(kT);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},ZN=()=>{const{theme:s,setTheme:e}=$N();return E.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Configuraes"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Gerencie suas preferncias e aparncia do sistema."})]}),E.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden",children:[E.jsx("div",{className:"p-6 border-b border-glass-border",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:E.jsx(uS,{size:20})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Aparncia"}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Personalize como o NerfasSaaS se parece para voc."})]})]})}),E.jsxs("div",{className:"p-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-4",children:"Tema da Interface"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["light","dark","system"].map(n=>E.jsxs("button",{onClick:()=>e(n),className:`
                  relative p-4 rounded-xl border-2 text-left transition-all hover:bg-white/10 flex flex-col gap-3
                  ${s===n?"border-indigo-600 bg-indigo-50/50 ring-1 ring-indigo-600":"border-glass-border bg-white/5"}
                `,children:[E.jsx("div",{className:`p-3 rounded-full w-fit ${s===n?"bg-indigo-200 text-indigo-800":"bg-gray-200 text-gray-600"}`,children:n==="system"?E.jsx(ZA,{size:24}):n==="light"?E.jsx(ES,{size:24}):E.jsx(oS,{size:24})}),E.jsx("div",{children:E.jsx("span",{className:"block font-semibold text-gray-900 dark:text-white capitalize",children:n==="system"?"Sistema":n==="light"?"Claro":"Escuro"})})]},n))})]})]})]})},JN=({onNavigate:s})=>E.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[E.jsxs("div",{className:"bg-gradient-to-r from-indigo-900 to-purple-900 rounded-2xl p-8 text-white relative overflow-hidden shadow-xl",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Painel do Administrador SaaS"}),E.jsx("p",{className:"text-indigo-200",children:"Viso completa de todas as empresas cadastradas e faturamento."})]}),E.jsx(Fm,{className:"absolute right-[-20px] bottom-[-40px] text-indigo-800 opacity-50",size:180})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"glass-card p-6 rounded-xl hover:translate-y-[-2px] hover:shadow-lg transition-all",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"p-3 bg-purple-100 text-purple-700 rounded-lg",children:E.jsx(Hm,{})}),E.jsx("span",{className:"text-green-600 text-sm font-bold",children:"+12%"})]}),E.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Empresas Ativas"}),E.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"1,240"})]}),E.jsxs("div",{className:"glass-card p-6 rounded-xl hover:translate-y-[-2px] hover:shadow-lg transition-all",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-lg",children:E.jsx(Jv,{})}),E.jsx("span",{className:"text-green-600 text-sm font-bold",children:"+5%"})]}),E.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Receita Mensal (MRR)"}),E.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"R$ 482k"})]}),E.jsxs("div",{className:"glass-card p-6 rounded-xl hover:translate-y-[-2px] hover:shadow-lg transition-all",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-lg",children:E.jsx(Yl,{})}),E.jsx("span",{className:"text-blue-600 text-sm font-bold",children:"Total"})]}),E.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Usurios na Plataforma"}),E.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"15,403"})]})]}),E.jsxs("div",{className:"glass-panel rounded-xl p-6",children:[E.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white mb-4",children:"Gerenciamento do Sistema"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Voc no tem acesso s ferramentas de usurio final aqui. Seu foco  infraestrutura."}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:()=>s("saas-companies"),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors shadow-lg shadow-indigo-600/20",children:"Gerenciar Clientes"}),E.jsx("button",{className:"px-4 py-2 bg-white/50 dark:bg-black/20 hover:bg-white/80 dark:hover:bg-black/40 text-gray-800 dark:text-gray-200 rounded-lg font-medium transition-colors border border-glass-border",children:"Logs do Servidor"})]})]})]}),WN=({onNavigate:s})=>E.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[E.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:E.jsxs("div",{className:"flex-1 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-8 text-white relative overflow-hidden shadow-lg shadow-orange-500/20",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Gesto Empresarial"}),E.jsx("p",{className:"text-orange-100",children:"Controle sua equipe, acesse dados sensveis e gerencie ferramentas."}),E.jsx("button",{onClick:()=>s("app-tools"),className:"mt-6 bg-white text-orange-600 px-6 py-2.5 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-sm",children:"Ir para Ferramentas do App"})]}),E.jsx(t4,{className:"absolute right-[-20px] bottom-[-30px] text-white opacity-20",size:160})]})}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"glass-card p-6 rounded-xl border-l-4 border-l-red-400 relative overflow-hidden group",children:[E.jsxs("div",{className:"absolute top-0 right-0 p-2 bg-red-100 text-red-600 text-xs font-bold flex items-center gap-1 rounded-bl-xl",children:[E.jsx(Wc,{size:12})," DADOS SENSVEIS"]}),E.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[E.jsx(jA,{className:"text-gray-500"})," Performance da Equipe"]}),E.jsxs("div",{className:"space-y-4 mt-4",children:[E.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 dark:bg-black/20 rounded-lg border border-glass-border",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Produtividade Semanal"}),E.jsx("span",{className:"text-green-600 font-bold",children:"+24%"})]}),E.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 dark:bg-black/20 rounded-lg border border-glass-border",children:[E.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custo Operacional"}),E.jsx("span",{className:"text-red-500 font-bold",children:"R$ 12.450,00"})]})]}),E.jsx("button",{onClick:()=>s("financial"),className:"w-full mt-4 py-2 border border-glass-border text-gray-600 dark:text-gray-300 rounded-lg hover:bg-white/20 text-sm font-medium transition-colors",children:"Ver Relatrio Financeiro Completo"})]}),E.jsxs("div",{className:"glass-card p-6 rounded-xl",children:[E.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[E.jsx(Yl,{className:"text-gray-500"})," Colaboradores"]}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Gerencie acessos e licenas da sua equipe."}),E.jsxs("div",{className:"flex -space-x-2 mb-4",children:[[1,2,3,4].map(e=>E.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white dark:border-gray-800 bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600",children:"USR"},e)),E.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white dark:border-gray-800 bg-indigo-100 flex items-center justify-center text-xs font-bold text-indigo-700",children:"+12"})]}),E.jsx("button",{onClick:()=>s("employees"),className:"text-indigo-600 dark:text-indigo-400 font-medium text-sm hover:underline",children:"Gerenciar todos os funcionrios "})]})]})]}),e4=({onNavigate:s})=>E.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[E.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white shadow-lg shadow-blue-500/20",children:[E.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Ol, bem-vindo de volta!"}),E.jsx("p",{className:"text-blue-100 max-w-xl",children:"Acesse as ferramentas disponibilizadas pela sua empresa para realizar suas tarefas dirias com eficincia."})]}),E.jsxs("div",{className:"mb-6",children:[E.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[E.jsx(CS,{size:20,className:"text-indigo-600"}),"Minhas Ferramentas"]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Gesto de Tarefas","Automao de Email","Chat Corporativo"].map((e,n)=>E.jsxs("button",{onClick:()=>s("app-tools"),className:"glass-card p-6 rounded-xl hover:border-indigo-400 hover:shadow-lg hover:shadow-indigo-500/10 transition-all duration-300 text-left group",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-100 text-indigo-700 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:E.jsx(jl,{size:24})}),E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-1",children:e}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Clique para acessar esta funcionalidade."})]},n))})]}),E.jsxs("div",{className:"bg-amber-50/50 border border-amber-200/50 rounded-lg p-4 flex gap-3 text-amber-800 text-sm backdrop-blur-sm",children:[E.jsx(Fm,{size:20,className:"shrink-0"}),E.jsxs("p",{children:["Voc tem acesso nvel ",E.jsx("strong",{children:"Colaborador"}),". Configuraes administrativas e dados financeiros so restritos aos gestores."]})]})]}),Kv=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh] text-center max-w-lg mx-auto animate-in zoom-in-95",children:[E.jsx("div",{className:"bg-white/20 p-6 rounded-full mb-6 text-gray-500 backdrop-blur-md border border-white/20",children:E.jsx(Yl,{size:64})}),E.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Aguardando Vnculo"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg leading-relaxed",children:"Seu cadastro foi realizado com sucesso, mas voc ainda no est vinculado a nenhuma empresa."}),E.jsxs("div",{className:"mt-8 p-4 bg-blue-50/50 border border-blue-100/50 rounded-xl text-blue-800 text-sm text-left backdrop-blur-sm",children:[E.jsx("strong",{children:"Como prosseguir:"}),E.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[E.jsx("li",{children:"Se voc contratou o SaaS, aguarde a ativao pelo Administrador."}),E.jsx("li",{children:"Se voc  funcionrio, pea ao seu gestor para adicionar seu email  equipe."})]})]})]}),qc=({title:s,icon:e})=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] text-gray-400 animate-in zoom-in-95 duration-300",children:[E.jsx("div",{className:"glass-panel p-6 rounded-full mb-4",children:E.jsx(e,{size:48})}),E.jsx("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-300 mb-2",children:s}),E.jsx("p",{children:"Esta funcionalidade est disponvel para seu nvel de acesso."})]}),t4=({size:s,className:e})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"currentColor",className:e,children:E.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})}),n4=()=>{const[s,e]=de.useState("dashboard"),{user:n,userProfile:r,loading:l}=Kh();if(l)return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white dark:from-gray-900 dark:to-black flex items-center justify-center",children:E.jsx(qr,{className:"animate-spin text-indigo-600",size:48})});if(!n)return E.jsx(QN,{});const u=()=>{const f=(r==null?void 0:r.role)||"visitor";if(s==="settings")return E.jsx(ZN,{});switch(f){case"superuser":if(s==="dashboard")return E.jsx(JN,{onNavigate:e});if(s==="saas-companies")return E.jsx(KN,{});if(s==="saas-metrics")return E.jsx(qc,{title:"Mtricas Globais",icon:$v});break;case"admin":if(s==="dashboard")return E.jsx(WN,{onNavigate:e});if(s==="employees")return E.jsx(YN,{});if(s==="financial")return E.jsx(qc,{title:"Financeiro da Empresa",icon:Jv});if(s==="app-tools")return E.jsx(qc,{title:"Ferramentas",icon:jl});break;case"employee":if(s==="dashboard")return E.jsx(e4,{onNavigate:e});if(s==="app-tools")return E.jsx(qc,{title:"Ferramentas",icon:jl});break;default:return E.jsx(Kv,{})}return E.jsx(Kv,{})};return E.jsx(GN,{currentView:s,onNavigate:e,userRole:(r==null?void 0:r.role)||"employee",children:u()})},jT=document.getElementById("root");if(!jT)throw new Error("No foi possvel encontrar o elemento root para montar a aplicao");const i4=SA.createRoot(jT);i4.render(E.jsx(pA.StrictMode,{children:E.jsx(XN,{children:E.jsx(qN,{children:E.jsx(n4,{})})})}));
